;/*FB_PKG_DELIM*/

__d("WAWebMediaEditControllerGetters",["WAWebGetters","WAWebGettersCaches"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories({createCache:d("WAWebGettersCaches").createMediaEditControllerCache});b=a.field;c=a.computed;e=a.clearCacheFor;f=e;d=b("stage");a=b("cropOverlay");e=b("mediaContainer");b=c(function(a){var b=a[0],c=a[1];a=a[2];return!!b&&!!c&&!!a},[d,a,e]);g.clearMediaEditControllerGetterCacheFor=f;g.getStage=d;g.getCropOverlay=a;g.getmMediaContainer=e;g.getIsInitialized=b}),98);
__d("WAWebWamEnumChannelForwardContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({UPDATE:0,UPDATE_CARD:1});f.CHANNEL_FORWARD_CONTENT_TYPE=a}),66);
__d("WAWebWamEnumCtwaLabelTarget",[],(function(a,b,c,d,e,f){a=Object.freeze({CHAT:0,MESSAGE:1});f.CTWA_LABEL_TARGET=a}),66);
__d("WAWebWamEnumCtwaLabelType",[],(function(a,b,c,d,e,f){a=Object.freeze({NEW_ORDER:0,PENDING_PAYMENT:1,PAID:2,ORDER_COMPLETE:3});f.CTWA_LABEL_TYPE=a}),66);
__d("WAWebWamEnumOrderSignalType",[],(function(a,b,c,d,e,f){a=Object.freeze({CREATED:0,UPDATED:1});f.ORDER_SIGNAL_TYPE=a}),66);
__d("WAWebWamEnumOrderStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PROCESSING:0,SHIPPED:1,COMPLETED:2,CANCELLED:3,PENDING:4,PARTIALLY_SHIPPED:5,PAID_CHANGE:6});f.ORDER_STATUS=a}),66);
__d("WAWebWamEnumWebContactListStartNewChatType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,GROUP:2,CONTACTLESS:3});f.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=a}),66);
__d("WAWebCtwa3pdConversionWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ctwa3pdConversion:[5138,{ctwa3pdConversionMetadata:[1,a.TYPES.STRING],ctwa3pdConversionSubtype:[2,a.TYPES.STRING],ctwa3pdConversionType:[3,a.TYPES.STRING],ctwa3pdSchemaVersion:[4,a.TYPES.INTEGER],ctwa3pdSurfaceType:[5,a.TYPES.STRING],ctwaTrackingPayload:[6,a.TYPES.STRING]},[1,1,1],"regular"]},{Ctwa3pdConversion:[]});g.Ctwa3pdConversionWamEvent=b}),98);
__d("WAWebCtwaLabelSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCtwaLabelTarget","WAWebWamEnumCtwaLabelType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaLabelSignal:[4662,{ctwaLabelSignalVersion:[1,a.TYPES.INTEGER],ctwaLabelTarget:[2,d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET],ctwaLabelType:[3,d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE],deepLinkConversionData:[4,a.TYPES.STRING],deepLinkConversionSource:[5,a.TYPES.STRING],eventSharingSettingEnabled:[6,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[7,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{CtwaLabelSignal:[]});g.CtwaLabelSignalWamEvent=b}),98);
__d("WAWebCtwaOrderSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaOrderSignal:[4264,{ctwaOrderSignalVersion:[1,a.TYPES.INTEGER],deepLinkConversionData:[2,a.TYPES.STRING],deepLinkConversionSource:[3,a.TYPES.STRING],eventSharingSettingEnabled:[4,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[5,a.TYPES.BOOLEAN],orderPaid:[8,a.TYPES.BOOLEAN],orderSignalType:[6,d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE],orderStatus:[7,d("WAWebWamEnumOrderStatus").ORDER_STATUS]},[1,1,1],"regular"]},{CtwaOrderSignal:[]});g.CtwaOrderSignalWamEvent=b}),98);
__d("WAWebPsChannelPostForwardWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelForwardContentType","WAWebWamEnumMediaType","WAWebWamEnumMessageChatType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({PsChannelPostForward:[4746,{channelForwardContentType:[6,d("WAWebWamEnumChannelForwardContentType").CHANNEL_FORWARD_CONTENT_TYPE],channelForwardGroupType:[1,d("WAWebWamEnumMessageChatType").MESSAGE_CHAT_TYPE],cid:[2,a.TYPES.STRING],destinationChannelId:[7,a.TYPES.STRING],destinationPostId:[8,a.TYPES.STRING],mediaType:[3,d("WAWebWamEnumMediaType").MEDIA_TYPE],postId:[4,a.TYPES.STRING]},[1,1,1],"private",0]},{PsChannelPostForward:[]});g.PsChannelPostForwardWamEvent=b}),98);
__d("WAWebWebContactListStartNewChatWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebContactListStartNewChatType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebContactListStartNewChat:[4560,{webContactListStartNewChatSearch:[1,d("WAWebWamCodegenUtils").TYPES.BOOLEAN],webContactListStartNewChatType:[2,d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE]},[1,1,1],"regular"]},{WebContactListStartNewChat:[]});g.WebContactListStartNewChatWamEvent=a}),98);
__d("WAWebWebcMediaEditorSendWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcMediaEditorSend:[2890,{blurImageCount:[7,a.TYPES.INTEGER],editedImageCount:[2,a.TYPES.INTEGER],emojiLayerCount:[5,a.TYPES.INTEGER],imageCount:[1,a.TYPES.INTEGER],paintedImageCount:[3,a.TYPES.INTEGER],stickerLayerCount:[6,a.TYPES.INTEGER],textLayerCount:[4,a.TYPES.INTEGER]},[1,1,1],"regular"]},{WebcMediaEditorSend:[]});g.WebcMediaEditorSendWamEvent=b}),98);
__d("WAWebSmb3pdConversionSignalAction",["WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebChatModel","WAWebCommonCTWADataSharing","WAWebCtwa3pdConversionWamEvent","WAWebFrontendMsgGetters","WAWebLabelCollection","WAWebMsgModel","WAWebOrderStatus"],(function(a,b,c,d,e,f,g){var h=function(a,b){if(b==="order_created"||a==null)return"processing";b;switch(a){case d("WAWebOrderStatus").OrderStatus.Shipped:return"shipped";case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return"completed";case d("WAWebOrderStatus").OrderStatus.Canceled:return"canceled";case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return"processing"}},i=function(a){var b=a.chat,e=a.surface,f=a.type,g=a.subType,i=a.orderStatus;a=a.paidData;b=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(b);if(b==null)return;if(d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()!==d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"])return;if(d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1)return;i=g==null?h((i=i)!=null?i:null,f):g;g={ctwa3pdSchemaVersion:2,ctwa3pdSurfaceType:e,ctwa3pdConversionType:f,ctwa3pdConversionSubtype:i,ctwa3pdConversionMetadata:JSON.stringify(a)};b.data!=null&&(g.ctwaTrackingPayload=b.data);new(d("WAWebCtwa3pdConversionWamEvent").Ctwa3pdConversionWamEvent)(g).commit()},j=function(a,b,c){a=d("WAWebLabelCollection").LabelCollection.get(a);if(a==null)return;a=a.predefinedId;if(a==null)return;if(!d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS_SET.has(a))return;var e=a===d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER?"order_created":"order_updated",f,g={paid:!1};switch(a){case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.ORDER_COMPLETE:f="order_complete";break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER:f="new_order";break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.PAID:f="paid";g.paid=!0;break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.PENDING_PAYMENT:f="pending_payment";break}i({paidData:g,chat:b,surface:c,type:e,subType:f})};a=function(a){var b=a.chat,c=a.type,e=a.orderStatus,f=a.paidData;a=a.isPaidStateChanged;if(!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;b={surface:"order",chat:b,type:c,orderStatus:e,paidData:f};a===!0&&(b.subType="paid_change");i(b)};var k=function(a,b){var c="label_chat";a.forEach(function(a){b.forEach(function(b){j(b,a,c)})})},l=function(a,b){var c="label_message";a.forEach(function(a){var e=d("WAWebFrontendMsgGetters").getChat(a);b.forEach(function(a){j(a,e,c)})})};b=function(a,b){if(a.length===0||b.length===0)return;if(d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1)return;a=a.reduce(function(a,b){b instanceof d("WAWebChatModel").Chat?a.chats.push(b):b instanceof d("WAWebMsgModel").Msg&&a.messages.push(b);return a},{chats:[],messages:[]});var c=a.chats;a=a.messages;c.length>0&&d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForChats()&&k(c,b);a.length>0&&d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForMessages()&&l(a,b)};g.log3pdConversionSignalForOrders=a;g.log3pdConversionSignalForChatsOrMessages=b}),98);
__d("WAWebSmbMarkAsXLabelAction",["WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebChatModel","WAWebCommonCTWADataSharing","WAWebCtwaLabelSignalWamEvent","WAWebFrontendMsgGetters","WAWebLabelCollection","WAWebMsgModel","WAWebWamEnumCtwaLabelTarget","WAWebWamEnumCtwaLabelType"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ctwa][labels] logLabelAddedToMessageAction: chat is missing for a provided message"]);h=function(){return a};return a}var i=new Map([[(a=d("WAWebCTWAConstants")).ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER,(b=d("WAWebWamEnumCtwaLabelType")).CTWA_LABEL_TYPE.NEW_ORDER],[a.ALLOWED_PREDEFINED_LABEL_IDS.PENDING_PAYMENT,b.CTWA_LABEL_TYPE.PENDING_PAYMENT],[a.ALLOWED_PREDEFINED_LABEL_IDS.PAID,b.CTWA_LABEL_TYPE.PAID],[a.ALLOWED_PREDEFINED_LABEL_IDS.ORDER_COMPLETE,b.CTWA_LABEL_TYPE.ORDER_COMPLETE]]),j={globalSharingSettingEnabled:!1},k=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();switch(b){case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]:return{globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a};case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]:return j;case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE.notset:default:return null}},l=function(a,b,e){var f=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(f==null||!d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForChats())return;b.forEach(function(a){a=babelHelpers["extends"]({ctwaLabelSignalVersion:1,ctwaLabelTarget:d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET.CHAT,ctwaLabelType:a,deepLinkConversionSource:f.source},k(e));d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1&&(a.deepLinkConversionData=f.data);new(d("WAWebCtwaLabelSignalWamEvent").CtwaLabelSignalWamEvent)(a).commit()})},m=function(a,b,e){a=d("WAWebFrontendMsgGetters").getChat(a);if(!a){d("WALogger").ERROR(h());return}var f=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(f==null||!d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForMessages())return;b.forEach(function(a){new(d("WAWebCtwaLabelSignalWamEvent").CtwaLabelSignalWamEvent)(babelHelpers["extends"]({ctwaLabelSignalVersion:1,ctwaLabelTarget:d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET.MESSAGE,ctwaLabelType:a,deepLinkConversionData:f.data,deepLinkConversionSource:f.source},k(e))).commit()})};e=function(a,b,c){var e=[];b.forEach(function(a){a=d("WAWebLabelCollection").LabelCollection.get(a);a=a==null?void 0:a.predefinedId;if(a==null)return;a=i.get(a);a!=null&&e.push(a)});if(e.length===0)return;if(a[0]instanceof d("WAWebMsgModel").Msg){m(a[0],e,c);return}a.forEach(function(a){a instanceof d("WAWebChatModel").Chat&&l(a,e,c)})};g.logLabelSignalForModels=e}),98);
__d("WAWebSmbMarkAsXOrderAction",["WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebCommonCTWADataSharing","WAWebCtwaOrderSignalWamEvent","WAWebOrderStatus","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){var h=function(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Processing:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING;case d("WAWebOrderStatus").OrderStatus.Shipped:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.SHIPPED;case d("WAWebOrderStatus").OrderStatus.Complete:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.COMPLETED;case d("WAWebOrderStatus").OrderStatus.Canceled:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.CANCELLED;case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Delivered:return null}},i=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]?a={globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a}:b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]?a={globalSharingSettingEnabled:!1}:a=null;return a};a=function(a,b,e,f){e=h(e);if(e==null)return;a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;f={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:f,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.UPDATED,orderStatus:e};d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1&&(f.deepLinkConversionData=a.data);new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},f,i(b))).commit()};b=function(a,b){a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;var e={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:!1,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.CREATED,orderStatus:d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING};d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1&&(e.deepLinkConversionData=a.data);new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},e,i(b))).commit()};g.markOrderAsUpdatedStatusAction=a;g.markOrderAsCreatedAction=b}),98);
__d("WAWebOrderDataSharingOptOutOrUpsell",["fbt","WASmaxInBizSettingsEnums","WAWebCTWADataSharingModel","WAWebCheckBox.react","WAWebCopyPasteSelectable.react","WAWebDataSharingUpsellModel","WAWebDrawerManager","WAWebFlex.react","WAWebModalManager","WAWebSMBDataSharingDrawer.react","WAWebSMBDataSharingSettingAction","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebWamEnumSmbDataSharingConsentSettingEntryPoint","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState,n={upsell:{lineHeight:"x1pd9pxj",overflowX:"x6ikm8r",overflowY:"x10wlt62",wordWrap:"x1vvkbs",$$css:!0},themeOrderCreate:{backgroundColor:"x1pl83jw",$$css:!0},themeLabelsOptOut:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xog00wb",$$css:!0}},o=function(a){d("WAWebModalManager").ModalManager.close(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebSMBDataSharingDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},entrypoint:a}))};function p(a){var b=a.children,c=a.entryPoint;return k.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{className:"x1ypdohk",id:"data-sharing-learn-more-link",selectable:!0,onClick:function(){return o(c)},children:b})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.checkboxValue,e=a.onCheckboxToggle;a=a.theme;var f=c("useWAWebUnmountSignal")(),g=m(null),i=g[0],j=g[1];l(function(){void d("WAWebSMBDataSharingSettingAction").getSMBDataSharingSettingAction().then(function(a){f.aborted||(j(a),d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(j))});return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(j)}},[f.aborted]);if(i==null||i===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE.notset)return null;var o;a==="order-create"?o=[n.themeOrderCreate,d("WAWebUISpacing").uiPadding.start16,d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.bottom32]:a==="order-update"?o=[d("WAWebUISpacing").uiPadding.start28,d("WAWebUISpacing").uiPadding.top48,d("WAWebUISpacing").uiPadding.bottom16]:a==="labels-opt-out"&&(o=[n.themeLabelsOptOut,d("WAWebUISpacing").uiMargin.top24,d("WAWebUISpacing").uiPadding.top12,d("WAWebUISpacing").uiPadding.start30]);g=i===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];i=i===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]&&c("WAWebDataSharingUpsellModel").isUpsellEnabled();var q;a==="labels-opt-out"?q=d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_LABELS_SCREEN:(a,q=d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_ORDER_SCREEN);a=a==="labels-opt-out"?h._("__JHASH__1Xq15p5pQdJ__JHASH__",[h._implicitParam("=m1",k.jsx(p,{entryPoint:q,children:h._("__JHASH__tmQ7MojBTej__JHASH__")}))]):h._("__JHASH__-3HURnKmtVO__JHASH__",[h._implicitParam("=m1",k.jsx(p,{entryPoint:q,children:h._("__JHASH__nM41f85EY-I__JHASH__")}))]);return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:o,children:[i?k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"12",color:"muted",xstyle:[d("WAWebUISpacing").uiMargin.bottom8,n.upsell],children:h._("__JHASH__pYuJ86ohGD3__JHASH__",[h._implicitParam("=m1",k.jsx(p,{entryPoint:q,children:h._("__JHASH__UU6CPff_gqR__JHASH__")}))])}):null,g?k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebCheckBox.react").CheckBox,{checked:b,onChange:e}),k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"12",color:"muted",xstyle:d("WAWebUISpacing").uiMargin.start16,children:a})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebHDPhotoMediaEditorDropdown",["fbt","WAWebAttachMediaModel","WAWebDropdown.react","WAWebDropdownItem.react","WAWebL10nFilesize","WAWebMediaGatingUtils","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react"));e=b.forwardRef;var l=b.useCallback,m={dropdownInfo:{borderTop:"x1v7dy8y",$$css:!0}},n={dropdownItemStandardQuality:function(){return h._("__JHASH__d3U9JYGho0k__JHASH__")},dropdownItemHDQuality:function(){return h._("__JHASH__nOALVLQk0Z1__JHASH__")},dropdownInfo:function(){return h._("__JHASH__HdP4EJX7msA__JHASH__")}};function o(a){var b=a.height,c=a.size,e=a.title;a=a.width;return k.jsxs("div",{children:[k.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:e}),c!=null&&a!=null&&b!=null&&k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{theme:"plain",color:"secondary",children:h._("__JHASH__4JL7FHugxLp__JHASH__",[h._param("filesize",d("WAWebL10nFilesize").getL10nFilesize(c)),h._param("width",a),h._param("height",b)])})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a,b){var c=a.selectedQuality,e=a.onChangeQuality,f=l(function(){c!==d("WAWebAttachMediaModel").MediaQuality.Standard&&e(d("WAWebAttachMediaModel").MediaQuality.Standard)},[e,c]),g=l(function(){c!==d("WAWebAttachMediaModel").MediaQuality.HD&&e(d("WAWebAttachMediaModel").MediaQuality.HD)},[e,c]),h=a.metadataByQuality.get(d("WAWebAttachMediaModel").MediaQuality.HD);a=a.metadataByQuality.get(d("WAWebAttachMediaModel").MediaQuality.Standard);var i=d("WAWebMediaGatingUtils").isStickyHQPhotoSettingEnabled()&&{dirX:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,style:{marginInlineStart:"-280px"}};return k.jsxs(d("WAWebDropdown.react").Dropdown,babelHelpers["extends"]({ref:b,flipOnRTL:!0,type:d("WAWebDropdown.react").MenuType.Dropdown,testid:void 0},i,{children:[k.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.bottom16],selected:c===d("WAWebAttachMediaModel").MediaQuality.Standard,testid:void 0,action:f,children:k.jsx(o,babelHelpers["extends"]({},a,{title:n.dropdownItemStandardQuality()}))}),k.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.bottom16],selected:c===d("WAWebAttachMediaModel").MediaQuality.HD,testid:void 0,action:g,children:k.jsx(o,babelHelpers["extends"]({},h,{title:n.dropdownItemHDQuality()}))}),k.jsx(d("WAWebWDSText.react").WDSTextMuted,{xstyle:[m.dropdownInfo,d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.start16,d("WAWebUISpacing").uiPadding.end16,d("WAWebUISpacing").uiPadding.bottom7],children:n.dropdownInfo()})]}))}a.displayName=a.name+" [from "+f.id+"]";c=e(a);g["default"]=c}),226);
__d("WAWebLogNewsletterMessageForward",["WAWebGetMessageChatTypeFromWid","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebPsChannelPostForwardWamEvent"],(function(a,b,c,d,e,f,g){function a(a,b){var c,e;c=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.id.remote:(c=a.forwardedNewsletterMessageInfo)==null?void 0:c.newsletterId;var f=a.getWamMediaType();e=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.serverId:(e=a.forwardedNewsletterMessageInfo)==null?void 0:e.serverMessageId;for(var g=0;g<b.length;g++){var i=b[g],j={channelForwardGroupType:d("WAWebGetMessageChatTypeFromWid").getMessageChatTypeFromWid(i.id),mediaType:f};h({origin:a.id.remote,destination:i})&&Object.assign(j,{cid:c==null?void 0:c.user,postId:e==null?void 0:e.toString(),destinationChannelId:i.id.user});new(d("WAWebPsChannelPostForwardWamEvent").PsChannelPostForwardWamEvent)(j).commit()}}function h(a){var b=a.origin;a=a.destination;return b.isNewsletter()&&a.id.isNewsletter()&&d("WAWebNewsletterGatingUtils").isNewsletterForwardToChannelLoggingEnabled()}g.logNewsletterMessageForward=a}),98);
__d("WAWeb-easeljs",[],(function(b,c,d,e,f,g){var h=h||{};h.extend=function(b,c){"use strict";function d(){this.constructor=b}return d.prototype=c.prototype,b.prototype=new d()},h=h||{},h.promote=function(b,c){"use strict";var d=b.prototype,e=Object.getPrototypeOf&&Object.getPrototypeOf(d)||d.__proto__;if(e){d[(c+="_")+"constructor"]=e.constructor;for(var f in e)Object.prototype.hasOwnProperty.call(d,f)&&"function"==typeof e[f]&&(d[c+f]=e[f])}return b},h=h||{},h.indexOf=function(b,c){"use strict";for(var d=0,e=b.length;e>d;d++)if(c===b[d])return d;return-1},h=h||{},(function(){"use strict";function b(b,c,d){this.type=b,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!c,this.cancelable=!!d,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},c.stopPropagation=function(){this.propagationStopped=!0},c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},c.remove=function(){this.removed=!0},c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)},c.set=function(b){for(var c in b)this[c]=b[c];return this},c.toString=function(){return"[Event (type="+this.type+")]"},h.Event=b})(),h=h||{},(function(){"use strict";function b(){this._listeners=null,this._captureListeners=null}var c=b.prototype;b.initialize=function(b){b.addEventListener=c.addEventListener,b.on=c.on,b.removeEventListener=b.off=c.removeEventListener,b.removeAllEventListeners=c.removeAllEventListeners,b.hasEventListener=c.hasEventListener,b.dispatchEvent=c.dispatchEvent,b._dispatchEvent=c._dispatchEvent,b.willTrigger=c.willTrigger},c.addEventListener=function(b,c,d){var e;e=d?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var f=e[b];return f&&this.removeEventListener(b,c,d),f=e[b],f?f.push(c):e[b]=[c],c},c.on=function(b,c,d,e,f,g){return c.handleEvent&&(d=d||c,c=c.handleEvent),d=d||this,this.addEventListener(b,function(b){c.call(d,b,f),e&&b.remove()},g)},c.removeEventListener=function(b,c,d){d=d?this._captureListeners:this._listeners;if(d){var e=d[b];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==c){1==g?delete d[b]:e.splice(f,1);break}}},c.off=c.removeEventListener,c.removeAllEventListeners=function(b){b?(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null},c.dispatchEvent=function(b,c,d){if("string"==typeof b){var e=this._listeners;if(!(c||e&&e[b]))return!0;b=new h.Event(b,c,d)}else b.target&&b.clone&&(b=b.clone());try{b.target=this}catch(b){}if(b.bubbles&&this.parent){for(e=this,c=[e];e.parent;)c.push(e=e.parent);d=c.length;for(e=d-1;e>=0&&!b.propagationStopped;e--)c[e]._dispatchEvent(b,1+(0==e));for(e=1;d>e&&!b.propagationStopped;e++)c[e]._dispatchEvent(b,3)}else this._dispatchEvent(b,2);return!b.defaultPrevented},c.hasEventListener=function(b){var c=this._listeners,d=this._captureListeners;return!!(c&&c[b]||d&&d[b])},c.willTrigger=function(b){for(var c=this;c;){if(c.hasEventListener(b))return!0;c=c.parent}return!1},c.toString=function(){return"[EventDispatcher]"},c._dispatchEvent=function(b,c){var d,e=1==c?this._captureListeners:this._listeners;if(b&&e){e=e[b.type];if(!e||!(d=e.length))return;try{b.currentTarget=this}catch(b){}try{b.eventPhase=c}catch(b){}b.removed=!1,e=e.slice();for(var f=0;d>f&&!b.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(b):g(b),b.removed&&(this.off(b.type,g,1==c),b.removed=!1)}}},h.EventDispatcher=b})(),h=h||{},(function(){"use strict";function b(){throw"Ticker cannot be instantiated."}b.RAF_SYNCHED="synched",b.RAF="raf",b.TIMEOUT="timeout",b.useRAF=!1,b.timingMode=null,b.maxDelta=0,b.paused=!1,b.removeEventListener=null,b.removeAllEventListeners=null,b.dispatchEvent=null,b.hasEventListener=null,b._listeners=null,h.EventDispatcher.initialize(b),b._addEventListener=b.addEventListener,b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)},b._inited=!1,b._startTime=0,b._pausedTime=0,b._ticks=0,b._pausedTicks=0,b._interval=50,b._lastTime=0,b._times=null,b._tickTimes=null,b._timerId=null,b._raf=!0,b.setInterval=function(c){b._interval=c,b._inited&&b._setupTick()},b.getInterval=function(){return b._interval},b.setFPS=function(c){b.setInterval(1e3/c)},b.getFPS=function(){return 1e3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(b){}b.init=function(){b._inited||(b._inited=!0,b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)},b.reset=function(){if(b._raf){var c=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;c&&c(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick"),b._timerId=b._times=b._tickTimes=null,b._startTime=b._lastTime=b._ticks=0,b._inited=!1},b.getMeasuredTickTime=function(d){var c=0,e=b._tickTimes;if(!e||e.length<1)return-1;d=Math.min(e.length,d||0|b.getFPS());for(var f=0;d>f;f++)c+=e[f];return c/d},b.getMeasuredFPS=function(d){var c=b._times;return!c||c.length<2?-1:(d=Math.min(c.length-1,d||0|b.getFPS()),1e3/((c[0]-c[d])/d))},b.setPaused=function(c){b.paused=c},b.getPaused=function(){return b.paused},b.getTime=function(c){return b._startTime?b._getTime()-(c?b._pausedTime:0):-1},b.getEventTime=function(c){return b._startTime?(b._lastTime||b._startTime)-(c?b._pausedTime:0):-1},b.getTicks=function(c){return b._ticks-(c?b._pausedTicks:0)},b._handleSynch=function(){b._timerId=null,b._setupTick(),b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()},b._handleRAF=function(){b._timerId=null,b._setupTick(),b._tick()},b._handleTimeout=function(){b._timerId=null,b._setupTick(),b._tick()},b._setupTick=function(){if(null==b._timerId){var d=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(d==b.RAF_SYNCHED||d==b.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return b._timerId=c(d==b.RAF?b._handleRAF:b._handleSynch),void (b._raf=!0)}b._raf=!1,b._timerId=setTimeout(b._handleTimeout,b._interval)}},b._tick=function(){var d=b.paused,c=b._getTime(),e=c-b._lastTime;if(b._lastTime=c,b._ticks++,d&&(b._pausedTicks++,b._pausedTime+=e),b.hasEventListener("tick")){var f=new h.Event("tick"),g=b.maxDelta;f.delta=g&&e>g?g:e,f.paused=d,f.time=c,f.runTime=c-b._pausedTime,b.dispatchEvent(f)}for(b._tickTimes.unshift(b._getTime()-c);b._tickTimes.length>100;)b._tickTimes.pop();for(b._times.unshift(c);b._times.length>100;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||new Date().getTime())-b._startTime},h.Ticker=b})(),h=h||{},(function(){"use strict";function b(){throw"UID cannot be instantiated"}b._nextID=0,b.get=function(){return b._nextID++},h.UID=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h,i,j,k,l){this.Event_constructor(b,c,d),this.stageX=e,this.stageY=f,this.rawX=null==j?e:j,this.rawY=null==k?f:k,this.nativeEvent=g,this.pointerID=h,this.primary=!!i,this.relatedTarget=l}var c=h.extend(b,h.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},c._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(c,{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(b){}c.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},h.MouseEvent=h.promote(b,"Event")})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g){this.setValues(b,c,d,e,f,g)}var c=b.prototype;b.DEG_TO_RAD=Math.PI/180,b.identity=null,c.setValues=function(b,c,d,e,f,g){return this.a=null==b?1:b,this.b=c||0,this.c=d||0,this.d=null==e?1:e,this.tx=f||0,this.ty=g||0,this},c.append=function(b,c,d,e,f,g){var h=this.a,i=this.b,j=this.c,k=this.d;return(1!=b||0!=c||0!=d||1!=e)&&(this.a=h*b+j*c,this.b=i*b+k*c,this.c=h*d+j*e,this.d=i*d+k*e),this.tx=h*f+j*g+this.tx,this.ty=i*f+k*g+this.ty,this},c.prepend=function(b,c,d,e,f,g){var h=this.a,i=this.c,j=this.tx;return this.a=b*h+d*this.b,this.b=c*h+e*this.b,this.c=b*i+d*this.d,this.d=c*i+e*this.d,this.tx=b*j+d*this.ty+f,this.ty=c*j+e*this.ty+g,this},c.appendMatrix=function(b){return this.append(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.prependMatrix=function(b){return this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.appendTransform=function(c,d,e,f,g,h,i,j,k){if(g%360)var g=g*b.DEG_TO_RAD,l=Math.cos(g),g=Math.sin(g);else l=1,g=0;return h||i?(h*=b.DEG_TO_RAD,i*=b.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(h),Math.cos(h),c,d),this.append(l*e,g*e,-g*f,l*f,0,0)):this.append(l*e,g*e,-g*f,l*f,c,d),(j||k)&&(this.tx-=j*this.a+k*this.c,this.ty-=j*this.b+k*this.d),this},c.prependTransform=function(c,d,e,f,g,h,i,j,k){if(g%360)var g=g*b.DEG_TO_RAD,l=Math.cos(g),g=Math.sin(g);else l=1,g=0;return(j||k)&&(this.tx-=j,this.ty-=k),h||i?(h*=b.DEG_TO_RAD,i*=b.DEG_TO_RAD,this.prepend(l*e,g*e,-g*f,l*f,0,0),this.prepend(Math.cos(i),Math.sin(i),-Math.sin(h),Math.cos(h),c,d)):this.prepend(l*e,g*e,-g*f,l*f,c,d),this},c.rotate=function(c){c*=b.DEG_TO_RAD;var d=Math.cos(c);c=Math.sin(c);var e=this.a,f=this.b;return this.a=e*d+this.c*c,this.b=f*d+this.d*c,this.c=-e*c+this.c*d,this.d=-f*c+this.d*d,this},c.skew=function(c,d){return c*=b.DEG_TO_RAD,d*=b.DEG_TO_RAD,this.append(Math.cos(d),Math.sin(d),-Math.sin(c),Math.cos(c),0,0),this},c.scale=function(b,c){return this.a*=b,this.b*=b,this.c*=c,this.d*=c,this},c.translate=function(b,c){return this.tx+=this.a*b+this.c*c,this.ty+=this.b*b+this.d*c,this},c.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},c.invert=function(){var b=this.a,c=this.b,d=this.c,e=this.d,f=this.tx,g=b*e-c*d;return this.a=e/g,this.b=-c/g,this.c=-d/g,this.d=b/g,this.tx=(d*this.ty-e*f)/g,this.ty=-(b*this.ty-c*f)/g,this},c.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},c.equals=function(b){return this.tx===b.tx&&this.ty===b.ty&&this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d},c.transformPoint=function(b,c,d){return d=d||{},d.x=b*this.a+c*this.c+this.tx,d.y=b*this.b+c*this.d+this.ty,d},c.decompose=function(c){null==c&&(c={}),c.x=this.tx,c.y=this.ty,c.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),c.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var d=Math.atan2(-this.c,this.d),e=Math.atan2(this.b,this.a),f=Math.abs(1-d/e);return 1e-5>f?(c.rotation=e/b.DEG_TO_RAD,this.a<0&&this.d>=0&&(c.rotation+=c.rotation<=0?180:-180),c.skewX=c.skewY=0):(c.skewX=d/b.DEG_TO_RAD,c.skewY=e/b.DEG_TO_RAD),c},c.copy=function(b){return this.setValues(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)},c.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},b.identity=new b(),h.Matrix2D=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f){this.setValues(b,c,d,e,f)}var c=b.prototype;c.setValues=function(b,c,d,e,f){return this.visible=null==b?!0:!!b,this.alpha=null==c?1:c,this.shadow=d,this.compositeOperation=e,this.matrix=f||this.matrix&&this.matrix.identity()||new h.Matrix2D(),this},c.append=function(b,c,d,e,f){return this.alpha*=c,this.shadow=d||this.shadow,this.compositeOperation=e||this.compositeOperation,this.visible=this.visible&&b,f&&this.matrix.appendMatrix(f),this},c.prepend=function(b,c,d,e,f){return this.alpha*=c,this.shadow=this.shadow||d,this.compositeOperation=this.compositeOperation||e,this.visible=this.visible&&b,f&&this.matrix.prependMatrix(f),this},c.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},c.clone=function(){return new b(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},h.DisplayProps=b})(),h=h||{},(function(){"use strict";function b(b,c){this.setValues(b,c)}var c=b.prototype;c.setValues=function(b,c){return this.x=b||0,this.y=c||0,this},c.copy=function(b){return this.x=b.x,this.y=b.y,this},c.clone=function(){return new b(this.x,this.y)},c.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},h.Point=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.setValues(b,c,d,e)}var c=b.prototype;c.setValues=function(b,c,d,e){return this.x=b||0,this.y=c||0,this.width=d||0,this.height=e||0,this},c.extend=function(b,c,d,e){return d=d||0,e=e||0,b+d>this.x+this.width&&(this.width=b+d-this.x),c+e>this.y+this.height&&(this.height=c+e-this.y),b<this.x&&(this.width+=this.x-b,this.x=b),c<this.y&&(this.height+=this.y-c,this.y=c),this},c.pad=function(b,c,d,e){return this.x-=c,this.y-=b,this.width+=c+e,this.height+=b+d,this},c.copy=function(b){return this.setValues(b.x,b.y,b.width,b.height)},c.contains=function(b,c,d,e){return d=d||0,e=e||0,b>=this.x&&b+d<=this.x+this.width&&c>=this.y&&c+e<=this.y+this.height},c.union=function(b){return this.clone().extend(b.x,b.y,b.width,b.height)},c.intersection=function(c){var d=c.x,e=c.y,f=d+c.width;c=e+c.height;return this.x>d&&(d=this.x),this.y>e&&(e=this.y),this.x+this.width<f&&(f=this.x+this.width),this.y+this.height<c&&(c=this.y+this.height),d>=f||e>=c?null:new b(d,e,f-d,c-e)},c.intersects=function(b){return b.x<=this.x+this.width&&this.x<=b.x+b.width&&b.y<=this.y+this.height&&this.y<=b.y+b.height},c.isEmpty=function(){return this.width<=0||this.height<=0},c.clone=function(){return new b(this.x,this.y,this.width,this.height)},c.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},h.Rectangle=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h){b.addEventListener&&(this.target=b,this.overLabel=null==d?"over":d,this.outLabel=null==c?"out":c,this.downLabel=null==e?"down":e,this.play=f,this._isPressed=!1,this._isOver=!1,this._enabled=!1,b.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),g&&(h&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(h)),b.hitArea=g))}var c=b.prototype;c.setEnabled=function(b){if(b!=this._enabled){var c=this.target;this._enabled=b,b?(c.cursor="pointer",c.addEventListener("rollover",this),c.addEventListener("rollout",this),c.addEventListener("mousedown",this),c.addEventListener("pressup",this),c._reset&&(c.__reset=c._reset,c._reset=this._reset)):(c.cursor=null,c.removeEventListener("rollover",this),c.removeEventListener("rollout",this),c.removeEventListener("mousedown",this),c.removeEventListener("pressup",this),c.__reset&&(c._reset=c.__reset,delete c.__reset))}},c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(b){}c.toString=function(){return"[ButtonHelper]"},c.handleEvent=function(b){var c,d=this.target;b=b.type;"mousedown"==b?(this._isPressed=!0,c=this.downLabel):"pressup"==b?(this._isPressed=!1,c=this._isOver?this.overLabel:this.outLabel):"rollover"==b?(this._isOver=!0,c=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,c=this._isPressed?this.overLabel:this.outLabel),this.play?d.gotoAndPlay&&d.gotoAndPlay(c):d.gotoAndStop&&d.gotoAndStop(c)},c._reset=function(){var b=this.paused;this.__reset(),this.paused=b},h.ButtonHelper=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.color=b||"black",this.offsetX=c||0,this.offsetY=d||0,this.blur=e||0}var c=b.prototype;b.identity=new b("transparent",0,0,0),c.toString=function(){return"[Shadow]"},c.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)},h.Shadow=b})(),h=h||{},(function(){"use strict";function b(b){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(b)}var c=h.extend(b,h.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(b){}c.getNumFrames=function(b){if(null==b)return this._frames?this._frames.length:this._numFrames||0;b=this._data[b];return null==b?0:b.frames.length},c.getAnimation=function(b){return this._data[b]},c.getFrame=function(b){var c;return this._frames&&(c=this._frames[b])?c:null},c.getFrameBounds=function(b,c){b=this.getFrame(b);return b?(c||new h.Rectangle()).setValues(-b.regX,-b.regY,b.rect.width,b.rect.height):null},c.toString=function(){return"[SpriteSheet]"},c.clone=function(){throw"SpriteSheet cannot be cloned."},c._parseData=function(b){var c,d,e;if(null!=b){if(this.framerate=b.framerate||0,b.images&&(d=b.images.length)>0)for(e=this._images=[],c=0;d>c;c++){var f=b.images[c];if("string"==typeof f){var g=f;f=document.createElement("img"),f.src=g}e.push(f),f.getContext||f.naturalWidth||(this._loadCount++,this.complete=!1,function(b,c){f.onload=function(){b._handleImageLoad(c)}}(this,g),function(b,c){f.onerror=function(){b._handleImageError(c)}}(this,g))}if(!(null==b.frames))if(Array.isArray(b.frames))for(this._frames=[],e=b.frames,c=0,d=e.length;d>c;c++){var i=e[c];this._frames.push({image:this._images[i[4]?i[4]:0],rect:new h.Rectangle(i[0],i[1],i[2],i[3]),regX:i[5]||0,regY:i[6]||0})}else i=b.frames,this._frameWidth=i.width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._spacing=i.spacing||0,this._margin=i.margin||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(i=b.animations)){this._data={};for(b in i){var j={name:b},k=i[b];if("number"==typeof k)e=j.frames=[k];else if(Array.isArray(k))if(1==k.length)j.frames=[k[0]];else for(j.speed=k[3],j.next=k[2],e=j.frames=[],c=k[0];c<=k[1];c++)e.push(c);else{j.speed=k.speed,j.next=k.next;k=k.frames;e=j.frames="number"==typeof k?[k]:k.slice(0)}(j.next===!0||void 0===j.next)&&(j.next=b),(j.next===!1||e.length<2&&j.next==b)&&(j.next=null),j.speed||(j.speed=1),this._animations.push(b),this._data[b]=j}}}},c._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},c._handleImageError=function(b){var c=new h.Event("error");c.src=b,this.dispatchEvent(c),0==--this._loadCount&&this.dispatchEvent("complete")},c._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var b=this._numFrames||1e5,c=0,d=this._frameWidth,e=this._frameHeight,f=this._spacing,g=this._margin;a:for(var i=0,j=this._images;i<j.length;i++)for(var k=j[i],l=k.width,m=k.height,n=g;m-g-e>=n;){for(var o=g;l-g-d>=o;){if(c>=b)break a;c++,this._frames.push({image:k,rect:new h.Rectangle(o,n,d,e),regX:this._regX,regY:this._regY}),o+=d+f}n+=e+f}this._numFrames=c}},h.SpriteSheet=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var c=b.prototype,d=b;b.getRGB=function(b,c,d,e){return null!=b&&null==d&&(e=c,d=255&b,c=b>>8&255,b=b>>16&255),null==e?"rgb("+b+","+c+","+d+")":"rgba("+b+","+c+","+d+","+e+")"},b.getHSL=function(b,c,d,e){return null==e?"hsl("+b%360+","+c+"%,"+d+"%)":"hsla("+b%360+","+c+"%,"+d+"%,"+e+")"},b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},b.STROKE_CAPS_MAP=["butt","round","square"],b.STROKE_JOINTS_MAP=["miter","round","bevel"];var e=h.createCanvas?h.createCanvas():document.createElement("canvas");e.getContext&&(b._ctx=e.getContext("2d"),e.width=e.height=1),c.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(c,{instructions:{get:c.getInstructions}})}catch(b){}c.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},c.draw=function(b,c){this._updateInstructions();for(var d=this._instructions,e=this._storeIndex,f=d.length;f>e;e++)d[e].exec(b,c)},c.drawAsPath=function(b){this._updateInstructions();for(var c,d=this._instructions,e=this._storeIndex,f=d.length;f>e;e++)(c=d[e]).path!==!1&&c.exec(b)},c.moveTo=function(b,c){return this.append(new d.MoveTo(b,c),!0)},c.lineTo=function(b,c){return this.append(new d.LineTo(b,c))},c.arcTo=function(b,c,e,f,g){return this.append(new d.ArcTo(b,c,e,f,g))},c.arc=function(b,c,e,f,g,h){return this.append(new d.Arc(b,c,e,f,g,h))},c.quadraticCurveTo=function(b,c,e,f){return this.append(new d.QuadraticCurveTo(b,c,e,f))},c.bezierCurveTo=function(b,c,e,f,g,h){return this.append(new d.BezierCurveTo(b,c,e,f,g,h))},c.rect=function(b,c,e,f){return this.append(new d.Rect(b,c,e,f))},c.closePath=function(){return this._activeInstructions.length?this.append(new d.ClosePath()):this},c.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},c.beginFill=function(b){return this._setFill(b?new d.Fill(b):null)},c.beginLinearGradientFill=function(b,c,e,f,g,h){return this._setFill(new d.Fill().linearGradient(b,c,e,f,g,h))},c.beginRadialGradientFill=function(b,c,e,f,g,h,i,j){return this._setFill(new d.Fill().radialGradient(b,c,e,f,g,h,i,j))},c.beginBitmapFill=function(b,c,e){return this._setFill(new d.Fill(null,e).bitmap(b,c))},c.endFill=function(){return this.beginFill()},c.setStrokeStyle=function(b,c,e,f,g){return this._updateInstructions(!0),this._strokeStyle=this.command=new d.StrokeStyle(b,c,e,f,g),this._stroke&&(this._stroke.ignoreScale=g),this._strokeIgnoreScale=g,this},c.setStrokeDash=function(b,c){return this._updateInstructions(!0),this._strokeDash=this.command=new d.StrokeDash(b,c),this},c.beginStroke=function(b){return this._setStroke(b?new d.Stroke(b):null)},c.beginLinearGradientStroke=function(b,c,e,f,g,h){return this._setStroke(new d.Stroke().linearGradient(b,c,e,f,g,h))},c.beginRadialGradientStroke=function(b,c,e,f,g,h,i,j){return this._setStroke(new d.Stroke().radialGradient(b,c,e,f,g,h,i,j))},c.beginBitmapStroke=function(b,c){return this._setStroke(new d.Stroke().bitmap(b,c))},c.endStroke=function(){return this.beginStroke()},c.curveTo=c.quadraticCurveTo,c.drawRect=c.rect,c.drawRoundRect=function(b,c,d,e,f){return this.drawRoundRectComplex(b,c,d,e,f,f,f,f)},c.drawRoundRectComplex=function(b,c,e,f,g,h,i,j){return this.append(new d.RoundRect(b,c,e,f,g,h,i,j))},c.drawCircle=function(b,c,e){return this.append(new d.Circle(b,c,e))},c.drawEllipse=function(b,c,e,f){return this.append(new d.Ellipse(b,c,e,f))},c.drawPolyStar=function(b,c,e,f,g,h){return this.append(new d.PolyStar(b,c,e,f,g,h))},c.append=function(b,c){return this._activeInstructions.push(b),this.command=b,c||(this._dirty=!0),this},c.decodePath=function(c){for(var d=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],e=[2,2,4,6,0],f=0,g=c.length,h=[],i=0,j=0,k=b.BASE_64;g>f;){var l=c.charAt(f),m=k[l],n=m>>3,o=d[n];if(!o||3&m)throw"bad path data (@"+f+"): "+l;l=e[n];n||(i=j=0),h.length=0,f++;for(n=(m>>2&1)+2,m=0;l>m;m++){var a=k[c.charAt(f)],p=a>>5?-1:1;a=(31&a)<<6|k[c.charAt(f+1)],3==n&&(a=a<<6|k[c.charAt(f+2)]),a=p*a/10,m%2?i=a+=i:j=a+=j,h[m]=a,f+=n}o.apply(this,h)}return this},c.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},c.unstore=function(){return this._storeIndex=0,this},c.clone=function(){var c=new b();return c.command=this.command,c._stroke=this._stroke,c._strokeStyle=this._strokeStyle,c._strokeDash=this._strokeDash,c._strokeIgnoreScale=this._strokeIgnoreScale,c._fill=this._fill,c._instructions=this._instructions.slice(),c._commitIndex=this._commitIndex,c._activeInstructions=this._activeInstructions.slice(),c._dirty=this._dirty,c._storeIndex=this._storeIndex,c},c.toString=function(){return"[Graphics]"},c.mt=c.moveTo,c.lt=c.lineTo,c.at=c.arcTo,c.bt=c.bezierCurveTo,c.qt=c.quadraticCurveTo,c.a=c.arc,c.r=c.rect,c.cp=c.closePath,c.c=c.clear,c.f=c.beginFill,c.lf=c.beginLinearGradientFill,c.rf=c.beginRadialGradientFill,c.bf=c.beginBitmapFill,c.ef=c.endFill,c.ss=c.setStrokeStyle,c.sd=c.setStrokeDash,c.s=c.beginStroke,c.ls=c.beginLinearGradientStroke,c.rs=c.beginRadialGradientStroke,c.bs=c.beginBitmapStroke,c.es=c.endStroke,c.dr=c.drawRect,c.rr=c.drawRoundRect,c.rc=c.drawRoundRectComplex,c.dc=c.drawCircle,c.de=c.drawEllipse,c.dp=c.drawPolyStar,c.p=c.decodePath,c._updateInstructions=function(c){var d=this._instructions,e=this._activeInstructions,f=this._commitIndex;if(this._dirty&&e.length){d.length=f,d.push(b.beginCmd);f=e.length;var g=d.length;d.length=g+f;for(var h=0;f>h;h++)d[h+g]=e[h];this._fill&&d.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,d.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,d.push(this._strokeStyle)),d.push(this._stroke)),this._dirty=!1}c&&(e.length=0,this._commitIndex=d.length)},c._setFill=function(b){return this._updateInstructions(!0),this.command=this._fill=b,this},c._setStroke=function(b){return this._updateInstructions(!0),(this.command=this._stroke=b)&&(b.ignoreScale=this._strokeIgnoreScale),this},(d.LineTo=function(b,c){this.x=b,this.y=c}).prototype.exec=function(b){b.lineTo(this.x,this.y)},(d.MoveTo=function(b,c){this.x=b,this.y=c}).prototype.exec=function(b){b.moveTo(this.x,this.y)},(d.ArcTo=function(b,c,d,e,f){this.x1=b,this.y1=c,this.x2=d,this.y2=e,this.radius=f}).prototype.exec=function(b){b.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(d.Arc=function(b,c,d,e,f,g){this.x=b,this.y=c,this.radius=d,this.startAngle=e,this.endAngle=f,this.anticlockwise=!!g}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(d.QuadraticCurveTo=function(b,c,d,e){this.cpx=b,this.cpy=c,this.x=d,this.y=e}).prototype.exec=function(b){b.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(d.BezierCurveTo=function(b,c,d,e,f,g){this.cp1x=b,this.cp1y=c,this.cp2x=d,this.cp2y=e,this.x=f,this.y=g}).prototype.exec=function(b){b.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(d.Rect=function(b,c,d,e){this.x=b,this.y=c,this.w=d,this.h=e}).prototype.exec=function(b){b.rect(this.x,this.y,this.w,this.h)},(d.ClosePath=function(){}).prototype.exec=function(b){b.closePath()},(d.BeginPath=function(){}).prototype.exec=function(b){b.beginPath()},c=(d.Fill=function(b,c){this.style=b,this.matrix=c}).prototype,c.exec=function(b){if(this.style){b.fillStyle=this.style;var c=this.matrix;c&&(b.save(),b.transform(c.a,c.b,c.c,c.d,c.tx,c.ty)),b.fill(),c&&b.restore()}},c.linearGradient=function(c,d,e,f,g,h){for(var i=this.style=b._ctx.createLinearGradient(e,f,g,h),j=0,k=c.length;k>j;j++)i.addColorStop(d[j],c[j]);return i.props={colors:c,ratios:d,x0:e,y0:f,x1:g,y1:h,type:"linear"},this},c.radialGradient=function(c,d,e,f,g,h,i,j){for(var k=this.style=b._ctx.createRadialGradient(e,f,g,h,i,j),l=0,m=c.length;m>l;l++)k.addColorStop(d[l],c[l]);return k.props={colors:c,ratios:d,x0:e,y0:f,r0:g,x1:h,y1:i,r1:j,type:"radial"},this},c.bitmap=function(c,d){if(c.naturalWidth||c.getContext||c.readyState>=2){var e=this.style=b._ctx.createPattern(c,d||"");e.props={image:c,repetition:d,type:"bitmap"}}return this},c.path=!1,c=(d.Stroke=function(b,c){this.style=b,this.ignoreScale=c}).prototype,c.exec=function(b){this.style&&(b.strokeStyle=this.style,this.ignoreScale&&(b.save(),b.setTransform(1,0,0,1,0,0)),b.stroke(),this.ignoreScale&&b.restore())},c.linearGradient=d.Fill.prototype.linearGradient,c.radialGradient=d.Fill.prototype.radialGradient,c.bitmap=d.Fill.prototype.bitmap,c.path=!1,c=(d.StrokeStyle=function(b,c,d,e,f){this.width=b,this.caps=c,this.joints=d,this.miterLimit=e,this.ignoreScale=f}).prototype,c.exec=function(c){c.lineWidth=null==this.width?"1":this.width,c.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:b.STROKE_CAPS_MAP[this.caps],c.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:b.STROKE_JOINTS_MAP[this.joints],c.miterLimit=null==this.miterLimit?"10":this.miterLimit,c.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale},c.path=!1,(d.StrokeDash=function(b,c){this.segments=b,this.offset=c||0}).prototype.exec=function(b){b.setLineDash&&(b.setLineDash(this.segments||d.StrokeDash.EMPTY_SEGMENTS),b.lineDashOffset=this.offset||0)},d.StrokeDash.EMPTY_SEGMENTS=[],(d.RoundRect=function(b,c,d,e,f,g,h,i){this.x=b,this.y=c,this.w=d,this.h=e,this.radiusTL=f,this.radiusTR=g,this.radiusBR=h,this.radiusBL=i}).prototype.exec=function(b){var c=(k>j?j:k)/2,d=0,e=0,f=0,g=0,h=this.x,i=this.y,j=this.w,k=this.h,l=this.radiusTL,m=this.radiusTR,n=this.radiusBR,o=this.radiusBL;0>l&&(l*=d=-1),l>c&&(l=c),0>m&&(m*=e=-1),m>c&&(m=c),0>n&&(n*=f=-1),n>c&&(n=c),0>o&&(o*=g=-1),o>c&&(o=c),b.moveTo(h+j-m,i),b.arcTo(h+j+m*e,i-m*e,h+j,i+m,m),b.lineTo(h+j,i+k-n),b.arcTo(h+j+n*f,i+k+n*f,h+j-n,i+k,n),b.lineTo(h+o,i+k),b.arcTo(h-o*g,i+k+o*g,h,i+k-o,o),b.lineTo(h,i+l),b.arcTo(h-l*d,i-l*d,h+l,i,l),b.closePath()},(d.Circle=function(b,c,d){this.x=b,this.y=c,this.radius=d}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,0,2*Math.PI)},(d.Ellipse=function(b,c,d,e){this.x=b,this.y=c,this.w=d,this.h=e}).prototype.exec=function(b){var c=this.x,d=this.y,e=this.w,f=this.h,g=.5522848,h=e/2*g;g=f/2*g;var i=c+e,j=d+f;e=c+e/2;f=d+f/2;b.moveTo(c,f),b.bezierCurveTo(c,f-g,e-h,d,e,d),b.bezierCurveTo(e+h,d,i,f-g,i,f),b.bezierCurveTo(i,f+g,e+h,j,e,j),b.bezierCurveTo(e-h,j,c,f+g,c,f)},(d.PolyStar=function(b,c,d,e,f,g){this.x=b,this.y=c,this.radius=d,this.sides=e,this.pointSize=f,this.angle=g}).prototype.exec=function(b){var c=this.x,d=this.y,e=this.radius,f=(this.angle||0)/180*Math.PI,g=this.sides,h=1-(this.pointSize||0),i=Math.PI/g;b.moveTo(c+Math.cos(f)*e,d+Math.sin(f)*e);for(var j=0;g>j;j++)f+=i,1!=h&&b.lineTo(c+Math.cos(f)*e*h,d+Math.sin(f)*e*h),f+=i,b.lineTo(c+Math.cos(f)*e,d+Math.sin(f)*e);b.closePath()},b.beginCmd=new d.BeginPath(),h.Graphics=b})(),h=h||{},(function(){"use strict";function b(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=h.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new h.DisplayProps(),this._rectangle=new h.Rectangle(),this._bounds=null}var c=h.extend(b,h.EventDispatcher);b._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],b.suppressCrossDomainErrors=!1,b._snapToPixelEnabled=!1;var d=h.createCanvas?h.createCanvas():document.createElement("canvas");d.getContext&&(b._hitTestCanvas=d,b._hitTestContext=d.getContext("2d"),d.width=d.height=1),b._nextCacheID=1,c.getStage=function(){for(var b=this,c=h.Stage;b.parent;)b=b.parent;return b instanceof c?b:null};try{Object.defineProperties(c,{stage:{get:c.getStage}})}catch(b){}c.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},c.draw=function(b,c){var d=this.cacheCanvas;if(c||!d)return!1;c=this._cacheScale;return b.drawImage(d,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,d.width/c,d.height/c),!0},c.updateContext=function(c){var d=this,e=d.mask,f=d._props.matrix;e&&e.graphics&&!e.graphics.isEmpty()&&(e.getMatrix(f),c.transform(f.a,f.b,f.c,f.d,f.tx,f.ty),e.graphics.drawAsPath(c),c.clip(),f.invert(),c.transform(f.a,f.b,f.c,f.d,f.tx,f.ty)),this.getMatrix(f);e=f.tx;var g=f.ty;b._snapToPixelEnabled&&d.snapToPixel&&(e=e+(0>e?-.5:.5)|0,g=g+(0>g?-.5:.5)|0),c.transform(f.a,f.b,f.c,f.d,e,g),c.globalAlpha*=d.alpha,d.compositeOperation&&(c.globalCompositeOperation=d.compositeOperation),d.shadow&&this._applyShadow(c,d.shadow)},c.cache=function(b,c,d,e,f){f=f||1,this.cacheCanvas||(this.cacheCanvas=h.createCanvas?h.createCanvas():document.createElement("canvas")),this._cacheWidth=d,this._cacheHeight=e,this._cacheOffsetX=b,this._cacheOffsetY=c,this._cacheScale=f,this.updateCache()},c.updateCache=function(c){var d=this.cacheCanvas;if(!d)throw"cache() must be called before updateCache()";var e=this._cacheScale,f=this._cacheOffsetX*e,g=this._cacheOffsetY*e,h=this._cacheWidth,i=this._cacheHeight,j=d.getContext("2d"),k=this._getFilterBounds();f+=this._filterOffsetX=k.x,g+=this._filterOffsetY=k.y,h=Math.ceil(h*e)+k.width,i=Math.ceil(i*e)+k.height,h!=d.width||i!=d.height?(d.width=h,d.height=i):c||j.clearRect(0,0,h+1,i+1),j.save(),j.globalCompositeOperation=c,j.setTransform(e,0,0,e,-f,-g),this.draw(j,!0),this._applyFilters(),j.restore(),this.cacheID=b._nextCacheID++},c.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},c.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},c.localToGlobal=function(b,c,d){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(b,c,d||new h.Point())},c.globalToLocal=function(b,c,d){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(b,c,d||new h.Point())},c.localToLocal=function(b,c,d,e){return e=this.localToGlobal(b,c,e),d.globalToLocal(e.x,e.y,e)},c.setTransform=function(b,c,d,e,f,g,h,i,j){return this.x=b||0,this.y=c||0,this.scaleX=null==d?1:d,this.scaleY=null==e?1:e,this.rotation=f||0,this.skewX=g||0,this.skewY=h||0,this.regX=i||0,this.regY=j||0,this},c.getMatrix=function(b){var c=this;b=b&&b.identity()||new h.Matrix2D();return c.transformMatrix?b.copy(c.transformMatrix):b.appendTransform(c.x,c.y,c.scaleX,c.scaleY,c.rotation,c.skewX,c.skewY,c.regX,c.regY)},c.getConcatenatedMatrix=function(b){for(var c=this,b=this.getMatrix(b);c=c.parent;)b.prependMatrix(c.getMatrix(c._props.matrix));return b},c.getConcatenatedDisplayProps=function(b){b=b?b.identity():new h.DisplayProps();var c=this,d=c.getMatrix(b.matrix);do b.prepend(c.visible,c.alpha,c.shadow,c.compositeOperation),c!=this&&d.prependMatrix(c.getMatrix(c._props.matrix));while(c=c.parent);return b},c.hitTest=function(c,d){var e=b._hitTestContext;e.setTransform(1,0,0,1,-c,-d),this.draw(e);c=this._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),c},c.set=function(b){for(var c in b)this[c]=b[c];return this},c.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var b=this.cacheCanvas;if(b){var c=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,b.width/c,b.height/c)}return null},c.getTransformedBounds=function(){return this._getBounds()},c.setBounds=function(b,c,d,e){null==b&&(this._bounds=b),this._bounds=(this._bounds||new h.Rectangle()).setValues(b,c,d,e)},c.clone=function(){return this._cloneProps(new b())},c.toString=function(){return"[DisplayObject (name="+this.name+")]"},c._cloneProps=function(b){return b.alpha=this.alpha,b.mouseEnabled=this.mouseEnabled,b.tickEnabled=this.tickEnabled,b.name=this.name,b.regX=this.regX,b.regY=this.regY,b.rotation=this.rotation,b.scaleX=this.scaleX,b.scaleY=this.scaleY,b.shadow=this.shadow,b.skewX=this.skewX,b.skewY=this.skewY,b.visible=this.visible,b.x=this.x,b.y=this.y,b.compositeOperation=this.compositeOperation,b.snapToPixel=this.snapToPixel,b.filters=null==this.filters?null:this.filters.slice(0),b.mask=this.mask,b.hitArea=this.hitArea,b.cursor=this.cursor,b._bounds=this._bounds,b},c._applyShadow=function(b,c){c=c||Shadow.identity,b.shadowColor=c.color,b.shadowOffsetX=c.offsetX,b.shadowOffsetY=c.offsetY,b.shadowBlur=c.blur},c._tick=function(b){var c=this._listeners;c&&c.tick&&(b.target=null,b.propagationStopped=b.immediatePropagationStopped=!1,this.dispatchEvent(b))},c._testHit=function(c){try{var d=c.getImageData(0,0,1,1).data[3]>1}catch(c){if(!b.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return d},c._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,c=this.cacheCanvas.getContext("2d"),d=this.cacheCanvas.width,e=this.cacheCanvas.height,f=0;b>f;f++)this.filters[f].applyFilter(c,0,0,d,e)},c._getFilterBounds=function(){var b,c=this.filters,d=this._rectangle.setValues(0,0,0,0);if(!c||!(b=c.length))return d;for(c=0;b>c;c++){var e=this.filters[c];e.getBounds&&e.getBounds(d)}return d},c._getBounds=function(b,c){return this._transformBounds(this.getBounds(),b,c)},c._transformBounds=function(b,c,d){if(!b)return b;var e=b.x,f=b.y,g=b.width,h=b.height,i=this._props.matrix;i=d?i.identity():this.getMatrix(i),(e||f)&&i.appendTransform(0,0,1,1,0,0,0,-e,-f),c&&i.prependMatrix(c);d=g*i.a;c=g*i.b;g=h*i.c;h=h*i.d;var j=i.tx;i=i.ty;var k=j,l=j,m=i,n=i;return(e=d+j)<k?k=e:e>l&&(l=e),(e=d+g+j)<k?k=e:e>l&&(l=e),(e=g+j)<k?k=e:e>l&&(l=e),(f=c+i)<m?m=f:f>n&&(n=f),(f=c+h+i)<m?m=f:f>n&&(n=f),(f=h+i)<m?m=f:f>n&&(n=f),b.setValues(k,m,l-k,n-m)},c._hasMouseEventListener=function(){for(var c=b._MOUSE_EVENTS,d=0,e=c.length;e>d;d++)if(this.hasEventListener(c[d]))return!0;return!!this.cursor},h.DisplayObject=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var c=h.extend(b,h.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(b){}c.initialize=b,c.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;for(var c=this.children.slice(),d=0,e=c.length;e>d;d++){var f=c[d];f.isVisible()&&(b.save(),f.updateContext(b),f.draw(b),b.restore())}return!0},c.addChild=function(b){if(null==b)return b;var c=arguments.length;if(c>1){for(var d=0;c>d;d++)this.addChild(arguments[d]);return arguments[c-1]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.push(b),b.dispatchEvent("added"),b},c.addChildAt=function(b,c){var d=arguments.length,e=arguments[d-1];if(0>e||e>this.children.length)return arguments[d-2];if(d>2){for(var f=0;d-1>f;f++)this.addChildAt(arguments[f],e+f);return arguments[d-2]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.splice(c,0,b),b.dispatchEvent("added"),b},c.removeChild=function(b){var c=arguments.length;if(c>1){for(var d=!0,e=0;c>e;e++)d=d&&this.removeChild(arguments[e]);return d}return this.removeChildAt(h.indexOf(this.children,b))},c.removeChildAt=function(b){var c=arguments.length;if(c>1){for(var d=[],e=0;c>e;e++)d[e]=arguments[e];d.sort(function(b,c){return c-b});for(var f=!0,e=0;c>e;e++)f=f&&this.removeChildAt(d[e]);return f}if(0>b||b>this.children.length-1)return!1;var g=this.children[b];return g&&(g.parent=null),this.children.splice(b,1),g.dispatchEvent("removed"),!0},c.removeAllChildren=function(){for(var b=this.children;b.length;)this.removeChildAt(0)},c.getChildAt=function(b){return this.children[b]},c.getChildByName=function(b){for(var c=this.children,d=0,e=c.length;e>d;d++)if(c[d].name==b)return c[d];return null},c.sortChildren=function(b){this.children.sort(b)},c.getChildIndex=function(b){return h.indexOf(this.children,b)},c.swapChildrenAt=function(b,c){var d=this.children,e=d[b],f=d[c];e&&f&&(d[b]=f,d[c]=e)},c.swapChildren=function(b,c){for(var d,e,f=this.children,g=0,h=f.length;h>g&&(f[g]==b&&(d=g),f[g]==c&&(e=g),null==d||null==e);g++);g!=h&&(f[d]=c,f[e]=b)},c.setChildIndex=function(b,c){var d=this.children,e=d.length;if(!(b.parent!=this||0>c||c>=e)){for(var f=0;e>f&&d[f]!=b;f++);f!=e&&f!=c&&(d.splice(f,1),d.splice(c,0,b))}},c.contains=function(b){for(;b;){if(b==this)return!0;b=b.parent}return!1},c.hitTest=function(b,c){return null!=this.getObjectUnderPoint(b,c)},c.getObjectsUnderPoint=function(b,c,d){var e=[];b=this.localToGlobal(b,c);return this._getObjectsUnderPoint(b.x,b.y,e,d>0,1==d),e},c.getObjectUnderPoint=function(b,c,d){b=this.localToGlobal(b,c);return this._getObjectsUnderPoint(b.x,b.y,null,d>0,1==d)},c.getBounds=function(){return this._getBounds(null,!0)},c.getTransformedBounds=function(){return this._getBounds()},c.clone=function(c){var d=this._cloneProps(new b());return c&&this._cloneChildren(d),d},c.toString=function(){return"[Container (name="+this.name+")]"},c._tick=function(b){if(this.tickChildren)for(var c=this.children.length-1;c>=0;c--){var d=this.children[c];d.tickEnabled&&d._tick&&d._tick(b)}this.DisplayObject__tick(b)},c._cloneChildren=function(b){b.children.length&&b.removeAllChildren();for(var c=b.children,d=0,e=this.children.length;e>d;d++){var f=this.children[d].clone(!0);f.parent=b,c.push(f)}},c._getObjectsUnderPoint=function(c,d,e,f,g,i){if(i=i||0,!i&&!this._testMask(this,c,d))return null;var j,k=h.DisplayObject._hitTestContext;g=g||f&&this._hasMouseEventListener();for(var l=this.children,m=l.length,m=m-1;m>=0;m--){var n=l[m],o=n.hitArea;if(n.visible&&(o||n.isVisible())&&(!f||n.mouseEnabled)&&(o||this._testMask(n,c,d)))if(!o&&n instanceof b){var a=n._getObjectsUnderPoint(c,d,e,f,g,i+1);if(!e&&a)return f&&!this.mouseChildren?this:a}else{if(f&&!g&&!n._hasMouseEventListener())continue;a=n.getConcatenatedDisplayProps(n._props);if(j=a.matrix,o&&(j.appendMatrix(o.getMatrix(o._props.matrix)),a.alpha=o.alpha),k.globalAlpha=a.alpha,k.setTransform(j.a,j.b,j.c,j.d,j.tx-c,j.ty-d),(o||n).draw(k),!this._testHit(k))continue;if(k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,2,2),!e)return f&&!this.mouseChildren?this:n;e.push(n)}}return null},c._testMask=function(b,c,d){var e=b.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var f=this._props.matrix;b=b.parent;f=b?b.getConcatenatedMatrix(f):f.identity(),f=e.getMatrix(e._props.matrix).prependMatrix(f);b=h.DisplayObject._hitTestContext;return b.setTransform(f.a,f.b,f.c,f.d,f.tx-c,f.ty-d),e.graphics.drawAsPath(b),b.fillStyle="#000",b.fill(),this._testHit(b)?(b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,2,2),!0):!1},c._getBounds=function(b,c){var d=this.DisplayObject_getBounds();if(d)return this._transformBounds(d,b,c);var e=this._props.matrix;e=c?e.identity():this.getMatrix(e),b&&e.prependMatrix(b);for(var c=this.children.length,b=null,f=0;c>f;f++){var g=this.children[f];g.visible&&(d=g._getBounds(e))&&(b?b.extend(d.x,d.y,d.width,d.height):b=d.clone())}return b},h.Container=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof b?document.getElementById(b):b,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var c=h.extend(b,h.Container);c._get_nextStage=function(){return this._nextStage},c._set_nextStage=function(b){this._nextStage&&(this._nextStage._prevStage=null),b&&(b._prevStage=this),this._nextStage=b};try{Object.defineProperties(c,{nextStage:{get:c._get_nextStage,set:c._set_nextStage}})}catch(b){}c.update=function(b){if(this.canvas&&(this.tickOnUpdate&&this.tick(b),this.dispatchEvent("drawstart",!1,!0)!==!1)){h.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;b=this.drawRect;var c=this.canvas.getContext("2d");c.setTransform(1,0,0,1,0,0),this.autoClear&&(b?c.clearRect(b.x,b.y,b.width,b.height):c.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),c.save(),this.drawRect&&(c.beginPath(),c.rect(b.x,b.y,b.width,b.height),c.clip()),this.updateContext(c),this.draw(c,!1),c.restore(),this.dispatchEvent("drawend")}},c.tick=function(b){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var c=new h.Event("tick");if(b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);this._tick(c),this.dispatchEvent("tickend")}},c.handleEvent=function(b){"tick"==b.type&&this.update(b)},c.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},c.toDataURL=function(b,c){var d,e=this.canvas.getContext("2d"),f=this.canvas.width,g=this.canvas.height;if(b){d=e.getImageData(0,0,f,g);var h=e.globalCompositeOperation;e.globalCompositeOperation="destination-over",e.fillStyle=b,e.fillRect(0,0,f,g)}f=this.canvas.toDataURL(c||"image/png");return b&&(e.putImageData(d,0,0),e.globalCompositeOperation=h),f},c.enableMouseOver=function(b){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==b&&this._testMouseOver(!0)),null==b)b=20;else if(0>=b)return;var c=this;this._mouseOverIntervalID=setInterval(function(){c._testMouseOver()},1e3/Math.min(50,b))},c.enableDOMEvents=function(b){null==b&&(b=!0);var c,d,e=this._eventListeners;if(!b&&e){for(c in e)d=e[c],d.t.removeEventListener(c,d.f,!1);this._eventListeners=null}else if(b&&!e&&this.canvas){b=window.addEventListener?window:document;var f=this;e=this._eventListeners={},e.mouseup={t:b,f:function(b){f._handleMouseUp(b)}},e.mousemove={t:b,f:function(b){f._handleMouseMove(b)}},e.dblclick={t:this.canvas,f:function(b){f._handleDoubleClick(b)}},e.mousedown={t:this.canvas,f:function(b){f._handleMouseDown(b)}};for(c in e)d=e[c],d.t.addEventListener(c,d.f,!1)}},c.clone=function(){throw"Stage cannot be cloned."},c.toString=function(){return"[Stage (name="+this.name+")]"},c._getElementRect=function(b){var c;try{c=b.getBoundingClientRect()}catch(d){c={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0);b=window.getComputedStyle?getComputedStyle(b,null):b.currentStyle;var f=parseInt(b.paddingLeft)+parseInt(b.borderLeftWidth),g=parseInt(b.paddingTop)+parseInt(b.borderTopWidth),h=parseInt(b.paddingRight)+parseInt(b.borderRightWidth);b=parseInt(b.paddingBottom)+parseInt(b.borderBottomWidth);return{left:c.left+d+f,right:c.right+d-h,top:c.top+e+g,bottom:c.bottom+e-b}},c._getPointerData=function(b){var c=this._pointerData[b];return c||(c=this._pointerData[b]={x:0,y:0}),c},c._handleMouseMove=function(b){b||(b=window.event),this._handlePointerMove(-1,b,b.pageX,b.pageY)},c._handlePointerMove=function(b,c,d,e,f){if((!this._prevStage||void 0!==f)&&this.canvas){f=this._nextStage;var g=this._getPointerData(b),h=g.inBounds;this._updatePointerPosition(b,c,d,e),(h||g.inBounds||this.mouseMoveOutside)&&(-1===b&&g.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,b,g,c),this._dispatchMouseEvent(this,"stagemousemove",!1,b,g,c),this._dispatchMouseEvent(g.target,"pressmove",!0,b,g,c)),f&&f._handlePointerMove(b,c,d,e,null)}},c._updatePointerPosition=function(b,c,d,e){var f=this._getElementRect(this.canvas);d-=f.left,e-=f.top;var g=this.canvas.width,h=this.canvas.height;d/=(f.right-f.left)/g,e/=(f.bottom-f.top)/h;f=this._getPointerData(b);(f.inBounds=d>=0&&e>=0&&g-1>=d&&h-1>=e)?(f.x=d,f.y=e):this.mouseMoveOutside&&(f.x=0>d?0:d>g-1?g-1:d,f.y=0>e?0:e>h-1?h-1:e),f.posEvtObj=c,f.rawX=d,f.rawY=e,(b===this._primaryPointerID||-1===b)&&(this.mouseX=f.x,this.mouseY=f.y,this.mouseInBounds=f.inBounds)},c._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)},c._handlePointerUp=function(b,c,d,e){var f=this._nextStage,g=this._getPointerData(b);if(!this._prevStage||void 0!==e){var h=null,i=g.target;e||!i&&!f||(h=this._getObjectsUnderPoint(g.x,g.y,null,!0)),g.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,b,g,c,h),g.down=!1),h==i&&this._dispatchMouseEvent(i,"click",!0,b,g,c),this._dispatchMouseEvent(i,"pressup",!0,b,g,c),d?(b==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[b]):g.target=null,f&&f._handlePointerUp(b,c,d,e||h&&this)}},c._handleMouseDown=function(b){this._handlePointerDown(-1,b,b.pageX,b.pageY)},c._handlePointerDown=function(b,c,d,e,f){this.preventSelection&&c.preventDefault(),(null==this._primaryPointerID||-1===b)&&(this._primaryPointerID=b),null!=e&&this._updatePointerPosition(b,c,d,e);var g=null,h=this._nextStage,i=this._getPointerData(b);f||(g=i.target=this._getObjectsUnderPoint(i.x,i.y,null,!0)),i.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,b,i,c,g),i.down=!0),this._dispatchMouseEvent(g,"mousedown",!0,b,i,c),h&&h._handlePointerDown(b,c,d,e,f||g&&this)},c._testMouseOver=function(b,c,d){if(!this._prevStage||void 0!==c){var e=this._nextStage;if(!this._mouseOverIntervalID)return void (e&&e._testMouseOver(b,c,d));var f=this._getPointerData(-1);if(f&&(b||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var g,h=f.posEvtObj,i=d||h&&h.target==this.canvas,j=null,k=-1,l="";!c&&(b||this.mouseInBounds&&i)&&(j=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var m=this._mouseOverTarget||[],n=m[m.length-1],o=this._mouseOverTarget=[];for(g=j;g;)o.unshift(g),l||(l=g.cursor),g=g.parent;for(this.canvas.style.cursor=l,!c&&d&&(d.canvas.style.cursor=l),g=0,l=o.length;l>g&&o[g]==m[g];g++)k=g;for(n!=j&&this._dispatchMouseEvent(n,"mouseout",!0,-1,f,h,j),g=m.length-1;g>k;g--)this._dispatchMouseEvent(m[g],"rollout",!1,-1,f,h,j);for(g=o.length-1;g>k;g--)this._dispatchMouseEvent(o[g],"rollover",!1,-1,f,h,n);n!=j&&this._dispatchMouseEvent(j,"mouseover",!0,-1,f,h,n),e&&e._testMouseOver(b,c||j&&this,d||i&&this)}}},c._handleDoubleClick=function(b,c){var d=null,e=this._nextStage,f=this._getPointerData(-1);c||(d=this._getObjectsUnderPoint(f.x,f.y,null,!0),this._dispatchMouseEvent(d,"dblclick",!0,-1,f,b)),e&&e._handleDoubleClick(b,c||d&&this)},c._dispatchMouseEvent=function(b,c,d,e,f,g,i){if(b&&(d||b.hasEventListener(c))){c=new h.MouseEvent(c,d,!1,f.x,f.y,g,e,e===this._primaryPointerID||-1===e,f.rawX,f.rawY,i);b.dispatchEvent(c)}},h.Stage=h.promote(b,"Container")})(),h=h||{},(function(){function b(b){this.DisplayObject_constructor(),"string"==typeof b?(this.image=document.createElement("img"),this.image.src=b):this.image=b,this.sourceRect=null}var c=h.extend(b,h.DisplayObject);c.initialize=b,c.isVisible=function(){var b=this.image;b=this.cacheCanvas||b&&(b.naturalWidth||b.getContext||b.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c)||!this.image)return!0;c=this.image;var d=this.sourceRect;if(d){var e=d.x,f=d.y,g=e+d.width;d=f+d.height;var h=0,i=0,j=c.width,k=c.height;0>e&&(h-=e,e=0),g>j&&(g=j),0>f&&(i-=f,f=0),d>k&&(d=k),b.drawImage(c,e,f,g-e,d-f,h,i,g-e,d-f)}else b.drawImage(c,0,0);return!0},c.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;b=this.image;var c=this.sourceRect||b;b=b&&(b.naturalWidth||b.getContext||b.readyState>=2);return b?this._rectangle.setValues(0,0,c.width,c.height):null},c.clone=function(){var c=new b(this.image);return this.sourceRect&&(c.sourceRect=this.sourceRect.clone()),this._cloneProps(c),c},c.toString=function(){return"[Bitmap (name="+this.name+")]"},h.Bitmap=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=b,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=c&&this.gotoAndPlay(c)}var c=h.extend(b,h.DisplayObject);c.initialize=b,c.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;this._normalizeFrame();c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return d.width&&d.height&&b.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0},c.play=function(){this.paused=!1},c.stop=function(){this.paused=!0},c.gotoAndPlay=function(b){this.paused=!1,this._skipAdvance=!0,this._goto(b)},c.gotoAndStop=function(b){this.paused=!0,this._goto(b)},c.advance=function(b){var c=this.framerate||this.spriteSheet.framerate;b=c&&null!=b?b/(1e3/c):1;this._normalizeFrame(b)},c.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},c.clone=function(){return this._cloneProps(new b(this.spriteSheet))},c.toString=function(){return"[Sprite (name="+this.name+")]"},c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.currentFrame=this.currentFrame,b.currentAnimation=this.currentAnimation,b.paused=this.paused,b.currentAnimationFrame=this.currentAnimationFrame,b.framerate=this.framerate,b._animation=this._animation,b._currentFrame=this._currentFrame,b._skipAdvance=this._skipAdvance,b},c._tick=function(b){this.paused||(this._skipAdvance||this.advance(b&&b.delta),this._skipAdvance=!1),this.DisplayObject__tick(b)},c._normalizeFrame=function(b){b=b||0;var c,d=this._animation,e=this.paused,f=this._currentFrame;if(d){var g=d.speed||1,h=this.currentAnimationFrame;if(c=d.frames.length,h+b*g>=c){var i=d.next;if(this._dispatchAnimationEnd(d,f,e,i,c-1))return;if(i)return this._goto(i,b-(c-h)/g);this.paused=!0,h=d.frames.length-1}else h+=b*g;this.currentAnimationFrame=h,this._currentFrame=d.frames[0|h]}else if(f=this._currentFrame+=b,c=this.spriteSheet.getNumFrames(),f>=c&&c>0&&!this._dispatchAnimationEnd(d,f,e,c-1)&&(this._currentFrame-=c)>=c)return this._normalizeFrame();f=0|this._currentFrame,this.currentFrame!=f&&(this.currentFrame=f,this.dispatchEvent("change"))},c._dispatchAnimationEnd=function(b,c,d,e,f){var g=b?b.name:null;if(this.hasEventListener("animationend")){var i=new h.Event("animationend");i.name=g,i.next=e,this.dispatchEvent(i)}g=this._animation!=b||this._currentFrame!=c;return g||d||!this.paused||(this.currentAnimationFrame=f,g=!0),g},c._goto=function(b,c){if(this.currentAnimationFrame=0,isNaN(b)){var d=this.spriteSheet.getAnimation(b);d&&(this._animation=d,this.currentAnimation=b,this._normalizeFrame(c))}else this.currentAnimation=this._animation=null,this._currentFrame=b,this._normalizeFrame()},h.Sprite=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b){this.DisplayObject_constructor(),this.graphics=b?b:new h.Graphics()}var c=h.extend(b,h.DisplayObject);c.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){return this.DisplayObject_draw(b,c)?!0:(this.graphics.draw(b,this),!0)},c.clone=function(c){c=c&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new b(c))},c.toString=function(){return"[Shape (name="+this.name+")]"},h.Shape=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c,d){this.DisplayObject_constructor(),this.text=b,this.font=c,this.color=d,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var c=h.extend(b,h.DisplayObject),d=h.createCanvas?h.createCanvas():document.createElement("canvas");d.getContext&&(b._workingContext=d.getContext("2d"),d.width=d.height=1),b.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},b.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},c.isVisible=function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;c=this.color||"#000";return this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):b.fillStyle=c,this._drawText(this._prepContext(b)),!0},c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},c.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},c.getMeasuredHeight=function(){return this._drawText(null,{}).height},c.getBounds=function(){var c=this.DisplayObject_getBounds();if(c)return c;if(null==this.text||""===this.text)return null;c=this._drawText(null,{});var d=this.maxWidth&&this.maxWidth<c.width?this.maxWidth:c.width,e=d*b.H_OFFSETS[this.textAlign||"left"],f=this.lineHeight||this.getMeasuredLineHeight();f=f*b.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,f,d,c.height)},c.getMetrics=function(){var c={lines:[]};return c.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),c.vOffset=c.lineHeight*b.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,c,c.lines)},c.clone=function(){return this._cloneProps(new b(this.text,this.font,this.color))},c.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.textAlign=this.textAlign,b.textBaseline=this.textBaseline,b.maxWidth=this.maxWidth,b.outline=this.outline,b.lineHeight=this.lineHeight,b.lineWidth=this.lineWidth,b},c._prepContext=function(b){return b.font=this.font||"10px sans-serif",b.textAlign=this.textAlign||"left",b.textBaseline=this.textBaseline||"top",b},c._drawText=function(c,d,e){var f=!!c;f||(c=b._workingContext,c.save(),this._prepContext(c));for(var g=this.lineHeight||this.getMeasuredLineHeight(),h=0,i=0,j=String(this.text).split(/(?:\r\n|\r|\n)/),k=0,l=j.length;l>k;k++){var m=j[k],n=null;if(null!=this.lineWidth&&(n=c.measureText(m).width)>this.lineWidth){var o=m.split(/(\s)/);m=o[0],n=c.measureText(m).width;for(var a=1,p=o.length;p>a;a+=2){var q=c.measureText(o[a]+o[a+1]).width;n+q>this.lineWidth?(f&&this._drawTextLine(c,m,i*g),e&&e.push(m),n>h&&(h=n),m=o[a+1],n=c.measureText(m).width,i++):(m+=o[a]+o[a+1],n+=q)}}f&&this._drawTextLine(c,m,i*g),e&&e.push(m),d&&null==n&&(n=c.measureText(m).width),n>h&&(h=n),i++}return d&&(d.width=h,d.height=i*g),f||c.restore(),d},c._drawTextLine=function(b,c,d){this.outline?b.strokeText(c,0,d,this.maxWidth||65535):b.fillText(c,0,d,this.maxWidth||65535)},c._getMeasuredWidth=function(c){var d=b._workingContext;d.save();c=this._prepContext(d).measureText(c).width;return d.restore(),c},h.Text=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c){this.Container_constructor(),this.text=b||"",this.spriteSheet=c,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var c=h.extend(b,h.Container);b.maxPoolSize=100,b._spritePool=[],c.draw=function(b,c){this.DisplayObject_draw(b,c)||(this._updateText(),this.Container_draw(b,c))},c.getBounds=function(){return this._updateText(),this.Container_getBounds()},c.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&b)},c.clone=function(){return this._cloneProps(new b(this.text,this.spriteSheet))},c.addChild=c.addChildAt=c.removeChild=c.removeChildAt=c.removeAllChildren=function(){},c._cloneProps=function(b){return this.Container__cloneProps(b),b.lineHeight=this.lineHeight,b.letterSpacing=this.letterSpacing,b.spaceWidth=this.spaceWidth,b},c._getFrameIndex=function(b,c){var d,e=c.getAnimation(b);return e||(b!=(d=b.toUpperCase())||b!=(d=b.toLowerCase())||(d=null),d&&(e=c.getAnimation(d))),e&&e.frames[0]},c._getFrame=function(b,c){b=this._getFrameIndex(b,c);return null==b?b:c.getFrame(b)},c._getLineHeight=function(b){b=this._getFrame("1",b)||this._getFrame("T",b)||this._getFrame("L",b)||b.getFrame(0);return b?b.rect.height:1},c._getSpaceWidth=function(b){b=this._getFrame("1",b)||this._getFrame("l",b)||this._getFrame("e",b)||this._getFrame("a",b)||b.getFrame(0);return b?b.rect.width:1},c._updateText=function(){var c,d=0,e=0,f=this._oldProps,g=!1,i=this.spaceWidth,j=this.lineHeight,k=this.spriteSheet,l=b._spritePool,m=this.children,n=0,o=m.length;for(var a in f)f[a]!=this[a]&&(f[a]=this[a],g=!0);if(g){f=!!this._getFrame(" ",k);f||i||(i=this._getSpaceWidth(k)),j||(j=this._getLineHeight(k));for(a=0,g=this.text.length;g>a;a++){var p=this.text.charAt(a);if(" "!=p||f)if("\n"!=p&&"\r"!=p){var q=this._getFrameIndex(p,k);null!=q&&(o>n?c=m[n]:(m.push(c=l.length?l.pop():new h.Sprite()),c.parent=this,o++),c.spriteSheet=k,c.gotoAndStop(q),c.x=d,c.y=e,n++,d+=c.getBounds().width+this.letterSpacing)}else"\r"==p&&"\n"==this.text.charAt(a+1)&&a++,d=0,e+=j;else d+=i}for(;o>n;)l.push(c=m.pop()),c.parent=null,o--;l.length>b.maxPoolSize&&(l.length=b.maxPoolSize)}},h.BitmapText=h.promote(b,"Container")})(),h=h||{},(function(){"use strict";function b(c,d,e,f){this.Container_constructor(),!b.inited&&b.init(),this.mode=c||b.INDEPENDENT,this.startPosition=d||0,this.loop=e,this.currentFrame=0,this.timeline=new h.Timeline(null,f,{paused:!0,position:d,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function c(){throw"MovieClipPlugin cannot be instantiated."}var d=h.extend(b,h.Container);b.INDEPENDENT="independent",b.SINGLE_FRAME="single",b.SYNCHED="synched",b.inited=!1,b.init=function(){b.inited||(c.install(),b.inited=!0)},d.getLabels=function(){return this.timeline.getLabels()},d.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},d.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(d,{labels:{get:d.getLabels},currentLabel:{get:d.getCurrentLabel},totalFrames:{get:d.getDuration},duration:{get:d.getDuration}})}catch(b){}d.initialize=b,d.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},d.draw=function(b,c){return this.DisplayObject_draw(b,c)?!0:(this._updateTimeline(),this.Container_draw(b,c),!0)},d.play=function(){this.paused=!1},d.stop=function(){this.paused=!0},d.gotoAndPlay=function(b){this.paused=!1,this._goto(b)},d.gotoAndStop=function(b){this.paused=!0,this._goto(b)},d.advance=function(c){var d=b.INDEPENDENT;if(this.mode==d){for(var e=this,f=e.framerate;(e=e.parent)&&null==f;)e.mode==d&&(f=e._framerate);this._framerate=f;d=null!=f&&-1!=f&&null!=c?c/(1e3/f)+this._t:1;e=0|d;for(this._t=d-e;!this.paused&&e--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},d.clone=function(){throw"MovieClip cannot be cloned."},d.toString=function(){return"[MovieClip (name="+this.name+")]"},d._tick=function(b){this.advance(b&&b.delta),this.Container__tick(b)},d._goto=function(b){b=this.timeline.resolve(b);null!=b&&(-1==this._prevPos&&(this._prevPos=0/0),this._prevPosition=b,this._t=0,this._updateTimeline())},d._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},d._updateTimeline=function(){var c=this.timeline,d=this.mode!=b.INDEPENDENT;c.loop=null==this.loop?!0:this.loop;var e=d?this.startPosition+(this.mode==b.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition;d=d||!this.actionsEnabled?h.Tween.NONE:null;if(this.currentFrame=c._calcPosition(e),c.setPosition(e,d),this._prevPosition=c._prevPosition,this._prevPos!=c._prevPos){this.currentFrame=this._prevPos=c._prevPos;for(e in this._managed)this._managed[e]=1;for(d=c._tweens,e=0,c=d.length;c>e;e++){var f=d[e],g=f._target;if(g!=this&&!f.passive){f=f._stepPosition;g instanceof h.DisplayObject?this._addManagedChild(g,f):this._setState(g.state,f)}}g=this.children;for(e=g.length-1;e>=0;e--){f=g[e].id;1==this._managed[f]&&(this.removeChildAt(e),delete this._managed[f])}}},d._setState=function(b,c){if(b)for(var d=b.length-1;d>=0;d--){var e=b[d],f=e.t;e=e.p;for(var g in e)f[g]=e[g];this._addManagedChild(f,c)}},d._addManagedChild=function(c,d){c._off||(this.addChildAt(c,0),c instanceof b&&(c._synchOffset=d,c.mode==b.INDEPENDENT&&c.autoReset&&!this._managed[c.id]&&c._reset()),this._managed[c.id]=2)},d._getBounds=function(b,c){var d=this.DisplayObject_getBounds();return d||(this._updateTimeline(),this.frameBounds&&(d=this._rectangle.copy(this.frameBounds[this.currentFrame]))),d?this._transformBounds(d,b,c):this.Container__getBounds(b,c)},h.MovieClip=h.promote(b,"Container"),c.priority=100,c.install=function(){h.Tween.installPlugin(c,["startPosition"])},c.init=function(b,c,d){return d},c.step=function(){},c.tween=function(c,d,e,f,g,h){return c.target instanceof b?1==h?g[d]:f[d]:e}})(),h=h||{},(function(){"use strict";function b(){throw"SpriteSheetUtils cannot be instantiated"}var c=h.createCanvas?h.createCanvas():document.createElement("canvas");c.getContext&&(b._workingCanvas=c,b._workingContext=c.getContext("2d"),c.width=c.height=1),b.addFlippedFrames=function(c,d,e,f){if(d||e||f){var g=0;d&&b._flip(c,++g,!0,!1),e&&b._flip(c,++g,!1,!0),f&&b._flip(c,++g,!0,!0)}},b.extractFrame=function(c,d){isNaN(d)&&(d=c.getAnimation(d).frames[0]);c=c.getFrame(d);if(!c)return null;d=c.rect;var e=b._workingCanvas;e.width=d.width,e.height=d.height,b._workingContext.drawImage(c.image,d.x,d.y,d.width,d.height,0,0,d.width,d.height);c=document.createElement("img");return c.src=e.toDataURL("image/png"),c},b.mergeAlpha=function(b,c,d){d||(d=h.createCanvas?h.createCanvas():document.createElement("canvas")),d.width=Math.max(c.width,b.width),d.height=Math.max(c.height,b.height);var e=d.getContext("2d");return e.save(),e.drawImage(b,0,0),e.globalCompositeOperation="destination-in",e.drawImage(c,0,0),e.restore(),d},b._flip=function(c,d,e,f){for(var g=c._images,h=b._workingCanvas,i=b._workingContext,j=g.length/d,k=0;j>k;k++){var l=g[k];l.__tmp=k,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,h.width+1,h.height+1),h.width=l.width,h.height=l.height,i.setTransform(e?-1:1,0,0,f?-1:1,e?l.width:0,f?l.height:0),i.drawImage(l,0,0);var m=document.createElement("img");m.src=h.toDataURL("image/png"),m.width=l.width,m.height=l.height,g.push(m)}h=c._frames;i=h.length/d;for(k=0;i>k;k++){l=h[k];var n=l.rect.clone();m=g[l.image.__tmp+j*d];var o={image:m,rect:n,regX:l.regX,regY:l.regY};e&&(n.x=m.width-n.x-n.width,o.regX=n.width-l.regX),f&&(n.y=m.height-n.y-n.height,o.regY=n.height-l.regY),h.push(o)}m="_"+(e?"h":"")+(f?"v":"");n=c._animations;o=c._data;g=n.length/d;for(k=0;g>k;k++){j=n[k];l=o[j];e={name:j+m,speed:l.speed,next:l.next,frames:[]};l.next&&(e.next+=m),h=l.frames;for(f=0,c=h.length;c>f;f++)e.frames.push(h[f]+i*d);o[e.name]=e,n.push(e.name)}},h.SpriteSheetUtils=b})(),h=h||{},(function(){"use strict";function b(b){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=b||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var c=h.extend(b,h.EventDispatcher);b.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",b.ERR_RUNNING="a build is already running",c.addFrame=function(c,d,e,f,g){if(this._data)throw b.ERR_RUNNING;d=d||c.bounds||c.nominalBounds;return!d&&c.getBounds&&(d=c.getBounds()),d?(e=e||1,this._frames.push({source:c,sourceRect:d,scale:e,funct:f,data:g,index:this._frames.length,height:d.height*e})-1):null},c.addAnimation=function(c,d,e,f){if(this._data)throw b.ERR_RUNNING;this._animations[c]={frames:d,next:e,speed:f}},c.addMovieClip=function(c,d,e,f,g,h){if(this._data)throw b.ERR_RUNNING;var i=c.frameBounds;d=d||c.bounds||c.nominalBounds;if(!d&&c.getBounds&&(d=c.getBounds()),d||i){var j,k=this._frames.length,l=c.timeline.duration;for(j=0;l>j;j++){var m=i&&i[j]?i[j]:d;this.addFrame(c,m,e,this._setupMovieClipFrame,{i:j,f:f,d:g})}m=c.timeline._labels;e=[];for(f in m)e.push({index:m[f],label:f});if(e.length)for(e.sort(function(b,c){return b.index-c.index}),j=0,g=e.length;g>j;j++){for(var i=e[j].label,d=k+e[j].index,m=k+(j==g-1?l:e[j+1].index),f=[],n=d;m>n;n++)f.push(n);(!h||(i=h(i,c,d,m)))&&this.addAnimation(i,f,!0)}}},c.build=function(){if(this._data)throw b.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},c.buildAsync=function(c){if(this._data)throw b.ERR_RUNNING;this.timeSlice=c,this._startBuild();var d=this;this._timerID=setTimeout(function(){d._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},c.stopAsync=function(){clearTimeout(this._timerID),this._data=null},c.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},c.toString=function(){return"[SpriteSheetBuilder]"},c._startBuild=function(){var c=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var d=[];this._data={images:[],frames:d,framerate:this.framerate,animations:this._animations};var e=this._frames.slice();if(e.sort(function(b,c){return b.height<=c.height?-1:1}),e[e.length-1].height+2*c>this.maxHeight)throw b.ERR_DIMENSIONS;for(var f=0,g=0,i=0;e.length;){var j=this._fillRow(e,f,i,d,c);if(j.w>g&&(g=j.w),f+=j.h,!j.h||!e.length){var k=h.createCanvas?h.createCanvas():document.createElement("canvas");k.width=this._getSize(g,this.maxWidth),k.height=this._getSize(f,this.maxHeight),this._data.images[i]=k,j.h||(g=f=0,i++)}}},c._setupMovieClipFrame=function(b,c){var d=b.actionsEnabled;b.actionsEnabled=!1,b.gotoAndStop(c.i),b.actionsEnabled=d,c.f&&c.f(b,c.d,c.i)},c._getSize=function(b,c){for(var d=4;Math.pow(2,++d)<b;);return Math.min(c,Math.pow(2,d))},c._fillRow=function(c,d,e,f,g){var i=this.maxWidth,j=this.maxHeight;d+=g;for(var j=j-d,k=g,l=0,m=c.length-1;m>=0;m--){var n=c[m],o=this._scale*n.scale,a=n.sourceRect,p=n.source,q=Math.floor(o*a.x-g),r=Math.floor(o*a.y-g),s=Math.ceil(o*a.height+2*g);a=Math.ceil(o*a.width+2*g);if(a>i)throw b.ERR_DIMENSIONS;s>j||k+a>i||(n.img=e,n.rect=new h.Rectangle(k,d,a,s),l=l||s,c.splice(m,1),f[n.index]=[k,d,a,s,e,Math.round(-q+o*p.regX-g),Math.round(-r+o*p.regY-g)],k+=a)}return{w:k,h:l}},c._endBuild=function(){this.spriteSheet=new h.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},c._run=function(){for(var b=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),c=new Date().getTime()+b,d=!1;c>new Date().getTime();)if(!this._drawNext()){d=!0;break}if(d)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-b)}c=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){d=new h.Event("progress");d.progress=c,this.dispatchEvent(d)}},c._drawNext=function(){var b=this._frames[this._index],c=b.scale*this._scale,d=b.rect,e=b.sourceRect,f=this._data.images[b.img];f=f.getContext("2d");return b.funct&&b.funct(b.source,b.data),f.save(),f.beginPath(),f.rect(d.x,d.y,d.width,d.height),f.clip(),f.translate(Math.ceil(d.x-e.x*c),Math.ceil(d.y-e.y*c)),f.scale(c,c),b.source.draw(f),f.restore(),++this._index<this._frames.length},h.SpriteSheetBuilder=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(b){this.DisplayObject_constructor(),"string"==typeof b&&(b=document.getElementById(b)),this.mouseEnabled=!1;var c=b.style;c.position="absolute",c.transformOrigin=c.WebkitTransformOrigin=c.msTransformOrigin=c.MozTransformOrigin=c.OTransformOrigin="0% 0%",this.htmlElement=b,this._oldProps=null}var c=h.extend(b,h.DisplayObject);c.isVisible=function(){return null!=this.htmlElement},c.draw=function(){return!0},c.cache=function(){},c.uncache=function(){},c.updateCache=function(){},c.hitTest=function(){},c.localToGlobal=function(){},c.globalToLocal=function(){},c.localToLocal=function(){},c.clone=function(){throw"DOMElement cannot be cloned."},c.toString=function(){return"[DOMElement (name="+this.name+")]"},c._tick=function(b){var c=this.getStage();c&&c.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(b)},c._handleDrawEnd=function(){var b=this.htmlElement;if(b){b=b.style;var c=this.getConcatenatedDisplayProps(this._props),d=c.matrix,e=c.visible?"visible":"hidden";if(e!=b.visibility&&(b.visibility=e),c.visible){e=this._oldProps;var f=e&&e.matrix,g=1e4;if(!f||!f.equals(d)){f="matrix("+(d.a*g|0)/g+","+(d.b*g|0)/g+","+(d.c*g|0)/g+","+(d.d*g|0)/g+","+(d.tx+.5|0);b.transform=b.WebkitTransform=b.OTransform=b.msTransform=f+","+(d.ty+.5|0)+")",b.MozTransform=f+"px,"+(d.ty+.5|0)+"px)",e||(e=this._oldProps=new h.DisplayProps(!0,0/0)),e.matrix.copy(d)}e.alpha!=c.alpha&&(b.opacity=""+(c.alpha*g|0)/g,e.alpha=c.alpha)}}},h.DOMElement=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(){}var c=b.prototype;c.getBounds=function(b){return b},c.applyFilter=function(b,c,d,e,f,g,h,i){g=g||b,null==h&&(h=c),null==i&&(i=d);try{var j=b.getImageData(c,d,e,f)}catch(b){return!1}return this._applyFilter(j)?(g.putImageData(j,h,i),!0):!1},c.toString=function(){return"[Filter]"},c.clone=function(){return new b()},c._applyFilter=function(){return!0},h.Filter=b})(),h=h||{},(function(){"use strict";function b(b,c,d){(isNaN(b)||0>b)&&(b=0),(isNaN(c)||0>c)&&(c=0),(isNaN(d)||1>d)&&(d=1),this.blurX=0|b,this.blurY=0|c,this.quality=0|d}var c=h.extend(b,h.Filter);b.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],b.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],c.getBounds=function(b){var c=0|this.blurX,d=0|this.blurY;if(0>=c&&0>=d)return b;var e=Math.pow(this.quality,.2);return(b||new h.Rectangle()).pad(c*e+1,d*e+1,c*e+1,d*e+1)},c.clone=function(){return new b(this.blurX,this.blurY,this.quality)},c.toString=function(){return"[BlurFilter]"},c._applyFilter=function(c){var d=this.blurX>>1;if(isNaN(d)||0>d)return!1;var e=this.blurY>>1;if(isNaN(e)||0>e)return!1;if(0==d&&0==e)return!1;var f=this.quality;(isNaN(f)||1>f)&&(f=1),f|=0,f>3&&(f=3),1>f&&(f=1);var g=c.data,h,i,j,k,l,m,n,o,a,p,q,r,s,t=d+d+1|0,u=e+e+1|0,v=0|c.width;c=0|c.height;var w=v-1|0,x=c-1|0,y=d+1|0,z=e+1|0,A={r:0,b:0,g:0,a:0},B=A;for(i=1;t>i;i++)B=B.n={r:0,b:0,g:0,a:0};B.n=A;t={r:0,b:0,g:0,a:0};var C=t;for(i=1;u>i;i++)C=C.n={r:0,b:0,g:0,a:0};C.n=t;for(var u=null,D=0|b.MUL_TABLE[d],E=0|b.SHG_TABLE[d],F=0|b.MUL_TABLE[e],G=0|b.SHG_TABLE[e];f-->0;){l=k=0;var H=D,I=E;for(h=c;--h>-1;){for(m=y*(p=g[0|k]),n=y*(q=g[k+1|0]),o=y*(r=g[k+2|0]),a=y*(s=g[k+3|0]),B=A,i=y;--i>-1;)B.r=p,B.g=q,B.b=r,B.a=s,B=B.n;for(i=1;y>i;i++)j=k+((i>w?w:i)<<2)|0,m+=B.r=g[j],n+=B.g=g[j+1],o+=B.b=g[j+2],a+=B.a=g[j+3],B=B.n;for(u=A,B=0;v>B;B++)g[k++]=m*H>>>I,g[k++]=n*H>>>I,g[k++]=o*H>>>I,g[k++]=a*H>>>I,j=l+((j=B+d+1)<w?j:w)<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n;l+=v}for(H=F,I=G,B=0;v>B;B++){for(k=B<<2|0,m=z*(p=g[k])|0,n=z*(q=g[k+1|0])|0,o=z*(r=g[k+2|0])|0,a=z*(s=g[k+3|0])|0,C=t,i=0;z>i;i++)C.r=p,C.g=q,C.b=r,C.a=s,C=C.n;for(l=v,i=1;e>=i;i++)k=l+B<<2,m+=C.r=g[k],n+=C.g=g[k+1],o+=C.b=g[k+2],a+=C.a=g[k+3],C=C.n,x>i&&(l+=v);if(k=B,u=t,f>0)for(h=0;c>h;h++)j=k<<2,g[j+3]=s=a*H>>>I,s>0?(g[j]=m*H>>>I,g[j+1]=n*H>>>I,g[j+2]=o*H>>>I):g[j]=g[j+1]=g[j+2]=0,j=B+((j=h+z)<x?j:x)*v<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n,k+=v;else for(h=0;c>h;h++)j=k<<2,g[j+3]=s=a*H>>>I,s>0?(s=255/s,g[j]=(m*H>>>I)*s,g[j+1]=(n*H>>>I)*s,g[j+2]=(o*H>>>I)*s):g[j]=g[j+1]=g[j+2]=0,j=B+((j=h+z)<x?j:x)*v<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n,k+=v}}return!0},h.BlurFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b){this.alphaMap=b,this._alphaMap=null,this._mapData=null}var c=h.extend(b,h.Filter);c.clone=function(){var c=new b(this.alphaMap);return c._alphaMap=this._alphaMap,c._mapData=this._mapData,c},c.toString=function(){return"[AlphaMapFilter]"},c._applyFilter=function(b){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var b=b.data,c=this._mapData,d=0,e=b.length;e>d;d+=4)b[d+3]=c[d]||0;return!0},c._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var b,c=this._alphaMap=this.alphaMap,d=c;c instanceof HTMLCanvasElement?b=d.getContext("2d"):(d=h.createCanvas?h.createCanvas():document.createElement("canvas"),d.width=c.width,d.height=c.height,b=d.getContext("2d"),b.drawImage(c,0,0));try{var e=b.getImageData(0,0,c.width,c.height)}catch(b){return!1}return this._mapData=e.data,!0},h.AlphaMapFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b){this.mask=b}var c=h.extend(b,h.Filter);c.applyFilter=function(b,c,d,e,f,g,h,i){return this.mask?(g=g||b,null==h&&(h=c),null==i&&(i=d),g.save(),b!=g?!1:(g.globalCompositeOperation="destination-in",g.drawImage(this.mask,h,i),g.restore(),!0)):!0},c.clone=function(){return new b(this.mask)},c.toString=function(){return"[AlphaMaskFilter]"},h.AlphaMaskFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h,i){this.redMultiplier=null!=b?b:1,this.greenMultiplier=null!=c?c:1,this.blueMultiplier=null!=d?d:1,this.alphaMultiplier=null!=e?e:1,this.redOffset=f||0,this.greenOffset=g||0,this.blueOffset=h||0,this.alphaOffset=i||0}var c=h.extend(b,h.Filter);c.toString=function(){return"[ColorFilter]"},c.clone=function(){return new b(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},c._applyFilter=function(b){for(var b=b.data,c=b.length,d=0;c>d;d+=4)b[d]=b[d]*this.redMultiplier+this.redOffset,b[d+1]=b[d+1]*this.greenMultiplier+this.greenOffset,b[d+2]=b[d+2]*this.blueMultiplier+this.blueOffset,b[d+3]=b[d+3]*this.alphaMultiplier+this.alphaOffset;return!0},h.ColorFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.setColor(b,c,d,e)}var c=b.prototype;b.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],b.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],b.LENGTH=b.IDENTITY_MATRIX.length,c.setColor=function(b,c,d,e){return this.reset().adjustColor(b,c,d,e)},c.reset=function(){return this.copy(b.IDENTITY_MATRIX)},c.adjustColor=function(b,c,d,e){return this.adjustHue(e),this.adjustContrast(c),this.adjustBrightness(b),this.adjustSaturation(d)},c.adjustBrightness=function(b){return 0==b||isNaN(b)?this:(b=this._cleanValue(b,255),this._multiplyMatrix([1,0,0,0,b,0,1,0,0,b,0,0,1,0,b,0,0,0,1,0,0,0,0,0,1]),this)},c.adjustContrast=function(c){if(0==c||isNaN(c))return this;c=this._cleanValue(c,100);var d;return 0>c?d=127+c/100*127:(d=c%1,d=0==d?b.DELTA_INDEX[c]:b.DELTA_INDEX[c<<0]*(1-d)+b.DELTA_INDEX[(c<<0)+1]*d,d=127*d+127),this._multiplyMatrix([d/127,0,0,0,.5*(127-d),0,d/127,0,0,.5*(127-d),0,0,d/127,0,.5*(127-d),0,0,0,1,0,0,0,0,0,1]),this},c.adjustSaturation=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);b=1+(b>0?3*b/100:b/100);var c=.3086,d=.6094,e=.082;return this._multiplyMatrix([c*(1-b)+b,d*(1-b),e*(1-b),0,0,c*(1-b),d*(1-b)+b,e*(1-b),0,0,c*(1-b),d*(1-b),e*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this},c.adjustHue=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,180)/180*Math.PI;var c=Math.cos(b);b=Math.sin(b);var d=.213,e=.715,f=.072;return this._multiplyMatrix([d+c*(1-d)+b*-d,e+c*-e+b*-e,f+c*-f+b*(1-f),0,0,d+c*-d+.143*b,e+c*(1-e)+.14*b,f+c*-f+b*-.283,0,0,d+c*-d+b*-(1-d),e+c*-e+b*e,f+c*(1-f)+b*f,0,0,0,0,0,1,0,0,0,0,0,1]),this},c.concat=function(c){return c=this._fixMatrix(c),c.length!=b.LENGTH?this:(this._multiplyMatrix(c),this)},c.clone=function(){return new b().copy(this)},c.toArray=function(){for(var c=[],d=0,e=b.LENGTH;e>d;d++)c[d]=this[d];return c},c.copy=function(c){for(var d=b.LENGTH,e=0;d>e;e++)this[e]=c[e];return this},c.toString=function(){return"[ColorMatrix]"},c._multiplyMatrix=function(b){var c,d,e,f=[];for(c=0;5>c;c++){for(d=0;5>d;d++)f[d]=this[d+5*c];for(d=0;5>d;d++){var g=0;for(e=0;5>e;e++)g+=b[d+5*e]*f[e];this[d+5*c]=g}}},c._cleanValue=function(b,c){return Math.min(c,Math.max(-c,b))},c._fixMatrix=function(c){return c instanceof b&&(c=c.toArray()),c.length<b.LENGTH?c=c.slice(0,c.length).concat(b.IDENTITY_MATRIX.slice(c.length,b.LENGTH)):c.length>b.LENGTH&&(c=c.slice(0,b.LENGTH)),c},h.ColorMatrix=b})(),h=h||{},(function(){"use strict";function b(b){this.matrix=b}var c=h.extend(b,h.Filter);c.toString=function(){return"[ColorMatrixFilter]"},c.clone=function(){return new b(this.matrix)},c._applyFilter=function(b){for(var c,d,e,f,b=b.data,g=b.length,h=this.matrix,i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=h[5],o=h[6],a=h[7],p=h[8],q=h[9],r=h[10],s=h[11],t=h[12],u=h[13],v=h[14],w=h[15],x=h[16],y=h[17],z=h[18],h=h[19],A=0;g>A;A+=4)c=b[A],d=b[A+1],e=b[A+2],f=b[A+3],b[A]=c*i+d*j+e*k+f*l+m,b[A+1]=c*n+d*o+e*a+f*p+q,b[A+2]=c*r+d*s+e*t+f*u+v,b[A+3]=c*w+d*x+e*y+f*z+h;return!0},h.ColorMatrixFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(){throw"Touch cannot be instantiated"}b.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},b.enable=function(c,d,e){return c&&c.canvas&&b.isSupported()?c.__touch?!0:(c.__touch={pointers:{},multitouch:!d,preventDefault:!e,count:0},"ontouchstart"in window?b._IOS_enable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_enable(c),!0):!1},b.disable=function(c){c&&("ontouchstart"in window?b._IOS_disable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_disable(c),delete c.__touch)},b._IOS_enable=function(c){var d=c.canvas,e=c.__touch.f=function(d){b._IOS_handleEvent(c,d)};d.addEventListener("touchstart",e,!1),d.addEventListener("touchmove",e,!1),d.addEventListener("touchend",e,!1),d.addEventListener("touchcancel",e,!1)},b._IOS_disable=function(b){var c=b.canvas;if(c){b=b.__touch.f;c.removeEventListener("touchstart",b,!1),c.removeEventListener("touchmove",b,!1),c.removeEventListener("touchend",b,!1),c.removeEventListener("touchcancel",b,!1)}},b._IOS_handleEvent=function(b,c){if(b){b.__touch.preventDefault&&c.preventDefault&&c.preventDefault();for(var d=c.changedTouches,e=c.type,f=0,g=d.length;g>f;f++){var h=d[f],i=h.identifier;h.target==b.canvas&&("touchstart"==e?this._handleStart(b,i,c,h.pageX,h.pageY):"touchmove"==e?this._handleMove(b,i,c,h.pageX,h.pageY):("touchend"==e||"touchcancel"==e)&&this._handleEnd(b,i,c))}}},b._IE_enable=function(c){var d=c.canvas,e=c.__touch.f=function(d){b._IE_handleEvent(c,d)};void 0===window.navigator.pointerEnabled?(d.addEventListener("MSPointerDown",e,!1),window.addEventListener("MSPointerMove",e,!1),window.addEventListener("MSPointerUp",e,!1),window.addEventListener("MSPointerCancel",e,!1),c.__touch.preventDefault&&(d.style.msTouchAction="none")):(d.addEventListener("pointerdown",e,!1),window.addEventListener("pointermove",e,!1),window.addEventListener("pointerup",e,!1),window.addEventListener("pointercancel",e,!1),c.__touch.preventDefault&&(d.style.touchAction="none")),c.__touch.activeIDs={}},b._IE_disable=function(b){var c=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",c,!1),window.removeEventListener("MSPointerUp",c,!1),window.removeEventListener("MSPointerCancel",c,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",c,!1)):(window.removeEventListener("pointermove",c,!1),window.removeEventListener("pointerup",c,!1),window.removeEventListener("pointercancel",c,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",c,!1))},b._IE_handleEvent=function(b,c){if(b){b.__touch.preventDefault&&c.preventDefault&&c.preventDefault();var d=c.type,e=c.pointerId,f=b.__touch.activeIDs;if("MSPointerDown"==d||"pointerdown"==d){if(c.srcElement!=b.canvas)return;f[e]=!0,this._handleStart(b,e,c,c.pageX,c.pageY)}else f[e]&&("MSPointerMove"==d||"pointermove"==d?this._handleMove(b,e,c,c.pageX,c.pageY):("MSPointerUp"==d||"MSPointerCancel"==d||"pointerup"==d||"pointercancel"==d)&&(delete f[e],this._handleEnd(b,e,c)))}},b._handleStart=function(b,c,d,e,f){var g=b.__touch;if(g.multitouch||!g.count){var h=g.pointers;h[c]||(h[c]=!0,g.count++,b._handlePointerDown(c,d,e,f))}},b._handleMove=function(b,c,d,e,f){b.__touch.pointers[c]&&b._handlePointerMove(c,d,e,f)},b._handleEnd=function(b,c,d){var e=b.__touch,f=e.pointers;f[c]&&(e.count--,b._handlePointerUp(c,d,!0),delete f[c])},h.Touch=b})(),h=h||{},(function(){"use strict";var b=h.EaselJS=h.EaselJS||{};b.version="0.8.2",b.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"})();g.Easel=h}),null);
__d("WAWeb-lottie-light",[],(function(a,b,c,d,e,f){typeof navigator!=="undefined"&&(function(b,c){e.exports=c()})(this,function(){"use strict";var a="http://www.w3.org/2000/svg",b="",c=!1,d=-999999,g=function(a){c=!!a},h=function(){return c},i=function(a){b=a},j=function(){return b};function k(a){return document.createElement(a)}function l(a,b){var c,d=a.length,e;for(c=0;c<d;c+=1){e=a[c].prototype;for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b.prototype[f]=e[f])}}function m(a){function b(){}b.prototype=a;return b}var n=function(){function a(a){this.audios=[],this.audioFactory=a,this._volume=1,this._isMuted=!1}a.prototype={addAudio:function(a){this.audios.push(a)},pause:function(){var a,b=this.audios.length;for(a=0;a<b;a+=1)this.audios[a].pause()},resume:function(){var a,b=this.audios.length;for(a=0;a<b;a+=1)this.audios[a].resume()},setRate:function(a){var b,c=this.audios.length;for(b=0;b<c;b+=1)this.audios[b].setRate(a)},createAudio:function(a){if(this.audioFactory)return this.audioFactory(a);return window.Howl?new window.Howl({src:[a]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(a){this.audioFactory=a},setVolume:function(a){this._volume=a,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var a,b=this.audios.length;for(a=0;a<b;a+=1)this.audios[a].volume(this._volume*(this._isMuted?0:1))}};return function(){return new a()}}(),o=function(){function a(a,b){var c=0,d=[],e;switch(a){case"int16":case"uint8c":e=1;break;default:e=1.1;break}for(c=0;c<b;c+=1)d.push(e);return d}function b(b,c){if(b==="float32")return new Float32Array(c);if(b==="int16")return new Int16Array(c);return b==="uint8c"?new Uint8ClampedArray(c):a(b,c)}return typeof Uint8ClampedArray==="function"&&typeof Float32Array==="function"?b:a}();function p(a){return Array.apply(null,{length:a})}function q(a){typeof Symbol==="function"&&typeof (typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?q=function(a){return typeof a}:q=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==(typeof Symbol==="function"?Symbol.prototype:"@@prototype")?"symbol":typeof a};return q(a)}var r=!0,s=null,t=null,u="",v=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),w=!1,x=Math.pow,y=Math.sqrt,z=Math.floor;Math.max;var A=Math.min,B={};(function(){var a=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],b,c=a.length;for(b=0;b<c;b+=1)B[a[b]]=Math[a[b]]})();B.random=Math.random;B.abs=function(a){var b=q(a);if(b==="object"&&a.length){b=p(a.length);var c,d=a.length;for(c=0;c<d;c+=1)b[c]=Math.abs(a[c]);return b}return Math.abs(a)};var C=150,D=Math.PI/180,E=.5519;function F(a){w=!!a}function G(a,b,c,d){this.type=a,this.currentTime=b,this.totalTime=c,this.direction=d<0?-1:1}function aa(a,b){this.type=a,this.direction=b<0?-1:1}function ba(a,b,c,d){this.type=a,this.currentLoop=c,this.totalLoops=b,this.direction=d<0?-1:1}function ca(a,b,c){this.type=a,this.firstFrame=b,this.totalFrames=c}function da(a,b){this.type=a,this.target=b}function ea(a,b){this.type="renderFrameError",this.nativeError=a,this.currentTime=b}function fa(a){this.type="configError",this.nativeError=a}var H=function(){var a=0;return function(){a+=1;return u+"__lottie_element_"+a}}();function ga(a,b,c){var d,e,f,g,h,i;g=Math.floor(a*6);a=a*6-g;h=c*(1-b);i=c*(1-a*b);a=c*(1-(1-a)*b);switch(g%6){case 0:d=c;e=a;f=h;break;case 1:d=i;e=c;f=h;break;case 2:d=h;e=c;f=a;break;case 3:d=h;e=i;f=c;break;case 4:d=a;e=h;f=c;break;case 5:d=c;e=h;f=i;break;default:break}return[d,e,f]}function ha(a,b,c){var d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,g,h=d===0?0:f/d,i=d/255;switch(d){case e:g=0;break;case a:g=b-c+f*(b<c?6:0);g/=6*f;break;case b:g=c-a+f*2;g/=6*f;break;case c:g=a-b+f*4;g/=6*f;break;default:break}return[g,h,i]}function ia(a,b){a=ha(a[0]*255,a[1]*255,a[2]*255);a[1]+=b;a[1]>1?a[1]=1:a[1]<=0&&(a[1]=0);return ga(a[0],a[1],a[2])}function ja(a,b){a=ha(a[0]*255,a[1]*255,a[2]*255);a[2]+=b;a[2]>1?a[2]=1:a[2]<0&&(a[2]=0);return ga(a[0],a[1],a[2])}function ka(a,b){a=ha(a[0]*255,a[1]*255,a[2]*255);a[0]+=b/360;a[0]>1?a[0]-=1:a[0]<0&&(a[0]+=1);return ga(a[0],a[1],a[2])}(function(){var a=[],b,c;for(b=0;b<256;b+=1)c=b.toString(16),a[b]=c.length===1?"0"+c:c;return function(b,c,d){b<0&&(b=0);c<0&&(c=0);d<0&&(d=0);return"#"+a[b]+a[c]+a[d]}})();var la=function(a){r=!!a},ma=function(){return r},na=function(a){s=a},I=function(){return s};(function(a){t=a});var J=function(){return t},K=function(a){C=a},L=function(){return C},oa=function(a){u=a};(function(){return u});function M(b){return document.createElementNS(a,b)}function pa(a){typeof Symbol==="function"&&typeof (typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?pa=function(a){return typeof a}:pa=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==(typeof Symbol==="function"?Symbol.prototype:"@@prototype")?"symbol":typeof a};return pa(a)}var qa=function(){var b=1,c=[],d,e,f={onmessage:function(){},postMessage:function(a){d({data:a})}},g={postMessage:function(a){f.onmessage({data:a})}};function i(a){if(window.Worker&&window.Blob&&h()){var b=new Blob(["var _workerSelf = self; self.onmessage = ",a.toString()],{type:"text/javascript"});b=URL.createObjectURL(b);return new Worker(b)}d=a;return f}function j(){e||(e=i(function(a){function b(){function a(b,c){var g,h,i=b.length,j,k,l,m;for(h=0;h<i;h+=1){g=b[h];if("ks"in g&&!g.completed){g.completed=!0;if(g.hasMask){var o=g.masksProperties;k=o.length;for(j=0;j<k;j+=1)if(o[j].pt.k.i)f(o[j].pt.k);else{m=o[j].pt.k.length;for(l=0;l<m;l+=1)o[j].pt.k[l].s&&f(o[j].pt.k[l].s[0]),o[j].pt.k[l].e&&f(o[j].pt.k[l].e[0])}}g.ty===0?(g.layers=d(g.refId,c),a(g.layers,c)):g.ty===4?e(g.shapes):g.ty===5&&n(g)}}}function b(b,c){if(b){var e=0,f=b.length;for(e=0;e<f;e+=1)b[e].t===1&&(b[e].data.layers=d(b[e].data.refId,c),a(b[e].data.layers,c))}}function c(a,b){var c=0,d=b.length;while(c<d){if(b[c].id===a)return b[c];c+=1}return null}function d(a,b){a=c(a,b);if(a){if(!a.layers.__used){a.layers.__used=!0;return a.layers}return JSON.parse(JSON.stringify(a.layers))}return null}function e(a){var b=a.length,c,d;for(b=b-1;b>=0;b-=1)if(a[b].ty==="sh")if(a[b].ks.k.i)f(a[b].ks.k);else{d=a[b].ks.k.length;for(c=0;c<d;c+=1)a[b].ks.k[c].s&&f(a[b].ks.k[c].s[0]),a[b].ks.k[c].e&&f(a[b].ks.k[c].e[0])}else a[b].ty==="gr"&&e(a[b].it)}function f(a){var b,c=a.i.length;for(b=0;b<c;b+=1)a.i[b][0]+=a.v[b][0],a.i[b][1]+=a.v[b][1],a.o[b][0]+=a.v[b][0],a.o[b][1]+=a.v[b][1]}function g(a,b){b=b?b.split("."):[100,100,100];if(a[0]>b[0])return!0;if(b[0]>a[0])return!1;if(a[1]>b[1])return!0;if(b[1]>a[1])return!1;if(a[2]>b[2])return!0;return b[2]>a[2]?!1:null}var h=function(){var a=[4,4,14];function b(a){var b=a.t.d;a.t.d={k:[{s:b,t:0}]}}function c(a){var c,d=a.length;for(c=0;c<d;c+=1)a[c].ty===5&&b(a[c])}return function(b){if(g(a,b.v)){c(b.layers);if(b.assets){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}}(),i=function(){var a=[4,7,99];return function(b){if(b.chars&&!g(a,b.v)){var c,d=b.chars.length;for(c=0;c<d;c+=1){var f=b.chars[c];f.data&&f.data.shapes&&(e(f.data.shapes),f.data.ip=0,f.data.op=99999,f.data.st=0,f.data.sr=1,f.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},b.chars[c].t||(f.data.shapes.push({ty:"no"}),f.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),j=function(){var a=[5,7,15];function b(a){a=a.t.p;typeof a.a==="number"&&(a.a={a:0,k:a.a});typeof a.p==="number"&&(a.p={a:0,k:a.p});typeof a.r==="number"&&(a.r={a:0,k:a.r})}function c(a){var c,d=a.length;for(c=0;c<d;c+=1)a[c].ty===5&&b(a[c])}return function(b){if(g(a,b.v)){c(b.layers);if(b.assets){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}}(),k=function(){var a=[4,1,9];function b(a){var c,d=a.length,e,f;for(c=0;c<d;c+=1)if(a[c].ty==="gr")b(a[c].it);else if(a[c].ty==="fl"||a[c].ty==="st")if(a[c].c.k&&a[c].c.k[0].i){f=a[c].c.k.length;for(e=0;e<f;e+=1)a[c].c.k[e].s&&(a[c].c.k[e].s[0]/=255,a[c].c.k[e].s[1]/=255,a[c].c.k[e].s[2]/=255,a[c].c.k[e].s[3]/=255),a[c].c.k[e].e&&(a[c].c.k[e].e[0]/=255,a[c].c.k[e].e[1]/=255,a[c].c.k[e].e[2]/=255,a[c].c.k[e].e[3]/=255)}else a[c].c.k[0]/=255,a[c].c.k[1]/=255,a[c].c.k[2]/=255,a[c].c.k[3]/=255}function c(a){var c,d=a.length;for(c=0;c<d;c+=1)a[c].ty===4&&b(a[c].shapes)}return function(b){if(g(a,b.v)){c(b.layers);if(b.assets){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}}(),l=function(){var a=[4,4,18];function b(a){var c=a.length,d,e;for(c=c-1;c>=0;c-=1)if(a[c].ty==="sh")if(a[c].ks.k.i)a[c].ks.k.c=a[c].closed;else{e=a[c].ks.k.length;for(d=0;d<e;d+=1)a[c].ks.k[d].s&&(a[c].ks.k[d].s[0].c=a[c].closed),a[c].ks.k[d].e&&(a[c].ks.k[d].e[0].c=a[c].closed)}else a[c].ty==="gr"&&b(a[c].it)}function c(a){var c,d,e=a.length,f,g,h,i;for(d=0;d<e;d+=1){c=a[d];if(c.hasMask){var j=c.masksProperties;g=j.length;for(f=0;f<g;f+=1)if(j[f].pt.k.i)j[f].pt.k.c=j[f].cl;else{i=j[f].pt.k.length;for(h=0;h<i;h+=1)j[f].pt.k[h].s&&(j[f].pt.k[h].s[0].c=j[f].cl),j[f].pt.k[h].e&&(j[f].pt.k[h].e[0].c=j[f].cl)}}c.ty===4&&b(c.shapes)}}return function(b){if(g(a,b.v)){c(b.layers);if(b.assets){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}}();function m(c){if(c.__complete)return;k(c);h(c);i(c);j(c);l(c);a(c.layers,c.assets);b(c.chars,c.assets);c.__complete=!0}function n(a){a.t.a.length===0&&!("m"in a.t.p)}var o={};o.completeData=m;o.checkColors=k;o.checkChars=i;o.checkPathProperties=j;o.checkShapes=l;o.completeLayers=a;return o}g.dataManager||(g.dataManager=b());g.assetLoader||(g.assetLoader=function(){function a(a){var b=a.getResponseHeader("content-type");if(b&&a.responseType==="json"&&b.indexOf("json")!==-1)return a.response;if(a.response&&pa(a.response)==="object")return a.response;if(a.response&&typeof a.response==="string")return JSON.parse(a.response);return a.responseText?JSON.parse(a.responseText):null}function b(b,c,d,e){var f,g=new XMLHttpRequest();try{g.responseType="json"}catch(a){}g.onreadystatechange=function(){if(g.readyState===4)if(g.status===200)f=a(g),d(f);else try{f=a(g),d(f)}catch(a){e&&e(a)}};try{g.open(["G","E","T"].join(""),b,!0)}catch(a){g.open(["G","E","T"].join(""),c+"/"+b,!0)}g.send()}return{load:b}}());if(a.data.type==="loadAnimation")g.assetLoader.load(a.data.path,a.data.fullPath,function(b){g.dataManager.completeData(b),g.postMessage({id:a.data.id,payload:b,status:"success"})},function(){g.postMessage({id:a.data.id,status:"error"})});else if(a.data.type==="complete"){b=a.data.animation;g.dataManager.completeData(b);g.postMessage({id:a.data.id,payload:b,status:"success"})}else a.data.type==="loadData"&&g.assetLoader.load(a.data.path,a.data.fullPath,function(b){g.postMessage({id:a.data.id,payload:b,status:"success"})},function(){g.postMessage({id:a.data.id,status:"error"})})}),e.onmessage=function(a){a=a.data;var b=a.id,d=c[b];c[b]=null;a.status==="success"?d.onComplete(a.payload):d.onError&&d.onError()})}function k(a,d){b+=1;var e="processId_"+b;c[e]={onComplete:a,onError:d};return e}function a(a,b,c){j();b=k(b,c);e.postMessage({type:"loadAnimation",path:a,fullPath:window.location.origin+window.location.pathname,id:b})}function l(a,b,c){j();b=k(b,c);e.postMessage({type:"loadData",path:a,fullPath:window.location.origin+window.location.pathname,id:b})}function m(a,b,c){j();b=k(b,c);e.postMessage({type:"complete",animation:a,id:b})}return{loadAnimation:a,loadData:l,completeAnimation:m}}(),ra=function(){var a=function(){var a=k("canvas");a.width=1;a.height=1;var b=a.getContext("2d");b.fillStyle="rgba(0,0,0,0)";b.fillRect(0,0,1,1);return a}();function b(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&(this.imagesLoadedCb&&this.imagesLoadedCb(null))}function c(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&(this.imagesLoadedCb&&this.imagesLoadedCb(null))}function d(a,b,c){var d;if(a.e)d=a.p;else if(b){var e=a.p;e.indexOf("images/")!==-1&&(e=e.split("/")[1]);d=b+e}else d=c,d+=a.u?a.u:"",d+=a.p;return d}function e(a){var b=0,c=setInterval(function(){var d=a.getBBox();(d.width||b>500)&&(this._imageLoaded(),clearInterval(c));b+=1}.bind(this),50)}function f(b){var c=d(b,this.assetsPath,this.path),e=M("image");v?this.testImageLoaded(e):e.addEventListener("load",this._imageLoaded,!1);e.addEventListener("error",function(){f.img=a,this._imageLoaded()}.bind(this),!1);e.setAttributeNS("http://www.w3.org/1999/xlink","href",c);this._elementHelper.append?this._elementHelper.append(e):this._elementHelper.appendChild(e);var f={img:e,assetData:b};return f}function g(b){var c=d(b,this.assetsPath,this.path),e=k("img");e.crossOrigin="anonymous";e.addEventListener("load",this._imageLoaded,!1);e.addEventListener("error",function(){f.img=a,this._imageLoaded()}.bind(this),!1);e.src=c;var f={img:e,assetData:b};return f}function h(a){var b={assetData:a};a=d(a,this.assetsPath,this.path);qa.loadData(a,function(a){b.img=a,this._footageLoaded()}.bind(this),function(){b.img={},this._footageLoaded()}.bind(this));return b}function i(a,b){this.imagesLoadedCb=b;var c;b=a.length;for(c=0;c<b;c+=1)a[c].layers||(!a[c].t||a[c].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(a[c]))):a[c].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(a[c]))))}function j(a){this.path=a||""}function l(a){this.assetsPath=a||""}function m(a){var b=0,c=this.images.length;while(b<c){if(this.images[b].assetData===a)return this.images[b].img;b+=1}return null}function n(){this.imagesLoadedCb=null,this.images.length=0}function o(){return this.totalImages===this.loadedAssets}function p(){return this.totalFootages===this.loadedFootagesCount}function q(a,b){a==="svg"?(this._elementHelper=b,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function r(){this._imageLoaded=b.bind(this),this._footageLoaded=c.bind(this),this.testImageLoaded=e.bind(this),this.createFootageData=h.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}r.prototype={loadAssets:i,setAssetsPath:l,setPath:j,loadedImages:o,loadedFootages:p,destroy:n,getAsset:m,createImgData:g,createImageData:f,imageLoaded:b,footageLoaded:c,setCacheType:q};return r}();function N(){}N.prototype={triggerEvent:function(a,b){if(this._cbs[a]){a=this._cbs[a];for(var c=0;c<a.length;c+=1)a[c](b)}},addEventListener:function(a,b){this._cbs[a]||(this._cbs[a]=[]);this._cbs[a].push(b);return function(){this.removeEventListener(a,b)}.bind(this)},removeEventListener:function(a,b){if(!b)this._cbs[a]=null;else if(this._cbs[a]){var c=0,d=this._cbs[a].length;while(c<d)this._cbs[a][c]===b&&(this._cbs[a].splice(c,1),c-=1,d-=1),c+=1;this._cbs[a].length||(this._cbs[a]=null)}}};var sa=function(){function a(a){a=a.split("\r\n");var b={},c,d=0;for(var e=0;e<a.length;e+=1)c=a[e].split(":"),c.length===2&&(b[c[0]]=c[1].trim(),d+=1);if(d===0)throw new Error();return b}return function(b){var c=[];for(var d=0;d<b.length;d+=1){var e=b[d];e={time:e.tm,duration:e.dr};try{e.payload=JSON.parse(b[d].cm)}catch(c){try{e.payload=a(b[d].cm)}catch(a){e.payload={name:b[d].cm}}}c.push(e)}return c}}(),ta=function(){function a(a){this.compositions.push(a)}return function(){function b(a){var b=0,c=this.compositions.length;while(b<c){if(this.compositions[b].data&&this.compositions[b].data.nm===a){this.compositions[b].prepareFrame&&this.compositions[b].data.xt&&this.compositions[b].prepareFrame(this.currentFrame);return this.compositions[b].compInterface}b+=1}return null}b.compositions=[];b.currentFrame=0;b.registerComposition=a;return b}}(),ua={},va=function(a,b){ua[a]=b};function wa(a){return ua[a]}function xa(){if(ua.canvas)return"canvas";for(var a in ua)if(ua[a])return a;return""}function ya(a){typeof Symbol==="function"&&typeof (typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?ya=function(a){return typeof a}:ya=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==(typeof Symbol==="function"?Symbol.prototype:"@@prototype")?"symbol":typeof a};return ya(a)}var O=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=H(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=ma(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ta(),this.imagePreloader=new ra(),this.audioController=n(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new G("drawnFrame",0,0,0),this.expressionsPlugin=I()};l([N],O);O.prototype.setParams=function(a){(a.wrapper||a.container)&&(this.wrapper=a.wrapper||a.container);var b="svg";a.animType?b=a.animType:a.renderer&&(b=a.renderer);var c=wa(b);this.renderer=new c(this,a.rendererSettings);this.imagePreloader.setCacheType(b,this.renderer.globalData.defs);this.renderer.setProjectInterface(this.projectInterface);this.animType=b;a.loop===""||a.loop===null||a.loop===void 0||a.loop===!0?this.loop=!0:a.loop===!1?this.loop=!1:this.loop=parseInt(a.loop,10);this.autoplay="autoplay"in a?a.autoplay:!0;this.name=a.name?a.name:"";this.autoloadSegments=Object.prototype.hasOwnProperty.call(a,"autoloadSegments")?a.autoloadSegments:!0;this.assetsPath=a.assetsPath;this.initialSegment=a.initialSegment;a.audioFactory&&this.audioController.setAudioFactory(a.audioFactory);a.animationData?this.setupAnimation(a.animationData):a.path&&(a.path.lastIndexOf("\\")!==-1?this.path=a.path.substr(0,a.path.lastIndexOf("\\")+1):this.path=a.path.substr(0,a.path.lastIndexOf("/")+1),this.fileName=a.path.substr(a.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),qa.loadAnimation(a.path,this.configAnimation,this.onSetupError))};O.prototype.onSetupError=function(){this.trigger("data_failed")};O.prototype.setupAnimation=function(a){qa.completeAnimation(a,this.configAnimation)};O.prototype.setData=function(b,a){a&&(ya(a)!=="object"&&(a=JSON.parse(a)));a={wrapper:b,animationData:a};b=b.attributes;a.path=b.getNamedItem("data-animation-path")?b.getNamedItem("data-animation-path").value:b.getNamedItem("data-bm-path")?b.getNamedItem("data-bm-path").value:b.getNamedItem("bm-path")?b.getNamedItem("bm-path").value:"";a.animType=b.getNamedItem("data-anim-type")?b.getNamedItem("data-anim-type").value:b.getNamedItem("data-bm-type")?b.getNamedItem("data-bm-type").value:b.getNamedItem("bm-type")?b.getNamedItem("bm-type").value:b.getNamedItem("data-bm-renderer")?b.getNamedItem("data-bm-renderer").value:b.getNamedItem("bm-renderer")?b.getNamedItem("bm-renderer").value:xa()||"canvas";var c=b.getNamedItem("data-anim-loop")?b.getNamedItem("data-anim-loop").value:b.getNamedItem("data-bm-loop")?b.getNamedItem("data-bm-loop").value:b.getNamedItem("bm-loop")?b.getNamedItem("bm-loop").value:"";c==="false"?a.loop=!1:c==="true"?a.loop=!0:c!==""&&(a.loop=parseInt(c,10));c=b.getNamedItem("data-anim-autoplay")?b.getNamedItem("data-anim-autoplay").value:b.getNamedItem("data-bm-autoplay")?b.getNamedItem("data-bm-autoplay").value:b.getNamedItem("bm-autoplay")?b.getNamedItem("bm-autoplay").value:!0;a.autoplay=c!=="false";a.name=b.getNamedItem("data-name")?b.getNamedItem("data-name").value:b.getNamedItem("data-bm-name")?b.getNamedItem("data-bm-name").value:b.getNamedItem("bm-name")?b.getNamedItem("bm-name").value:"";c=b.getNamedItem("data-anim-prerender")?b.getNamedItem("data-anim-prerender").value:b.getNamedItem("data-bm-prerender")?b.getNamedItem("data-bm-prerender").value:b.getNamedItem("bm-prerender")?b.getNamedItem("bm-prerender").value:"";c==="false"&&(a.prerender=!1);!a.path?this.trigger("destroy"):this.setParams(a)};O.prototype.includeLayers=function(a){a.op>this.animationData.op&&(this.animationData.op=a.op,this.totalFrames=Math.floor(a.op-this.animationData.ip));var b=this.animationData.layers,c,d=b.length,e=a.layers,f,g=e.length;for(f=0;f<g;f+=1){c=0;while(c<d){if(b[c].id===e[f].id){b[c]=e[f];break}c+=1}}(a.chars||a.fonts)&&(this.renderer.globalData.fontManager.addChars(a.chars),this.renderer.globalData.fontManager.addFonts(a.fonts,this.renderer.globalData.defs));if(a.assets){d=a.assets.length;for(c=0;c<d;c+=1)this.animationData.assets.push(a.assets[c])}this.animationData.__complete=!1;qa.completeAnimation(this.animationData,this.onSegmentComplete)};O.prototype.onSegmentComplete=function(a){this.animationData=a;a=I();a&&a.initExpressions(this);this.loadNextSegment()};O.prototype.loadNextSegment=function(){var a=this.animationData.segments;if(!a||a.length===0||!this.autoloadSegments){this.trigger("data_ready");this.timeCompleted=this.totalFrames;return}a=a.shift();this.timeCompleted=a.time*this.frameRate;a=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1;qa.loadData(a,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))};O.prototype.loadSegments=function(){var a=this.animationData.segments;a||(this.timeCompleted=this.totalFrames);this.loadNextSegment()};O.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()};O.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))};O.prototype.configAnimation=function(a){if(!this.renderer)return;try{this.animationData=a,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(a),a.assets||(a.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(a.assets),this.markers=sa(a.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(a){this.triggerConfigError(a)}};O.prototype.waitForFontsLoaded=function(){if(!this.renderer)return;this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20)};O.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var a=I();a&&a.initExpressions(this);this.renderer.initItems();setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0);this.gotoFrame();this.autoplay&&this.play()}};O.prototype.resize=function(a,b){a=typeof a==="number"?a:void 0;b=typeof b==="number"?b:void 0;this.renderer.updateContainerSize(a,b)};O.prototype.setSubframe=function(a){this.isSubframeEnabled=!!a};O.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")};O.prototype.renderFrame=function(){if(this.isLoaded===!1||!this.renderer)return;try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(a){this.triggerRenderFrameError(a)}};O.prototype.play=function(a){if(a&&this.name!==a)return;this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))};O.prototype.pause=function(a){if(a&&this.name!==a)return;this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())};O.prototype.togglePause=function(a){if(a&&this.name!==a)return;this.isPaused===!0?this.play():this.pause()};O.prototype.stop=function(a){if(a&&this.name!==a)return;this.pause();this.playCount=0;this._completedLoop=!1;this.setCurrentRawFrameValue(0)};O.prototype.getMarkerData=function(a){var b;for(var c=0;c<this.markers.length;c+=1){b=this.markers[c];if(b.payload&&b.payload.name===a)return b}return null};O.prototype.goToAndStop=function(a,b,c){if(c&&this.name!==c)return;c=Number(a);if(isNaN(c)){c=this.getMarkerData(a);c&&this.goToAndStop(c.time,!0)}else b?this.setCurrentRawFrameValue(a):this.setCurrentRawFrameValue(a*this.frameModifier);this.pause()};O.prototype.goToAndPlay=function(a,b,c){if(c&&this.name!==c)return;var d=Number(a);if(isNaN(d)){a=this.getMarkerData(a);a&&(!a.duration?this.goToAndStop(a.time,!0):this.playSegments([a.time,a.time+a.duration],!0))}else this.goToAndStop(d,b,c);this.play()};O.prototype.advanceTime=function(a){if(this.isPaused===!0||this.isLoaded===!1)return;a=this.currentRawFrame+a*this.frameModifier;var b=!1;a>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(a>this.totalFrames?a%this.totalFrames:0)||(b=!0,a=this.totalFrames-1):a>=this.totalFrames?(this.playCount+=1,this.checkSegments(a%this.totalFrames)||(this.setCurrentRawFrameValue(a%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(a):a<0?this.checkSegments(a%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+a%this.totalFrames),!this._completedLoop?this._completedLoop=!0:this.trigger("loopComplete")):(b=!0,a=0)):this.setCurrentRawFrameValue(a);b&&(this.setCurrentRawFrameValue(a),this.pause(),this.trigger("complete"))};O.prototype.adjustSegment=function(a,b){this.playCount=0,a[1]<a[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=a[0]-a[1],this.timeCompleted=this.totalFrames,this.firstFrame=a[1],this.setCurrentRawFrameValue(this.totalFrames-.001-b)):a[1]>a[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=a[1]-a[0],this.timeCompleted=this.totalFrames,this.firstFrame=a[0],this.setCurrentRawFrameValue(.001+b)),this.trigger("segmentStart")};O.prototype.setSegment=function(a,b){var c=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<a?c=a:this.currentRawFrame+this.firstFrame>b&&(c=b-a));this.firstFrame=a;this.totalFrames=b-a;this.timeCompleted=this.totalFrames;c!==-1&&this.goToAndStop(c,!0)};O.prototype.playSegments=function(a,b){b&&(this.segments.length=0);if(ya(a[0])==="object"){var c,d=a.length;for(c=0;c<d;c+=1)this.segments.push(a[c])}else this.segments.push(a);this.segments.length&&b&&this.adjustSegment(this.segments.shift(),0);this.isPaused&&this.play()};O.prototype.resetSegments=function(a){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),a&&this.checkSegments(0)};O.prototype.checkSegments=function(a){if(this.segments.length){this.adjustSegment(this.segments.shift(),a);return!0}return!1};O.prototype.destroy=function(a){if(a&&this.name!==a||!this.renderer)return;this.renderer.destroy();this.imagePreloader.destroy();this.trigger("destroy");this._cbs=null;this.onEnterFrame=null;this.onLoopComplete=null;this.onComplete=null;this.onSegmentStart=null;this.onDestroy=null;this.renderer=null;this.expressionsPlugin=null;this.imagePreloader=null;this.projectInterface=null};O.prototype.setCurrentRawFrameValue=function(a){this.currentRawFrame=a,this.gotoFrame()};O.prototype.setSpeed=function(a){this.playSpeed=a,this.updaFrameModifier()};O.prototype.setDirection=function(a){this.playDirection=a<0?-1:1,this.updaFrameModifier()};O.prototype.setLoop=function(a){this.loop=a};O.prototype.setVolume=function(a,b){if(b&&this.name!==b)return;this.audioController.setVolume(a)};O.prototype.getVolume=function(){return this.audioController.getVolume()};O.prototype.mute=function(a){if(a&&this.name!==a)return;this.audioController.mute()};O.prototype.unmute=function(a){if(a&&this.name!==a)return;this.audioController.unmute()};O.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)};O.prototype.getPath=function(){return this.path};O.prototype.getAssetsPath=function(a){var b;if(a.e)b=a.p;else if(this.assetsPath){var c=a.p;c.indexOf("images/")!==-1&&(c=c.split("/")[1]);b=this.assetsPath+c}else b=this.path,b+=a.u?a.u:"",b+=a.p;return b};O.prototype.getAssetData=function(a){var b=0,c=this.assets.length;while(b<c){if(a===this.assets[b].id)return this.assets[b];b+=1}return null};O.prototype.hide=function(){this.renderer.hide()};O.prototype.show=function(){this.renderer.show()};O.prototype.getDuration=function(a){return a?this.totalFrames:this.totalFrames/this.frameRate};O.prototype.updateDocumentData=function(a,b,c){try{a=this.renderer.getElementByPath(a);a.updateDocumentData(b,c)}catch(a){}};O.prototype.trigger=function(a){if(this._cbs&&this._cbs[a])switch(a){case"enterFrame":this.triggerEvent(a,new G(a,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame;this.drawnFrameEvent.totalTime=this.totalFrames;this.drawnFrameEvent.direction=this.frameModifier;this.triggerEvent(a,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(a,new ba(a,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(a,new aa(a,this.frameMult));break;case"segmentStart":this.triggerEvent(a,new ca(a,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(a,new da(a,this));break;default:this.triggerEvent(a)}a==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new G(a,this.currentFrame,this.totalFrames,this.frameMult));a==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new ba(a,this.loop,this.playCount,this.frameMult));a==="complete"&&this.onComplete&&this.onComplete.call(this,new aa(a,this.frameMult));a==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new ca(a,this.firstFrame,this.totalFrames));a==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new da(a,this))};O.prototype.triggerRenderFrameError=function(a){a=new ea(a,this.currentFrame);this.triggerEvent("error",a);this.onError&&this.onError.call(this,a)};O.prototype.triggerConfigError=function(a){a=new fa(a,this.currentFrame);this.triggerEvent("error",a);this.onError&&this.onError.call(this,a)};var P=function(){var c={},d=[],e=0,f=0,g=0,h=!0,i=!1;function j(a){var b=0;a=a.target;while(b<f)d[b].animation===a&&(d.splice(b,1),b-=1,f-=1,a.isPaused||o()),b+=1}function l(b,a){if(!b)return null;var c=0;while(c<f){if(d[c].elem===b&&d[c].elem!==null)return d[c].animation;c+=1}c=new O();p(c,b);c.setData(b,a);return c}function m(){var a,b=d.length,c=[];for(a=0;a<b;a+=1)c.push(d[a].animation);return c}function n(){g+=1,B()}function o(){g-=1}function p(a,b){a.addEventListener("destroy",j),a.addEventListener("_active",n),a.addEventListener("_idle",o),d.push({elem:b,animation:a}),f+=1}function b(a){var b=new O();p(b,null);b.setParams(a);return b}function q(a,b){var c;for(c=0;c<f;c+=1)d[c].animation.setSpeed(a,b)}function r(a,b){var c;for(c=0;c<f;c+=1)d[c].animation.setDirection(a,b)}function s(a){var b;for(b=0;b<f;b+=1)d[b].animation.play(a)}function t(a){var b=a-e,c;for(c=0;c<f;c+=1)d[c].animation.advanceTime(b);e=a;g&&!i?window.requestAnimationFrame(t):h=!0}function u(a){e=a,window.requestAnimationFrame(t)}function v(a){var b;for(b=0;b<f;b+=1)d[b].animation.pause(a)}function w(a,b,c){var e;for(e=0;e<f;e+=1)d[e].animation.goToAndStop(a,b,c)}function x(a){var b;for(b=0;b<f;b+=1)d[b].animation.stop(a)}function y(a){var b;for(b=0;b<f;b+=1)d[b].animation.togglePause(a)}function z(a){var b;for(b=f-1;b>=0;b-=1)d[b].animation.destroy(a)}function a(b,a,c){var d=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),e,f=d.length;for(e=0;e<f;e+=1)c&&d[e].setAttribute("data-bm-type",c),l(d[e],b);if(a&&f===0){c||(c="svg");d=document.getElementsByTagName("body")[0];d.innerText="";e=k("div");e.style.width="100%";e.style.height="100%";e.setAttribute("data-bm-type",c);d.appendChild(e);l(e,b)}}function A(){var a;for(a=0;a<f;a+=1)d[a].animation.resize()}function B(){!i&&g&&(h&&(window.requestAnimationFrame(u),h=!1))}function C(){i=!0}function D(){i=!1,B()}function E(a,b){var c;for(c=0;c<f;c+=1)d[c].animation.setVolume(a,b)}function F(a){var b;for(b=0;b<f;b+=1)d[b].animation.mute(a)}function G(a){var b;for(b=0;b<f;b+=1)d[b].animation.unmute(a)}c.registerAnimation=l;c.loadAnimation=b;c.setSpeed=q;c.setDirection=r;c.play=s;c.pause=v;c.stop=x;c.togglePause=y;c.searchAnimations=a;c.resize=A;c.goToAndStop=w;c.destroy=z;c.freeze=C;c.unfreeze=D;c.setVolume=E;c.mute=F;c.unmute=G;c.getRegisteredAnimations=m;return c}(),za=function(){var a={};a.getBezierEasing=c;var b={};function c(a,c,d,e,f){f=f||("bez_"+a+"_"+c+"_"+d+"_"+e).replace(/\./g,"p");if(b[f])return b[f];a=new r([a,c,d,e]);b[f]=a;return a}var d=4,e=.001,f=1e-7,g=10,h=11,i=1/(h-1),j=typeof Float32Array==="function";function k(a,b){return 1-3*b+3*a}function l(a,b){return 3*b-6*a}function m(a){return 3*a}function n(a,b,c){return((k(b,c)*a+l(b,c))*a+m(b))*a}function o(a,b,c){return 3*k(b,c)*a*a+2*l(b,c)*a+m(b)}function p(a,b,c,d,e){var h,i,j=0;do i=b+(c-b)/2,h=n(i,d,e)-a,h>0?c=i:b=i;while(Math.abs(h)>f&&++j<g);return i}function q(a,b,c,e){for(var f=0;f<d;++f){var g=o(b,c,e);if(g===0)return b;var h=n(b,c,e)-a;b-=h/g}return b}function r(a){this._p=a,this._mSampleValues=j?new Float32Array(h):new Array(h),this._precomputed=!1,this.get=this.get.bind(this)}r.prototype={get:function(a){var b=this._p[0],c=this._p[1],d=this._p[2],e=this._p[3];this._precomputed||this._precompute();if(b===c&&d===e)return a;if(a===0)return 0;return a===1?1:n(this._getTForX(a),c,e)},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0;(a!==b||c!==d)&&this._calcSampleValues()},_calcSampleValues:function(){var a=this._p[0],b=this._p[2];for(var c=0;c<h;++c)this._mSampleValues[c]=n(c*i,a,b)},_getTForX:function(a){var b=this._p[0],c=this._p[2],d=this._mSampleValues,f=0,g=1,j=h-1;for(;g!==j&&d[g]<=a;++g)f+=i;--g;j=(a-d[g])/(d[g+1]-d[g]);d=f+j*i;g=o(d,b,c);if(g>=e)return q(a,d,b,c);return g===0?d:p(a,f,f+i,b,c)}};return a}(),Aa=function(){function a(a){return a.concat(p(a.length))}return{"double":a}}(),Ba=function(){return function(a,b,c){var d=0,e=a,f=p(e);a={newElement:g,release:h};function g(){var a;d?(d-=1,a=f[d]):a=b();return a}function h(a){d===e&&(f=Aa["double"](f),e*=2),c&&c(a),f[d]=a,d+=1}return a}}(),Ca=function(){function a(){return{addedLength:0,percents:o("float32",L()),lengths:o("float32",L())}}return Ba(8,a)}(),Da=function(){function a(){return{lengths:[],totalLength:0}}function b(a){var b,c=a.lengths.length;for(b=0;b<c;b+=1)Ca.release(a.lengths[b]);a.lengths.length=0}return Ba(8,a,b)}();function Ea(){var a=Math;function b(a,b,c,d,e,f){e=a*d+b*e+c*f-e*d-f*a-c*b;return e>-.001&&e<.001}function c(c,d,e,f,g,h,i,j,k){if(e===0&&h===0&&k===0)return b(c,d,f,g,i,j);var l=a.sqrt(a.pow(f-c,2)+a.pow(g-d,2)+a.pow(h-e,2));c=a.sqrt(a.pow(i-c,2)+a.pow(j-d,2)+a.pow(k-e,2));d=a.sqrt(a.pow(i-f,2)+a.pow(j-g,2)+a.pow(k-h,2));l>c?l>d?e=l-c-d:e=d-c-l:d>c?e=d-c-l:e=c-l-d;return e>-1e-4&&e<1e-4}var d=function(){return function(a,b,c,d){var e=L(),f,g,h,i,j,k=0,l,m=[],n=[],o=Ca.newElement();h=c.length;for(f=0;f<e;f+=1){j=f/(e-1);l=0;for(g=0;g<h;g+=1)i=x(1-j,3)*a[g]+3*x(1-j,2)*j*c[g]+3*(1-j)*x(j,2)*d[g]+x(j,3)*b[g],m[g]=i,n[g]!==null&&(l+=x(m[g]-n[g],2)),n[g]=m[g];l&&(l=y(l),k+=l);o.percents[f]=j;o.lengths[f]=k}o.addedLength=k;return o}}();function e(a){var b=Da.newElement(),c=a.c,e=a.v,f=a.o,g=a.i,h;a=a._length;var i=b.lengths,j=0;for(h=0;h<a-1;h+=1)i[h]=d(e[h],e[h+1],f[h],g[h+1]),j+=i[h].addedLength;c&&a&&(i[h]=d(e[h],e[0],f[h],g[0]),j+=i[h].addedLength);b.totalLength=j;return b}function f(a){this.segmentLength=0,this.points=new Array(a)}function g(a,b){this.partialLength=a,this.point=b}var h=function(){var a={};return function(c,d,e,h){var i=(c[0]+"_"+c[1]+"_"+d[0]+"_"+d[1]+"_"+e[0]+"_"+e[1]+"_"+h[0]+"_"+h[1]).replace(/\./g,"p");if(!a[i]){var j=L(),k,l,m,n,o,q=0,r,s,t=null;c.length===2&&(c[0]!==d[0]||c[1]!==d[1])&&b(c[0],c[1],d[0],d[1],c[0]+e[0],c[1]+e[1])&&b(c[0],c[1],d[0],d[1],d[0]+h[0],d[1]+h[1])&&(j=2);var u=new f(j);m=e.length;for(k=0;k<j;k+=1){s=p(m);o=k/(j-1);r=0;for(l=0;l<m;l+=1)n=x(1-o,3)*c[l]+3*x(1-o,2)*o*(c[l]+e[l])+3*(1-o)*x(o,2)*(d[l]+h[l])+x(o,3)*d[l],s[l]=n,t!==null&&(r+=x(s[l]-t[l],2));r=y(r);q+=r;u.points[k]=new g(r,s);t=s}u.segmentLength=q;a[i]=u}return a[i]}}();function i(a,b){var c=b.percents,d=b.lengths,e=c.length,f=z((e-1)*a);a=a*b.addedLength;b=0;if(f===e-1||f===0||a===d[f])return c[f];var g=d[f]>a?-1:1,h=!0;while(h){d[f]<=a&&d[f+1]>a?(b=(a-d[f])/(d[f+1]-d[f]),h=!1):f+=g;if(f<0||f>=e-1){if(f===e-1)return c[f];h=!1}}return c[f]+(c[f+1]-c[f])*b}function j(b,c,d,e,f,g){f=i(f,g);g=1-f;var h=a.round((g*g*g*b[0]+(f*g*g+g*f*g+g*g*f)*d[0]+(f*f*g+g*f*f+f*g*f)*e[0]+f*f*f*c[0])*1e3)/1e3;b=a.round((g*g*g*b[1]+(f*g*g+g*f*g+g*g*f)*d[1]+(f*f*g+g*f*f+f*g*f)*e[1]+f*f*f*c[1])*1e3)/1e3;return[h,b]}var k=o("float32",8);function l(b,c,d,e,f,g,h){f<0?f=0:f>1&&(f=1);f=i(f,h);g=g>1?1:g;g=i(g,h);var j;h=b.length;var l=1-f,m=1-g,n=l*l*l,o=f*l*l*3,p=f*f*l*3,q=f*f*f,r=l*l*m,s=f*l*m+l*f*m+l*l*g,t=f*f*m+l*f*g+f*l*g,u=f*f*g,v=l*m*m,w=f*m*m+l*g*m+l*m*g;l=f*g*m+l*g*g+f*m*g;f=f*g*g;var x=m*m*m,y=g*m*m+m*g*m+m*m*g;m=g*g*m+m*g*g+g*m*g;g=g*g*g;for(j=0;j<h;j+=1)k[j*4]=a.round((n*b[j]+o*d[j]+p*e[j]+q*c[j])*1e3)/1e3,k[j*4+1]=a.round((r*b[j]+s*d[j]+t*e[j]+u*c[j])*1e3)/1e3,k[j*4+2]=a.round((v*b[j]+w*d[j]+l*e[j]+f*c[j])*1e3)/1e3,k[j*4+3]=a.round((x*b[j]+y*d[j]+m*e[j]+g*c[j])*1e3)/1e3;return k}return{getSegmentsLength:e,getNewSegment:l,getPointInSegment:j,buildBezierData:h,pointOnLine2D:b,pointOnLine3D:c}}var Fa=Ea(),Ga=d,Ha=Math.abs;function Ia(a,b){var c=this.offsetTime,d;this.propType==="multidimensional"&&(d=o("float32",this.pv.length));var e=b.lastIndex,f=e,g=this.keyframes.length-1,h=!0,i,j,k;while(h){i=this.keyframes[f];j=this.keyframes[f+1];if(f===g-1&&a>=j.t-c){i.h&&(i=j);e=0;break}if(j.t-c>a){e=f;break}f<g-1?f+=1:(e=0,h=!1)}k=this.keyframesMetadata[f]||{};var l,m,n,p,q,r=j.t-c;c=i.t-c;if(i.to){k.bezierData||(k.bezierData=Fa.buildBezierData(i.s,j.s||i.e,i.to,i.ti));var s=k.bezierData;if(a>=r||a<c){var t=a>=r?s.points.length-1:0;m=s.points[t].point.length;for(l=0;l<m;l+=1)d[l]=s.points[t].point[l]}else{k.__fnct?t=k.__fnct:(t=za.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,k.__fnct=t);n=t((a-c)/(r-c));var u=s.segmentLength*n,v,w=b.lastFrame<a&&b._lastKeyframeIndex===f?b._lastAddedLength:0;q=b.lastFrame<a&&b._lastKeyframeIndex===f?b._lastPoint:0;h=!0;p=s.points.length;while(h){w+=s.points[q].partialLength;if(u===0||n===0||q===s.points.length-1){m=s.points[q].point.length;for(l=0;l<m;l+=1)d[l]=s.points[q].point[l];break}else if(u>=w&&u<w+s.points[q+1].partialLength){v=(u-w)/s.points[q+1].partialLength;m=s.points[q].point.length;for(l=0;l<m;l+=1)d[l]=s.points[q].point[l]+(s.points[q+1].point[l]-s.points[q].point[l])*v;break}q<p-1?q+=1:h=!1}b._lastPoint=q;b._lastAddedLength=w-s.points[q].partialLength;b._lastKeyframeIndex=f}}else{g=i.s.length;l=j.s||i.e;if(this.sh&&i.h!==1)if(a>=r)d[0]=l[0],d[1]=l[1],d[2]=l[2];else if(a<=c)d[0]=i.s[0],d[1]=i.s[1],d[2]=i.s[2];else{m=La(i.s);v=La(l);u=(a-c)/(r-c);Ka(d,Ja(m,v,u))}else for(f=0;f<g;f+=1)i.h!==1&&(a>=r?n=1:a<c?n=0:(i.o.x.constructor===Array?(k.__fnct||(k.__fnct=[]),!k.__fnct[f]?(h=i.o.x[f]===void 0?i.o.x[0]:i.o.x[f],p=i.o.y[f]===void 0?i.o.y[0]:i.o.y[f],w=i.i.x[f]===void 0?i.i.x[0]:i.i.x[f],s=i.i.y[f]===void 0?i.i.y[0]:i.i.y[f],t=za.getBezierEasing(h,p,w,s).get,k.__fnct[f]=t):t=k.__fnct[f]):!k.__fnct?(h=i.o.x,p=i.o.y,w=i.i.x,s=i.i.y,t=za.getBezierEasing(h,p,w,s).get,i.keyframeMetadata=t):t=k.__fnct,n=t((a-c)/(r-c)))),l=j.s||i.e,q=i.h===1?i.s[f]:i.s[f]+(l[f]-i.s[f])*n,this.propType==="multidimensional"?d[f]=q:d=q}b.lastIndex=e;return d}function Ja(a,b,c){var d=[],e=a[0],f=a[1],g=a[2];a=a[3];var h=b[0],i=b[1],j=b[2];b=b[3];var k,l,m;k=e*h+f*i+g*j+a*b;k<0&&(k=-k,h=-h,i=-i,j=-j,b=-b);1-k>1e-6?(k=Math.acos(k),l=Math.sin(k),m=Math.sin((1-c)*k)/l,k=Math.sin(c*k)/l):(m=1-c,k=c);d[0]=m*e+k*h;d[1]=m*f+k*i;d[2]=m*g+k*j;d[3]=m*a+k*b;return d}function Ka(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=Math.atan2(2*d*b-2*c*e,1-2*d*d-2*e*e),g=Math.asin(2*c*d+2*e*b);b=Math.atan2(2*c*b-2*d*e,1-2*c*c-2*e*e);a[0]=f/D;a[1]=g/D;a[2]=b/D}function La(a){var b=a[0]*D,c=a[1]*D;a=a[2]*D;var d=Math.cos(b/2),e=Math.cos(c/2),f=Math.cos(a/2);b=Math.sin(b/2);c=Math.sin(c/2);a=Math.sin(a/2);var g=d*e*f-b*c*a,h=b*c*f+d*e*a,i=b*e*f+d*c*a;d=d*c*f-b*e*a;return[h,i,d,g]}function Ma(){var a=this.comp.renderedFrame-this.offsetTime,b=this.keyframes[0].t-this.offsetTime,c=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(a===this._caching.lastFrame||this._caching.lastFrame!==Ga&&(this._caching.lastFrame>=c&&a>=c||this._caching.lastFrame<b&&a<b))){this._caching.lastFrame>=a&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);c=this.interpolateValue(a,this._caching);this.pv=c}this._caching.lastFrame=a;return this.pv}function Na(a){var b;if(this.propType==="unidimensional")b=a*this.mult,Ha(this.v-b)>1e-5&&(this.v=b,this._mdf=!0);else{var c=0,d=this.v.length;while(c<d)b=a[c]*this.mult,Ha(this.v[c]-b)>1e-5&&(this.v[c]=b,this._mdf=!0),c+=1}}function Oa(){if(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)return;if(this.lock){this.setVValue(this.pv);return}this.lock=!0;this._mdf=this._isFirstFrame;var a,b=this.effectsSequence.length,c=this.kf?this.pv:this.data.k;for(a=0;a<b;a+=1)c=this.effectsSequence[a](c);this.setVValue(c);this._isFirstFrame=!1;this.lock=!1;this.frameId=this.elem.globalData.frameId}function Pa(a){this.effectsSequence.push(a),this.container.addDynamicProperty(this)}function Qa(a,b,c,d){this.propType="unidimensional",this.mult=c||1,this.data=b,this.v=c?b.k*c:b.k,this.pv=b.k,this._mdf=!1,this.elem=a,this.container=d,this.comp=a.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=Oa,this.setVValue=Na,this.addEffect=Pa}function Ra(a,b,c,d){this.propType="multidimensional";this.mult=c||1;this.data=b;this._mdf=!1;this.elem=a;this.container=d;this.comp=a.comp;this.k=!1;this.kf=!1;this.frameId=-1;c=b.k.length;this.v=o("float32",c);this.pv=o("float32",c);this.vel=o("float32",c);for(d=0;d<c;d+=1)this.v[d]=b.k[d]*this.mult,this.pv[d]=b.k[d];this._isFirstFrame=!0;this.effectsSequence=[];this.getValue=Oa;this.setVValue=Na;this.addEffect=Pa}function Sa(a,b,c,d){this.propType="unidimensional",this.keyframes=b.k,this.keyframesMetadata=[],this.offsetTime=a.data.st,this.frameId=-1,this._caching={lastFrame:Ga,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=b,this.mult=c||1,this.elem=a,this.container=d,this.comp=a.comp,this.v=Ga,this.pv=Ga,this._isFirstFrame=!0,this.getValue=Oa,this.setVValue=Na,this.interpolateValue=Ia,this.effectsSequence=[Ma.bind(this)],this.addEffect=Pa}function Ta(a,b,c,d){this.propType="multidimensional";var e,f=b.k.length,g,h,i,j;for(e=0;e<f-1;e+=1)b.k[e].to&&b.k[e].s&&b.k[e+1]&&b.k[e+1].s&&(g=b.k[e].s,h=b.k[e+1].s,i=b.k[e].to,j=b.k[e].ti,(g.length===2&&!(g[0]===h[0]&&g[1]===h[1])&&Fa.pointOnLine2D(g[0],g[1],h[0],h[1],g[0]+i[0],g[1]+i[1])&&Fa.pointOnLine2D(g[0],g[1],h[0],h[1],h[0]+j[0],h[1]+j[1])||g.length===3&&!(g[0]===h[0]&&g[1]===h[1]&&g[2]===h[2])&&Fa.pointOnLine3D(g[0],g[1],g[2],h[0],h[1],h[2],g[0]+i[0],g[1]+i[1],g[2]+i[2])&&Fa.pointOnLine3D(g[0],g[1],g[2],h[0],h[1],h[2],h[0]+j[0],h[1]+j[1],h[2]+j[2]))&&(b.k[e].to=null,b.k[e].ti=null),g[0]===h[0]&&g[1]===h[1]&&i[0]===0&&i[1]===0&&j[0]===0&&j[1]===0&&((g.length===2||g[2]===h[2]&&i[2]===0&&j[2]===0)&&(b.k[e].to=null,b.k[e].ti=null)));this.effectsSequence=[Ma.bind(this)];this.data=b;this.keyframes=b.k;this.keyframesMetadata=[];this.offsetTime=a.data.st;this.k=!0;this.kf=!0;this._isFirstFrame=!0;this.mult=c||1;this.elem=a;this.container=d;this.comp=a.comp;this.getValue=Oa;this.setVValue=Na;this.interpolateValue=Ia;this.frameId=-1;g=b.k[0].s.length;this.v=o("float32",g);this.pv=o("float32",g);for(e=0;e<g;e+=1)this.v[e]=Ga,this.pv[e]=Ga;this._caching={lastFrame:Ga,lastIndex:0,value:o("float32",g)};this.addEffect=Pa}var Q=function(){function a(a,b,c,d,e){b.sid&&(b=a.globalData.slotManager.getProp(b));var f;if(!b.k.length)f=new Qa(a,b,d,e);else if(typeof b.k[0]==="number")f=new Ra(a,b,d,e);else switch(c){case 0:f=new Sa(a,b,d,e);break;case 1:f=new Ta(a,b,d,e);break;default:break}f.effectsSequence.length&&e.addDynamicProperty(f);return f}a={getProp:a};return a}();function R(){}R.prototype={addDynamicProperty:function(a){this.dynamicProperties.indexOf(a)===-1&&(this.dynamicProperties.push(a),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var a,b=this.dynamicProperties.length;for(a=0;a<b;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(a){this.container=a,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var Ua=function(){function a(){return o("float32",2)}return Ba(8,a)}();function Va(){this.c=!1,this._length=0,this._maxLength=8,this.v=p(this._maxLength),this.o=p(this._maxLength),this.i=p(this._maxLength)}Va.prototype.setPathData=function(a,b){this.c=a;this.setLength(b);a=0;while(a<b)this.v[a]=Ua.newElement(),this.o[a]=Ua.newElement(),this.i[a]=Ua.newElement(),a+=1};Va.prototype.setLength=function(a){while(this._maxLength<a)this.doubleArrayLength();this._length=a};Va.prototype.doubleArrayLength=function(){this.v=this.v.concat(p(this._maxLength)),this.i=this.i.concat(p(this._maxLength)),this.o=this.o.concat(p(this._maxLength)),this._maxLength*=2};Va.prototype.setXYAt=function(a,b,c,d,e){var f;this._length=Math.max(this._length,d+1);this._length>=this._maxLength&&this.doubleArrayLength();switch(c){case"v":f=this.v;break;case"i":f=this.i;break;case"o":f=this.o;break;default:f=[];break}(!f[d]||f[d]&&!e)&&(f[d]=Ua.newElement());f[d][0]=a;f[d][1]=b};Va.prototype.setTripleAt=function(a,b,c,d,e,f,g,h){this.setXYAt(a,b,"v",g,h),this.setXYAt(c,d,"o",g,h),this.setXYAt(e,f,"i",g,h)};Va.prototype.reverse=function(){var a=new Va();a.setPathData(this.c,this._length);var b=this.v,c=this.o,d=this.i,e=0;this.c&&(a.setTripleAt(b[0][0],b[0][1],d[0][0],d[0][1],c[0][0],c[0][1],0,!1),e=1);var f=this._length-1,g=this._length;for(e=e;e<g;e+=1)a.setTripleAt(b[f][0],b[f][1],d[f][0],d[f][1],c[f][0],c[f][1],e,!1),f-=1;return a};Va.prototype.length=function(){return this._length};var S=function(){function a(){return new Va()}function b(a){var b=a._length,c;for(c=0;c<b;c+=1)Ua.release(a.v[c]),Ua.release(a.i[c]),Ua.release(a.o[c]),a.v[c]=null,a.i[c]=null,a.o[c]=null;a._length=0;a.c=!1}function c(a){var b=d.newElement(),c,e=a._length===void 0?a.v.length:a._length;b.setLength(e);b.c=a.c;for(c=0;c<e;c+=1)b.setTripleAt(a.v[c][0],a.v[c][1],a.o[c][0],a.o[c][1],a.i[c][0],a.i[c][1],c);return b}var d=Ba(4,a,b);d.clone=c;return d}();function Wa(){this._length=0,this._maxLength=4,this.shapes=p(this._maxLength)}Wa.prototype.addShape=function(a){this._length===this._maxLength&&(this.shapes=this.shapes.concat(p(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=a,this._length+=1};Wa.prototype.releaseShapes=function(){var a;for(a=0;a<this._length;a+=1)S.release(this.shapes[a]);this._length=0};var Xa=function(){d={newShapeCollection:d,release:e};var a=0,b=4,c=p(b);function d(){var b;a?(a-=1,b=c[a]):b=new Wa();return b}function e(d){var e,f=d._length;for(e=0;e<f;e+=1)S.release(d.shapes[e]);d._length=0;a===b&&(c=Aa["double"](c),b*=2);c[a]=d;a+=1}return d}(),Ya=function(){var a=-999999;function e(a,b,c){var d=c.lastIndex,e,f,g,h,i=this.keyframes;if(a<i[0].t-this.offsetTime)e=i[0].s[0],g=!0,d=0;else if(a>=i[i.length-1].t-this.offsetTime)e=i[i.length-1].s?i[i.length-1].s[0]:i[i.length-2].e[0],g=!0;else{var j=d,k=i.length-1,l=!0,m,n;while(l){m=i[j];n=i[j+1];if(n.t-this.offsetTime>a)break;j<k-1?j+=1:l=!1}l=this.keyframesMetadata[j]||{};g=m.h===1;d=j;if(!g){if(a>=n.t-this.offsetTime)h=1;else if(a<m.t-this.offsetTime)h=0;else{l.__fnct?i=l.__fnct:(i=za.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y).get,l.__fnct=i);h=i((a-(m.t-this.offsetTime))/(n.t-this.offsetTime-(m.t-this.offsetTime)))}f=n.s?n.s[0]:m.e[0]}e=m.s[0]}k=b._length;j=e.i[0].length;c.lastIndex=d;for(l=0;l<k;l+=1)for(i=0;i<j;i+=1)a=g?e.i[l][i]:e.i[l][i]+(f.i[l][i]-e.i[l][i])*h,b.i[l][i]=a,a=g?e.o[l][i]:e.o[l][i]+(f.o[l][i]-e.o[l][i])*h,b.o[l][i]=a,a=g?e.v[l][i]:e.v[l][i]+(f.v[l][i]-e.v[l][i])*h,b.v[l][i]=a}function f(){var b=this.comp.renderedFrame-this.offsetTime,c=this.keyframes[0].t-this.offsetTime,d=this.keyframes[this.keyframes.length-1].t-this.offsetTime,e=this._caching.lastFrame;e!==a&&(e<c&&b<c||e>d&&b>d)||(this._caching.lastIndex=e<b?this._caching.lastIndex:0,this.interpolateShape(b,this.pv,this._caching));this._caching.lastFrame=b;return this.pv}function g(){this.paths=this.localShapeCollection}function h(a,b){if(a._length!==b._length||a.c!==b.c)return!1;var c,d=a._length;for(c=0;c<d;c+=1)if(a.v[c][0]!==b.v[c][0]||a.v[c][1]!==b.v[c][1]||a.o[c][0]!==b.o[c][0]||a.o[c][1]!==b.o[c][1]||a.i[c][0]!==b.i[c][0]||a.i[c][1]!==b.i[c][1])return!1;return!0}function b(a){h(this.v,a)||(this.v=S.clone(a),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function c(){if(this.elem.globalData.frameId===this.frameId)return;if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0;this._mdf=!1;var a;this.kf?a=this.pv:this.data.ks?a=this.data.ks.k:a=this.data.pt.k;var b,c=this.effectsSequence.length;for(b=0;b<c;b+=1)a=this.effectsSequence[b](a);this.setVValue(a);this.lock=!1;this.frameId=this.elem.globalData.frameId}function i(a,b,c){this.propType="shape";this.comp=a.comp;this.container=a;this.elem=a;this.data=b;this.k=!1;this.kf=!1;this._mdf=!1;a=c===3?b.pt.k:b.ks.k;this.v=S.clone(a);this.pv=S.clone(this.v);this.localShapeCollection=Xa.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.reset=g;this.effectsSequence=[]}function d(a){this.effectsSequence.push(a),this.container.addDynamicProperty(this)}i.prototype.interpolateShape=e;i.prototype.getValue=c;i.prototype.setVValue=b;i.prototype.addEffect=d;function j(b,c,d){this.propType="shape";this.comp=b.comp;this.elem=b;this.container=b;this.offsetTime=b.data.st;this.keyframes=d===3?c.pt.k:c.ks.k;this.keyframesMetadata=[];this.k=!0;this.kf=!0;b=this.keyframes[0].s[0].i.length;this.v=S.newElement();this.v.setPathData(this.keyframes[0].s[0].c,b);this.pv=S.clone(this.v);this.localShapeCollection=Xa.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.lastFrame=a;this.reset=g;this._caching={lastFrame:a,lastIndex:0};this.effectsSequence=[f.bind(this)]}j.prototype.getValue=c;j.prototype.interpolateShape=e;j.prototype.setVValue=b;j.prototype.addEffect=d;var k=function(){var a=E;function b(a,b){this.v=S.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=Xa.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=b.d,this.elem=a,this.comp=a.comp,this.frameId=-1,this.initDynamicPropertyContainer(a),this.p=Q.getProp(a,b.p,1,0,this),this.s=Q.getProp(a,b.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}b.prototype={reset:g,getValue:function(){if(this.elem.globalData.frameId===this.frameId)return;this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();this._mdf&&this.convertEllToPath()},convertEllToPath:function(){var b=this.p.v[0],c=this.p.v[1],d=this.s.v[0]/2,e=this.s.v[1]/2,f=this.d!==3,g=this.v;g.v[0][0]=b;g.v[0][1]=c-e;g.v[1][0]=f?b+d:b-d;g.v[1][1]=c;g.v[2][0]=b;g.v[2][1]=c+e;g.v[3][0]=f?b-d:b+d;g.v[3][1]=c;g.i[0][0]=f?b-d*a:b+d*a;g.i[0][1]=c-e;g.i[1][0]=f?b+d:b-d;g.i[1][1]=c-e*a;g.i[2][0]=f?b+d*a:b-d*a;g.i[2][1]=c+e;g.i[3][0]=f?b-d:b+d;g.i[3][1]=c+e*a;g.o[0][0]=f?b+d*a:b-d*a;g.o[0][1]=c-e;g.o[1][0]=f?b+d:b-d;g.o[1][1]=c+e*a;g.o[2][0]=f?b-d*a:b+d*a;g.o[2][1]=c+e;g.o[3][0]=f?b-d:b+d;g.o[3][1]=c-e*a}};l([R],b);return b}(),m=function(){function a(a,b){this.v=S.newElement(),this.v.setPathData(!0,0),this.elem=a,this.comp=a.comp,this.data=b,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(a),b.sy===1?(this.ir=Q.getProp(a,b.ir,0,0,this),this.is=Q.getProp(a,b.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=Q.getProp(a,b.pt,0,0,this),this.p=Q.getProp(a,b.p,1,0,this),this.r=Q.getProp(a,b.r,0,D,this),this.or=Q.getProp(a,b.or,0,0,this),this.os=Q.getProp(a,b.os,0,.01,this),this.localShapeCollection=Xa.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}a.prototype={reset:g,getValue:function(){if(this.elem.globalData.frameId===this.frameId)return;this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();this._mdf&&this.convertToPath()},convertStarToPath:function(){var a=Math.floor(this.pt.v)*2,b=Math.PI*2/a,c=!0,d=this.or.v,e=this.ir.v,f=this.os.v,g=this.is.v,h=2*Math.PI*d/(a*2),i=2*Math.PI*e/(a*2),j,k,l,m,n=-Math.PI/2;n+=this.r.v;var o=this.data.d===3?-1:1;this.v._length=0;for(j=0;j<a;j+=1){k=c?d:e;l=c?f:g;m=c?h:i;var p=k*Math.cos(n);k=k*Math.sin(n);var q=p===0&&k===0?0:k/Math.sqrt(p*p+k*k),r=p===0&&k===0?0:-p/Math.sqrt(p*p+k*k);p+=+this.p.v[0];k+=+this.p.v[1];this.v.setTripleAt(p,k,p-q*m*l*o,k-r*m*l*o,p+q*m*l*o,k+r*m*l*o,j,!0);c=!c;n+=b*o}},convertPolygonToPath:function(){var a=Math.floor(this.pt.v),b=Math.PI*2/a,c=this.or.v,d=this.os.v,e=2*Math.PI*c/(a*4),f,g=-Math.PI*.5,h=this.data.d===3?-1:1;g+=this.r.v;this.v._length=0;for(f=0;f<a;f+=1){var i=c*Math.cos(g),j=c*Math.sin(g),k=i===0&&j===0?0:j/Math.sqrt(i*i+j*j),l=i===0&&j===0?0:-i/Math.sqrt(i*i+j*j);i+=+this.p.v[0];j+=+this.p.v[1];this.v.setTripleAt(i,j,i-k*e*d*h,j-l*e*d*h,i+k*e*d*h,j+l*e*d*h,f,!0);g+=b*h}this.paths.length=0;this.paths[0]=this.v}};l([R],a);return a}(),n=function(){function a(a,b){this.v=S.newElement(),this.v.c=!0,this.localShapeCollection=Xa.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=a,this.comp=a.comp,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(a),this.p=Q.getProp(a,b.p,1,0,this),this.s=Q.getProp(a,b.s,1,0,this),this.r=Q.getProp(a,b.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}a.prototype={convertRectToPath:function(){var a=this.p.v[0],b=this.p.v[1],c=this.s.v[0]/2,d=this.s.v[1]/2,e=A(c,d,this.r.v),f=e*(1-E);this.v._length=0;this.d===2||this.d===1?(this.v.setTripleAt(a+c,b-d+e,a+c,b-d+e,a+c,b-d+f,0,!0),this.v.setTripleAt(a+c,b+d-e,a+c,b+d-f,a+c,b+d-e,1,!0),e!==0?(this.v.setTripleAt(a+c-e,b+d,a+c-e,b+d,a+c-f,b+d,2,!0),this.v.setTripleAt(a-c+e,b+d,a-c+f,b+d,a-c+e,b+d,3,!0),this.v.setTripleAt(a-c,b+d-e,a-c,b+d-e,a-c,b+d-f,4,!0),this.v.setTripleAt(a-c,b-d+e,a-c,b-d+f,a-c,b-d+e,5,!0),this.v.setTripleAt(a-c+e,b-d,a-c+e,b-d,a-c+f,b-d,6,!0),this.v.setTripleAt(a+c-e,b-d,a+c-f,b-d,a+c-e,b-d,7,!0)):(this.v.setTripleAt(a-c,b+d,a-c+f,b+d,a-c,b+d,2),this.v.setTripleAt(a-c,b-d,a-c,b-d+f,a-c,b-d,3))):(this.v.setTripleAt(a+c,b-d+e,a+c,b-d+f,a+c,b-d+e,0,!0),e!==0?(this.v.setTripleAt(a+c-e,b-d,a+c-e,b-d,a+c-f,b-d,1,!0),this.v.setTripleAt(a-c+e,b-d,a-c+f,b-d,a-c+e,b-d,2,!0),this.v.setTripleAt(a-c,b-d+e,a-c,b-d+e,a-c,b-d+f,3,!0),this.v.setTripleAt(a-c,b+d-e,a-c,b+d-f,a-c,b+d-e,4,!0),this.v.setTripleAt(a-c+e,b+d,a-c+e,b+d,a-c+f,b+d,5,!0),this.v.setTripleAt(a+c-e,b+d,a+c-f,b+d,a+c-e,b+d,6,!0),this.v.setTripleAt(a+c,b+d-e,a+c,b+d-e,a+c,b+d-f,7,!0)):(this.v.setTripleAt(a-c,b-d,a-c+f,b-d,a-c,b-d,1,!0),this.v.setTripleAt(a-c,b+d,a-c,b+d-f,a-c,b+d,2,!0),this.v.setTripleAt(a+c,b+d,a+c-f,b+d,a+c,b+d,3,!0)))},getValue:function(){if(this.elem.globalData.frameId===this.frameId)return;this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();this._mdf&&this.convertRectToPath()},reset:g};l([R],a);return a}();function o(a,b,c){var d;if(c===3||c===4){var e=c===3?b.pt:b.ks;e=e.k;e.length?d=new j(a,b,c):d=new i(a,b,c)}else c===5?d=new n(a,b):c===6?d=new k(a,b):c===7&&(d=new m(a,b));d.k&&a.addDynamicProperty(d);return d}function p(){return i}function q(){return j}c={};c.getShapeProp=o;c.getConstructorFunction=p;c.getKeyframedConstructorFunction=q;return c}(),T=function(){var a=Math.cos,b=Math.sin,c=Math.tan,d=Math.round;function e(){this.props[0]=1;this.props[1]=0;this.props[2]=0;this.props[3]=0;this.props[4]=0;this.props[5]=1;this.props[6]=0;this.props[7]=0;this.props[8]=0;this.props[9]=0;this.props[10]=1;this.props[11]=0;this.props[12]=0;this.props[13]=0;this.props[14]=0;this.props[15]=1;return this}function f(c){if(c===0)return this;var d=a(c);c=b(c);return this._t(d,-c,0,0,c,d,0,0,0,0,1,0,0,0,0,1)}function g(c){if(c===0)return this;var d=a(c);c=b(c);return this._t(1,0,0,0,0,d,-c,0,0,c,d,0,0,0,0,1)}function h(c){if(c===0)return this;var d=a(c);c=b(c);return this._t(d,0,c,0,0,1,0,0,-c,0,d,0,0,0,0,1)}function i(c){if(c===0)return this;var d=a(c);c=b(c);return this._t(d,-c,0,0,c,d,0,0,0,0,1,0,0,0,0,1)}function j(a,b){return this._t(1,b,a,1,0,0)}function k(a,b){return this.shear(c(a),c(b))}function l(d,e){var f=a(e);e=b(e);return this._t(f,e,0,0,-e,f,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,c(d),1,0,0,0,0,1,0,0,0,0,1)._t(f,-e,0,0,e,f,0,0,0,0,1,0,0,0,0,1)}function m(a,b,c){!c&&c!==0&&(c=1);return a===1&&b===1&&c===1?this:this._t(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1)}function n(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.props[0]=a;this.props[1]=b;this.props[2]=c;this.props[3]=d;this.props[4]=e;this.props[5]=f;this.props[6]=g;this.props[7]=h;this.props[8]=i;this.props[9]=j;this.props[10]=k;this.props[11]=l;this.props[12]=m;this.props[13]=n;this.props[14]=o;this.props[15]=p;return this}function p(a,b,c){c=c||0;return a!==0||b!==0||c!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1):this}function q(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.props;if(a===1&&b===0&&c===0&&d===0&&e===0&&f===1&&g===0&&h===0&&i===0&&j===0&&k===1&&l===0){q[12]=q[12]*a+q[15]*m;q[13]=q[13]*f+q[15]*n;q[14]=q[14]*k+q[15]*o;q[15]*=p;this._identityCalculated=!1;return this}var r=q[0],s=q[1],t=q[2],u=q[3],v=q[4],w=q[5],x=q[6],y=q[7],z=q[8],A=q[9],B=q[10],C=q[11],D=q[12],E=q[13],F=q[14],G=q[15];q[0]=r*a+s*e+t*i+u*m;q[1]=r*b+s*f+t*j+u*n;q[2]=r*c+s*g+t*k+u*o;q[3]=r*d+s*h+t*l+u*p;q[4]=v*a+w*e+x*i+y*m;q[5]=v*b+w*f+x*j+y*n;q[6]=v*c+w*g+x*k+y*o;q[7]=v*d+w*h+x*l+y*p;q[8]=z*a+A*e+B*i+C*m;q[9]=z*b+A*f+B*j+C*n;q[10]=z*c+A*g+B*k+C*o;q[11]=z*d+A*h+B*l+C*p;q[12]=D*a+E*e+F*i+G*m;q[13]=D*b+E*f+F*j+G*n;q[14]=D*c+E*g+F*k+G*o;q[15]=D*d+E*h+F*l+G*p;this._identityCalculated=!1;return this}function r(a){a=a.props;return this.transform(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}function s(){this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0);return this._identity}function t(a){var b=0;while(b<16){if(a.props[b]!==this.props[b])return!1;b+=1}return!0}function u(a){var b;for(b=0;b<16;b+=1)a.props[b]=this.props[b];return a}function v(a){var b;for(b=0;b<16;b+=1)this.props[b]=a[b]}function w(a,b,c){return{x:a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],y:a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],z:a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}}function x(a,b,c){return a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12]}function y(a,b,c){return a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13]}function z(a,b,c){return a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}function A(){var a=this.props[0]*this.props[5]-this.props[1]*this.props[4],b=this.props[5]/a,c=-this.props[1]/a,d=-this.props[4]/a,e=this.props[0]/a,f=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/a;a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/a;var g=new T();g.props[0]=b;g.props[1]=c;g.props[4]=d;g.props[5]=e;g.props[12]=f;g.props[13]=a;return g}function B(a){var b=this.getInverseMatrix();return b.applyToPointArray(a[0],a[1],a[2]||0)}function C(a){var b,c=a.length,d=[];for(b=0;b<c;b+=1)d[b]=B(a[b]);return d}function D(a,b,c){var d=o("float32",6);if(this.isIdentity())d[0]=a[0],d[1]=a[1],d[2]=b[0],d[3]=b[1],d[4]=c[0],d[5]=c[1];else{var e=this.props[0],f=this.props[1],g=this.props[4],h=this.props[5],i=this.props[12],j=this.props[13];d[0]=a[0]*e+a[1]*g+i;d[1]=a[0]*f+a[1]*h+j;d[2]=b[0]*e+b[1]*g+i;d[3]=b[0]*f+b[1]*h+j;d[4]=c[0]*e+c[1]*g+i;d[5]=c[0]*f+c[1]*h+j}return d}function E(a,b,c){var d;this.isIdentity()?d=[a,b,c]:d=[a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]];return d}function F(a,b){if(this.isIdentity())return a+","+b;var c=this.props;return Math.round((a*c[0]+b*c[4]+c[12])*100)/100+","+Math.round((a*c[1]+b*c[5]+c[13])*100)/100}function G(){var a=0,b=this.props,c="matrix3d(",e=1e4;while(a<16)c+=d(b[a]*e)/e,c+=a===15?")":",",a+=1;return c}function aa(a){var b=1e4;return a<1e-6&&a>0||a>-1e-6&&a<0?d(a*b)/b:a}function ba(){var a=this.props,b=aa(a[0]),c=aa(a[1]),d=aa(a[4]),e=aa(a[5]),f=aa(a[12]);a=aa(a[13]);return"matrix("+b+","+c+","+d+","+e+","+f+","+a+")"}return function(){this.reset=e,this.rotate=f,this.rotateX=g,this.rotateY=h,this.rotateZ=i,this.skew=k,this.skewFromAxis=l,this.shear=j,this.scale=m,this.setTransform=n,this.translate=p,this.transform=q,this.multiply=r,this.applyToPoint=w,this.applyToX=x,this.applyToY=y,this.applyToZ=z,this.applyToPointArray=E,this.applyToTriplePoints=D,this.applyToPointStringified=F,this.toCSS=G,this.to2dCSS=ba,this.clone=u,this.cloneFromProps=v,this.equals=t,this.inversePoints=C,this.inversePoint=B,this.getInverseMatrix=A,this._t=this.transform,this.isIdentity=s,this._identity=!0,this._identityCalculated=!1,this.props=o("float32",16),this.reset()}}();function Za(a){typeof Symbol==="function"&&typeof (typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?Za=function(a){return typeof a}:Za=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==(typeof Symbol==="function"?Symbol.prototype:"@@prototype")?"symbol":typeof a};return Za(a)}N={};var $a="__[STANDALONE]__",ab="__[ANIMATIONDATA]__",bb="";function cb(a){i(a)}function db(){$a===!0?P.searchAnimations(ab,$a,bb):P.searchAnimations()}function eb(a){la(a)}function fb(a){oa(a)}function gb(a){$a===!0&&(a.animationData=JSON.parse(ab));return P.loadAnimation(a)}function hb(a){if(typeof a==="string")switch(a){case"high":K(200);break;default:case"medium":K(50);break;case"low":K(10);break}else!isNaN(a)&&a>1&&K(a);L()>=50?F(!1):F(!0)}function ib(){return typeof navigator!=="undefined"}function jb(a,b){a==="expressions"&&na(b)}function kb(a){switch(a){case"propertyFactory":return Q;case"shapePropertyFactory":return Ya;case"matrix":return T;default:return null}}N.play=P.play;N.pause=P.pause;N.setLocationHref=cb;N.togglePause=P.togglePause;N.setSpeed=P.setSpeed;N.setDirection=P.setDirection;N.stop=P.stop;N.searchAnimations=db;N.registerAnimation=P.registerAnimation;N.loadAnimation=gb;N.setSubframeRendering=eb;N.resize=P.resize;N.goToAndStop=P.goToAndStop;N.destroy=P.destroy;N.setQuality=hb;N.inBrowser=ib;N.installPlugin=jb;N.freeze=P.freeze;N.unfreeze=P.unfreeze;N.setVolume=P.setVolume;N.mute=P.mute;N.unmute=P.unmute;N.getRegisteredAnimations=P.getRegisteredAnimations;N.useWebWorker=g;N.setIDPrefix=fb;N.__getFactory=kb;N.version="5.12.2";function lb(){document.readyState==="complete"&&(clearInterval(ob),db())}function mb(a){var b=nb.split("&");for(var c=0;c<b.length;c+=1){var d=b[c].split("=");if(decodeURIComponent(d[0])==a)return decodeURIComponent(d[1])}return null}var nb="";if($a){Ea=document.getElementsByTagName("script");cb=Ea.length-1;gb=Ea[cb]||{src:""};nb=gb.src?gb.src.replace(/^[^\?]+\??/,""):"";bb=mb("renderer")}var ob=setInterval(lb,100);try{!((typeof f==="undefined"?"undefined":Za(f))==="object"&&typeof e!=="undefined")&&!(typeof define==="function"&&define.amd)&&(window.bodymovin=N)}catch(a){}var pb=function(){var a={},b={};a.registerModifier=c;a.getModifier=d;function c(a,c){b[a]||(b[a]=c)}function d(a,c,d){return new b[a](c,d)}return a}();function U(){}U.prototype.initModifierProperties=function(){};U.prototype.addShapeToModifier=function(){};U.prototype.addShape=function(a){if(!this.closed){a.sh.container.addDynamicProperty(a.sh);var b={shape:a.sh,data:a,localShapeCollection:Xa.newShapeCollection()};this.shapes.push(b);this.addShapeToModifier(b);this._isAnimated&&a.setAsAnimated()}};U.prototype.init=function(a,b){this.shapes=[],this.elem=a,this.initDynamicPropertyContainer(a),this.initModifierProperties(a,b),this.frameId=d,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)};U.prototype.processKeys=function(){if(this.elem.globalData.frameId===this.frameId)return;this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties()};l([R],U);function qb(){}l([U],qb);qb.prototype.initModifierProperties=function(a,b){this.s=Q.getProp(a,b.s,0,.01,this),this.e=Q.getProp(a,b.e,0,.01,this),this.o=Q.getProp(a,b.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=b.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length};qb.prototype.addShapeToModifier=function(a){a.pathsData=[]};qb.prototype.calculateShapeEdges=function(a,b,c,d,e){var f=[];b<=1?f.push({s:a,e:b}):a>=1?f.push({s:a-1,e:b-1}):(f.push({s:a,e:1}),f.push({s:0,e:b-1}));a=[];var g;b=f.length;var h;for(g=0;g<b;g+=1){h=f[g];if(!(h.e*e<d||h.s*e>d+c)){var i,j;h.s*e<=d?i=0:i=(h.s*e-d)/c;h.e*e>=d+c?j=1:j=(h.e*e-d)/c;a.push([i,j])}}a.length||a.push([0,0]);return a};qb.prototype.releasePathsData=function(a){var b,c=a.length;for(b=0;b<c;b+=1)Da.release(a[b]);a.length=0;return a};qb.prototype.processShapes=function(a){var b,c;if(this._mdf||a){var d=this.o.v%360/360;d<0&&(d+=1);this.s.v>1?b=1+d:this.s.v<0?b=0+d:b=this.s.v+d;this.e.v>1?c=1+d:this.e.v<0?c=0+d:c=this.e.v+d;if(b>c){d=b;b=c;c=d}b=Math.round(b*1e4)*1e-4;c=Math.round(c*1e4)*1e-4;this.sValue=b;this.eValue=c}else b=this.sValue,c=this.eValue;var e,f;d=this.shapes.length;var g,h,i,j,k,l=0;if(c===b)for(f=0;f<d;f+=1)this.shapes[f].localShapeCollection.releaseShapes(),this.shapes[f].shape._mdf=!0,this.shapes[f].shape.paths=this.shapes[f].localShapeCollection,this._mdf&&(this.shapes[f].pathsData.length=0);else if(!(c===1&&b===0||c===0&&b===1)){var m=[],n;for(f=0;f<d;f+=1){n=this.shapes[f];if(!n.shape._mdf&&!this._mdf&&!a&&this.m!==2)n.shape.paths=n.localShapeCollection;else{e=n.shape.paths;h=e._length;k=0;if(!n.shape._mdf&&n.pathsData.length)k=n.totalShapeLength;else{i=this.releasePathsData(n.pathsData);for(g=0;g<h;g+=1)j=Fa.getSegmentsLength(e.shapes[g]),i.push(j),k+=j.totalLength;n.totalShapeLength=k;n.pathsData=i}l+=k;n.shape._mdf=!0}}j=b;e=c;i=0;for(f=d-1;f>=0;f-=1){n=this.shapes[f];if(n.shape._mdf){k=n.localShapeCollection;k.releaseShapes();this.m===2&&d>1?(a=this.calculateShapeEdges(b,c,n.totalShapeLength,i,l),i+=n.totalShapeLength):a=[[j,e]];h=a.length;for(g=0;g<h;g+=1){j=a[g][0];e=a[g][1];m.length=0;e<=1?m.push({s:n.totalShapeLength*j,e:n.totalShapeLength*e}):j>=1?m.push({s:n.totalShapeLength*(j-1),e:n.totalShapeLength*(e-1)}):(m.push({s:n.totalShapeLength*j,e:n.totalShapeLength}),m.push({s:0,e:n.totalShapeLength*(e-1)}));var o=this.addShapes(n,m[0]);if(m[0].s!==m[0].e){if(m.length>1){var p=n.shape.paths.shapes[n.shape.paths._length-1];if(p.c){p=o.pop();this.addPaths(o,k);o=this.addShapes(n,m[1],p)}else this.addPaths(o,k),o=this.addShapes(n,m[1])}this.addPaths(o,k)}}n.shape.paths=k}}}else if(this._mdf)for(f=0;f<d;f+=1)this.shapes[f].pathsData.length=0,this.shapes[f].shape._mdf=!0};qb.prototype.addPaths=function(a,b){var c,d=a.length;for(c=0;c<d;c+=1)b.addShape(a[c])};qb.prototype.addSegment=function(a,b,c,d,e,f,g){e.setXYAt(b[0],b[1],"o",f),e.setXYAt(c[0],c[1],"i",f+1),g&&e.setXYAt(a[0],a[1],"v",f),e.setXYAt(d[0],d[1],"v",f+1)};qb.prototype.addSegmentFromArray=function(a,b,c,d){b.setXYAt(a[1],a[5],"o",c),b.setXYAt(a[2],a[6],"i",c+1),d&&b.setXYAt(a[0],a[4],"v",c),b.setXYAt(a[3],a[7],"v",c+1)};qb.prototype.addShapes=function(a,b,c){var d=a.pathsData,e=a.shape.paths.shapes,f;a=a.shape.paths._length;var g,h,i=0,j,k,l,m,n=[],o,p=!0;!c?(c=S.newElement(),k=0,o=0):(k=c._length,o=c._length);n.push(c);for(f=0;f<a;f+=1){l=d[f].lengths;c.c=e[f].c;h=e[f].c?l.length:l.length+1;for(g=1;g<h;g+=1){j=l[g-1];if(i+j.addedLength<b.s)i+=j.addedLength,c.c=!1;else if(i>b.e){c.c=!1;break}else b.s<=i&&b.e>=i+j.addedLength?(this.addSegment(e[f].v[g-1],e[f].o[g-1],e[f].i[g],e[f].v[g],c,k,p),p=!1):(m=Fa.getNewSegment(e[f].v[g-1],e[f].v[g],e[f].o[g-1],e[f].i[g],(b.s-i)/j.addedLength,(b.e-i)/j.addedLength,l[g-1]),this.addSegmentFromArray(m,c,k,p),p=!1,c.c=!1),i+=j.addedLength,k+=1}if(e[f].c&&l.length){j=l[g-1];if(i<=b.e){h=l[g-1].addedLength;b.s<=i&&b.e>=i+h?(this.addSegment(e[f].v[g-1],e[f].o[g-1],e[f].i[0],e[f].v[0],c,k,p),p=!1):(m=Fa.getNewSegment(e[f].v[g-1],e[f].v[0],e[f].o[g-1],e[f].i[0],(b.s-i)/h,(b.e-i)/h,l[g-1]),this.addSegmentFromArray(m,c,k,p),p=!1,c.c=!1)}else c.c=!1;i+=j.addedLength;k+=1}c._length&&(c.setXYAt(c.v[o][0],c.v[o][1],"i",o),c.setXYAt(c.v[c._length-1][0],c.v[c._length-1][1],"o",c._length-1));if(i>b.e)break;f<a-1&&(c=S.newElement(),p=!0,n.push(c),k=0)}return n};function rb(){}l([U],rb);rb.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.amount=Q.getProp(a,b.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length};rb.prototype.processPath=function(a,b){b=b/100;var c=[0,0],d=a._length,e=0;for(e=0;e<d;e+=1)c[0]+=a.v[e][0],c[1]+=a.v[e][1];c[0]/=d;c[1]/=d;var f=S.newElement();f.c=a.c;var g,h,i,j,k,l;for(e=0;e<d;e+=1)g=a.v[e][0]+(c[0]-a.v[e][0])*b,h=a.v[e][1]+(c[1]-a.v[e][1])*b,i=a.o[e][0]+(c[0]-a.o[e][0])*-b,j=a.o[e][1]+(c[1]-a.o[e][1])*-b,k=a.i[e][0]+(c[0]-a.i[e][0])*-b,l=a.i[e][1]+(c[1]-a.i[e][1])*-b,f.setTripleAt(g,h,i,j,k,l,e);return f};rb.prototype.processShapes=function(a){var b,c,d=this.shapes.length,e,f,g=this.amount.v;if(g!==0){var h,i;for(c=0;c<d;c+=1){h=this.shapes[c];i=h.localShapeCollection;if(!(!h.shape._mdf&&!this._mdf&&!a)){i.releaseShapes();h.shape._mdf=!0;b=h.shape.paths.shapes;f=h.shape.paths._length;for(e=0;e<f;e+=1)i.addShape(this.processPath(b[e],g))}h.shape.paths=h.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var sb=function(){var a=[0,0];function b(a){var b=this._mdf;this.iterateDynamicProperties();this._mdf=this._mdf||b;this.a&&a.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);this.s&&a.scale(this.s.v[0],this.s.v[1],this.s.v[2]);this.sk&&a.skewFromAxis(-this.sk.v,this.sa.v);this.r?a.rotate(-this.r.v):a.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);this.data.p.s?this.data.p.z?a.translate(this.px.v,this.py.v,-this.pz.v):a.translate(this.px.v,this.py.v,0):a.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function c(b){if(this.elem.globalData.frameId===this.frameId)return;this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1);this.iterateDynamicProperties();if(this._mdf||b){this.v.cloneFromProps(this.pre.props);this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]);this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v);this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);if(this.autoOriented){var c,d;b=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(c=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/b,0),d=this.p.getValueAtTime(this.p.keyframes[0].t/b,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(c=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/b,0),d=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/b,0)):(c=this.p.pv,d=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/b,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){c=[];d=[];var e=this.px,f=this.py;e._caching.lastFrame+e.offsetTime<=e.keyframes[0].t?(c[0]=e.getValueAtTime((e.keyframes[0].t+.01)/b,0),c[1]=f.getValueAtTime((f.keyframes[0].t+.01)/b,0),d[0]=e.getValueAtTime(e.keyframes[0].t/b,0),d[1]=f.getValueAtTime(f.keyframes[0].t/b,0)):e._caching.lastFrame+e.offsetTime>=e.keyframes[e.keyframes.length-1].t?(c[0]=e.getValueAtTime(e.keyframes[e.keyframes.length-1].t/b,0),c[1]=f.getValueAtTime(f.keyframes[f.keyframes.length-1].t/b,0),d[0]=e.getValueAtTime((e.keyframes[e.keyframes.length-1].t-.01)/b,0),d[1]=f.getValueAtTime((f.keyframes[f.keyframes.length-1].t-.01)/b,0)):(c=[e.pv,f.pv],d[0]=e.getValueAtTime((e._caching.lastFrame+e.offsetTime-.01)/b,e.offsetTime),d[1]=f.getValueAtTime((f._caching.lastFrame+f.offsetTime-.01)/b,f.offsetTime))}else d=a,c=d;this.v.rotate(-Math.atan2(c[1]-d[1],c[0]-d[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}function d(){this.appliedTransformations=0;this.pre.reset();if(!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function e(){}function f(a){this._addDynamicProperty(a),this.elem.addDynamicProperty(a),this._isDirty=!0}function g(a,b,c){this.elem=a;this.frameId=-1;this.propType="transform";this.data=b;this.v=new T();this.pre=new T();this.appliedTransformations=0;this.initDynamicPropertyContainer(c||a);b.p&&b.p.s?(this.px=Q.getProp(a,b.p.x,0,0,this),this.py=Q.getProp(a,b.p.y,0,0,this),b.p.z&&(this.pz=Q.getProp(a,b.p.z,0,0,this))):this.p=Q.getProp(a,b.p||{k:[0,0,0]},1,0,this);if(b.rx){this.rx=Q.getProp(a,b.rx,0,D,this);this.ry=Q.getProp(a,b.ry,0,D,this);this.rz=Q.getProp(a,b.rz,0,D,this);if(b.or.k[0].ti){var d;c=b.or.k.length;for(d=0;d<c;d+=1)b.or.k[d].to=null,b.or.k[d].ti=null}this.or=Q.getProp(a,b.or,1,D,this);this.or.sh=!0}else this.r=Q.getProp(a,b.r||{k:0},0,D,this);b.sk&&(this.sk=Q.getProp(a,b.sk,0,D,this),this.sa=Q.getProp(a,b.sa,0,D,this));this.a=Q.getProp(a,b.a||{k:[0,0,0]},1,0,this);this.s=Q.getProp(a,b.s||{k:[100,100,100]},1,.01,this);b.o?this.o=Q.getProp(a,b.o,0,.01,a):this.o={_mdf:!1,v:1};this._isDirty=!0;this.dynamicProperties.length||this.getValue(!0)}g.prototype={applyToMatrix:b,getValue:c,precalculateMatrix:d,autoOrient:e};l([R],g);g.prototype.addDynamicProperty=f;g.prototype._addDynamicProperty=R.prototype.addDynamicProperty;function h(a,b,c){return new g(a,b,c)}return{getTransformProperty:h}}();function tb(){}l([U],tb);tb.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.c=Q.getProp(a,b.c,0,null,this),this.o=Q.getProp(a,b.o,0,null,this),this.tr=sb.getTransformProperty(a,b.tr,this),this.so=Q.getProp(a,b.tr.so,0,.01,this),this.eo=Q.getProp(a,b.tr.eo,0,.01,this),this.data=b,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new T(),this.rMatrix=new T(),this.sMatrix=new T(),this.tMatrix=new T(),this.matrix=new T()};tb.prototype.applyTransforms=function(a,b,c,d,e,f){var g=f?-1:1,h=d.s.v[0]+(1-d.s.v[0])*(1-e),i=d.s.v[1]+(1-d.s.v[1])*(1-e);a.translate(d.p.v[0]*g*e,d.p.v[1]*g*e,d.p.v[2]);b.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]);b.rotate(-d.r.v*g*e);b.translate(d.a.v[0],d.a.v[1],d.a.v[2]);c.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]);c.scale(f?1/h:h,f?1/i:i);c.translate(d.a.v[0],d.a.v[1],d.a.v[2])};tb.prototype.init=function(a,b,c,d){this.elem=a;this.arr=b;this.pos=c;this.elemsData=d;this._currentCopies=0;this._elements=[];this._groups=[];this.frameId=-1;this.initDynamicPropertyContainer(a);this.initModifierProperties(a,b[c]);while(c>0)c-=1,this._elements.unshift(b[c]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)};tb.prototype.resetElements=function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]._processed=!1,a[b].ty==="gr"&&this.resetElements(a[b].it)};tb.prototype.cloneElements=function(a){a=JSON.parse(JSON.stringify(a));this.resetElements(a);return a};tb.prototype.changeGroupRender=function(a,b){var c,d=a.length;for(c=0;c<d;c+=1)a[c]._render=b,a[c].ty==="gr"&&this.changeGroupRender(a[c].it,b)};tb.prototype.processShapes=function(a){var b,c=!1;if(this._mdf||a){a=Math.ceil(this.c.v);if(this._groups.length<a){while(this._groups.length<a){var d={it:this.cloneElements(this._elements),ty:"gr"};d.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"});this.arr.splice(0,0,d);this._groups.splice(0,0,d);this._currentCopies+=1}this.elem.reloadShapes();c=!0}d=0;var e;for(b=0;b<=this._groups.length-1;b+=1){e=d<a;this._groups[b]._render=e;this.changeGroupRender(this._groups[b].it,e);if(!e){e=this.elemsData[b].it;e=e[e.length-1];e.transform.op.v!==0?(e.transform.op._mdf=!0,e.transform.op.v=0):e.transform.op._mdf=!1}d+=1}this._currentCopies=a;e=this.o.v;a=e%1;var f=e>0?Math.floor(e):Math.ceil(e),g=this.pMatrix.props,h=this.rMatrix.props,i=this.sMatrix.props;this.pMatrix.reset();this.rMatrix.reset();this.sMatrix.reset();this.tMatrix.reset();this.matrix.reset();var j=0;if(e>0){while(j<f)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),j+=1;a&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,a,!1),j+=a)}else if(e<0){while(j>f)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),j-=1;a&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-a,!0),j-=a)}b=this.data.m===1?0:this._currentCopies-1;e=this.data.m===1?1:-1;d=this._currentCopies;var k,l;while(d){f=this.elemsData[b].it;a=f[f.length-1].transform.mProps.v.props;l=a.length;f[f.length-1].transform.mProps._mdf=!0;f[f.length-1].transform.op._mdf=!0;f[f.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(b/(this._currentCopies-1));if(j!==0){(b!==0&&e===1||b!==this._currentCopies-1&&e===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1);this.matrix.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]);this.matrix.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]);this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]);for(k=0;k<l;k+=1)a[k]=this.matrix.props[k];this.matrix.reset()}else{this.matrix.reset();for(k=0;k<l;k+=1)a[k]=this.matrix.props[k]}j+=1;d-=1;b+=e}}else{d=this._currentCopies;b=0;e=1;while(d)f=this.elemsData[b].it,a=f[f.length-1].transform.mProps.v.props,f[f.length-1].transform.mProps._mdf=!1,f[f.length-1].transform.op._mdf=!1,d-=1,b+=e}return c};tb.prototype.addShape=function(){};function ub(){}l([U],ub);ub.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.rd=Q.getProp(a,b.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length};ub.prototype.processPath=function(a,b){var c=S.newElement();c.c=a.c;var d,e=a._length,f,g,h,i,j=0,k,l,m,n,o,p;for(d=0;d<e;d+=1)f=a.v[d],h=a.o[d],g=a.i[d],f[0]===h[0]&&f[1]===h[1]&&f[0]===g[0]&&f[1]===g[1]?(d===0||d===e-1)&&!a.c?(c.setTripleAt(f[0],f[1],h[0],h[1],g[0],g[1],j),j+=1):(d===0?h=a.v[e-1]:h=a.v[d-1],g=Math.sqrt(Math.pow(f[0]-h[0],2)+Math.pow(f[1]-h[1],2)),i=g?Math.min(g/2,b)/g:0,o=f[0]+(h[0]-f[0])*i,k=o,p=f[1]-(f[1]-h[1])*i,l=p,m=k-(k-f[0])*E,n=l-(l-f[1])*E,c.setTripleAt(k,l,m,n,o,p,j),j+=1,d===e-1?h=a.v[0]:h=a.v[d+1],g=Math.sqrt(Math.pow(f[0]-h[0],2)+Math.pow(f[1]-h[1],2)),i=g?Math.min(g/2,b)/g:0,m=f[0]+(h[0]-f[0])*i,k=m,n=f[1]+(h[1]-f[1])*i,l=n,o=k-(k-f[0])*E,p=l-(l-f[1])*E,c.setTripleAt(k,l,m,n,o,p,j),j+=1):(c.setTripleAt(a.v[d][0],a.v[d][1],a.o[d][0],a.o[d][1],a.i[d][0],a.i[d][1],j),j+=1);return c};ub.prototype.processShapes=function(a){var b,c,d=this.shapes.length,e,f,g=this.rd.v;if(g!==0){var h,i;for(c=0;c<d;c+=1){h=this.shapes[c];i=h.localShapeCollection;if(!(!h.shape._mdf&&!this._mdf&&!a)){i.releaseShapes();h.shape._mdf=!0;b=h.shape.paths.shapes;f=h.shape.paths._length;for(e=0;e<f;e+=1)i.addShape(this.processPath(b[e],g))}h.shape.paths=h.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function vb(a,b){return Math.abs(a-b)*1e5<=Math.min(Math.abs(a),Math.abs(b))}function wb(a){return Math.abs(a)<=1e-5}function xb(a,b,c){return a*(1-c)+b*c}function yb(a,b,c){return[xb(a[0],b[0],c),xb(a[1],b[1],c)]}function zb(a,b,c){if(a===0)return[];c=b*b-4*a*c;if(c<0)return[];b=-b/(2*a);if(c===0)return[b];c=Math.sqrt(c)/(2*a);return[b-c,b+c]}function Ab(a,b,c,d){return[-a+3*b-3*c+d,3*a-6*b+3*c,-3*a+3*b,a]}function Bb(a){return new V(a,a,a,a,!1)}function V(a,b,c,d,e){e&&Lb(a,b)&&(b=yb(a,d,1/3));e&&Lb(c,d)&&(c=yb(a,d,2/3));e=Ab(a[0],b[0],c[0],d[0]);var f=Ab(a[1],b[1],c[1],d[1]);this.a=[e[0],f[0]];this.b=[e[1],f[1]];this.c=[e[2],f[2]];this.d=[e[3],f[3]];this.points=[a,b,c,d]}V.prototype.point=function(a){return[((this.a[0]*a+this.b[0])*a+this.c[0])*a+this.d[0],((this.a[1]*a+this.b[1])*a+this.c[1])*a+this.d[1]]};V.prototype.derivative=function(a){return[(3*a*this.a[0]+2*this.b[0])*a+this.c[0],(3*a*this.a[1]+2*this.b[1])*a+this.c[1]]};V.prototype.tangentAngle=function(a){a=this.derivative(a);return Math.atan2(a[1],a[0])};V.prototype.normalAngle=function(a){a=this.derivative(a);return Math.atan2(a[0],a[1])};V.prototype.inflectionPoints=function(){var a=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(wb(a))return[];var b=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/a;a=b*b-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/a;if(a<0)return[];a=Math.sqrt(a);return wb(a)?a>0&&a<1?[b]:[]:[b-a,b+a].filter(function(a){return a>0&&a<1})};V.prototype.split=function(a){if(a<=0)return[Bb(this.points[0]),this];if(a>=1)return[this,Bb(this.points[this.points.length-1])];var b=yb(this.points[0],this.points[1],a),c=yb(this.points[1],this.points[2],a),d=yb(this.points[2],this.points[3],a),e=yb(b,c,a);c=yb(c,d,a);a=yb(e,c,a);return[new V(this.points[0],b,e,a,!0),new V(a,c,d,this.points[3],!0)]};function Cb(a,b){var c=a.points[0][b],d=a.points[a.points.length-1][b];if(c>d){var e=d;d=c;c=e}e=zb(3*a.a[b],2*a.b[b],a.c[b]);for(var f=0;f<e.length;f+=1)if(e[f]>0&&e[f]<1){var g=a.point(e[f])[b];g<c?c=g:g>d&&(d=g)}return{min:c,max:d}}V.prototype.bounds=function(){return{x:Cb(this,0),y:Cb(this,1)}};V.prototype.boundingBox=function(){var a=this.bounds();return{left:a.x.min,right:a.x.max,top:a.y.min,bottom:a.y.max,width:a.x.max-a.x.min,height:a.y.max-a.y.min,cx:(a.x.max+a.x.min)/2,cy:(a.y.max+a.y.min)/2}};function Db(a,b,c){var d=a.boundingBox();return{cx:d.cx,cy:d.cy,width:d.width,height:d.height,bez:a,t:(b+c)/2,t1:b,t2:c}}function Eb(a){var b=a.bez.split(.5);return[Db(b[0],a.t1,a.t),Db(b[1],a.t,a.t2)]}function Fb(a,b){return Math.abs(a.cx-b.cx)*2<a.width+b.width&&Math.abs(a.cy-b.cy)*2<a.height+b.height}function Gb(a,b,c,d,e,f){if(!Fb(a,b))return;if(c>=f||a.width<=d&&a.height<=d&&b.width<=d&&b.height<=d){e.push([a.t,b.t]);return}a=Eb(a);b=Eb(b);Gb(a[0],b[0],c+1,d,e,f);Gb(a[0],b[1],c+1,d,e,f);Gb(a[1],b[0],c+1,d,e,f);Gb(a[1],b[1],c+1,d,e,f)}V.prototype.intersections=function(a,b,c){b===void 0&&(b=2);c===void 0&&(c=7);var d=[];Gb(Db(this,0,1),Db(a,0,1),0,b,d,c);return d};V.shapeSegment=function(a,b){var c=(b+1)%a.length();return new V(a.v[b],a.o[b],a.i[c],a.v[c],!0)};V.shapeSegmentInverted=function(a,b){var c=(b+1)%a.length();return new V(a.v[c],a.i[c],a.o[b],a.v[b],!0)};function Hb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Ib(a,b,c,d){a=[a[0],a[1],1];b=[b[0],b[1],1];c=[c[0],c[1],1];d=[d[0],d[1],1];a=Hb(Hb(a,b),Hb(c,d));return wb(a[2])?null:[a[0]/a[2],a[1]/a[2]]}function Jb(a,b,c){return[a[0]+Math.cos(b)*c,a[1]-Math.sin(b)*c]}function Kb(a,b){return Math.hypot(a[0]-b[0],a[1]-b[1])}function Lb(a,b){return vb(a[0],b[0])&&vb(a[1],b[1])}function Mb(){}l([U],Mb);Mb.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.amplitude=Q.getProp(a,b.s,0,null,this),this.frequency=Q.getProp(a,b.r,0,null,this),this.pointsType=Q.getProp(a,b.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function Nb(a,b,c,d,e,f,g){var h=c-Math.PI/2,i=c+Math.PI/2,j=b[0]+Math.cos(c)*d*e;b=b[1]-Math.sin(c)*d*e;a.setTripleAt(j,b,j+Math.cos(h)*f,b-Math.sin(h)*f,j+Math.cos(i)*g,b-Math.sin(i)*g,a.length())}function Ob(a,b){b=[b[0]-a[0],b[1]-a[1]];a=-Math.PI*.5;a=[Math.cos(a)*b[0]-Math.sin(a)*b[1],Math.sin(a)*b[0]+Math.cos(a)*b[1]];return a}function Pb(a,b){var c=b===0?a.length()-1:b-1;b=(b+1)%a.length();c=a.v[c];a=a.v[b];b=Ob(c,a);return Math.atan2(0,1)-Math.atan2(b[1],b[0])}function Qb(a,b,c,d,e,f,g){var h=Pb(b,c),i=b.v[c%b._length],j=b.v[c===0?b._length-1:c-1],k=b.v[(c+1)%b._length];j=f===2?Math.sqrt(Math.pow(i[0]-j[0],2)+Math.pow(i[1]-j[1],2)):0;i=f===2?Math.sqrt(Math.pow(i[0]-k[0],2)+Math.pow(i[1]-k[1],2)):0;Nb(a,b.v[c%b._length],h,g,d,i/((e+1)*2),j/((e+1)*2),f)}function Rb(a,b,c,d,e,f){for(var g=0;g<d;g+=1){var h=(g+1)/(d+1),i=e===2?Math.sqrt(Math.pow(b.points[3][0]-b.points[0][0],2)+Math.pow(b.points[3][1]-b.points[0][1],2)):0,j=b.normalAngle(h);h=b.point(h);Nb(a,h,j,f,c,i/((d+1)*2),i/((d+1)*2),e);f=-f}return f}Mb.prototype.processPath=function(a,b,c,d){var e=a._length,f=S.newElement();f.c=a.c;a.c||(e-=1);if(e===0)return f;var g=-1,h=V.shapeSegment(a,0);Qb(f,a,0,b,c,d,g);for(var i=0;i<e;i+=1)g=Rb(f,h,b,c,d,-g),i===e-1&&!a.c?h=null:h=V.shapeSegment(a,(i+1)%e),Qb(f,a,i+1,b,c,d,g);return f};Mb.prototype.processShapes=function(a){var b,c,d=this.shapes.length,e,f,g=this.amplitude.v,h=Math.max(0,Math.round(this.frequency.v)),i=this.pointsType.v;if(g!==0){var j,k;for(c=0;c<d;c+=1){j=this.shapes[c];k=j.localShapeCollection;if(!(!j.shape._mdf&&!this._mdf&&!a)){k.releaseShapes();j.shape._mdf=!0;b=j.shape.paths.shapes;f=j.shape.paths._length;for(e=0;e<f;e+=1)k.addShape(this.processPath(b[e],g,h,i))}j.shape.paths=j.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function Sb(a,b,c){var d=Math.atan2(b[0]-a[0],b[1]-a[1]);return[Jb(a,d,c),Jb(b,d,c)]}function Tb(a,b){var c,d,e,f,g;g=Sb(a.points[0],a.points[1],b);c=g[0];d=g[1];g=Sb(a.points[1],a.points[2],b);e=g[0];f=g[1];g=Sb(a.points[2],a.points[3],b);a=g[0];b=g[1];g=Ib(c,d,e,f);g===null&&(g=d);d=Ib(a,b,e,f);d===null&&(d=a);return new V(c,g,d,b)}function Ub(a,b,c,d,e){var f=b.points[3],g=c.points[0];if(d===3)return f;if(Lb(f,g))return f;if(d===2){d=-b.tangentAngle(1);var h=-c.tangentAngle(0)+Math.PI,i=Ib(f,Jb(f,d+Math.PI/2,100),g,Jb(g,d+Math.PI/2,100));i=i?Kb(i,f):Kb(f,g)/2;d=Jb(f,d,2*i*E);a.setXYAt(d[0],d[1],"o",a.length()-1);d=Jb(g,h,2*i*E);a.setTripleAt(g[0],g[1],g[0],g[1],d[0],d[1],a.length());return g}h=Lb(f,b.points[2])?b.points[0]:b.points[2];i=Lb(g,c.points[1])?c.points[3]:c.points[1];d=Ib(h,f,g,i);if(d&&Kb(d,f)<e){a.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],a.length());return d}return f}function Vb(a,b){a=a.intersections(b);a.length&&vb(a[0][0],1)&&a.shift();return a.length?a[0]:null}function Wb(a,b){var c=a.slice(),d=b.slice(),e=Vb(a[a.length-1],b[0]);e&&(c[a.length-1]=a[a.length-1].split(e[0])[0],d[0]=b[0].split(e[1])[1]);if(a.length>1&&b.length>1){e=Vb(a[0],b[b.length-1]);if(e)return[[a[0].split(e[0])[0]],[b[b.length-1].split(e[1])[1]]]}return[c,d]}function Xb(a){var b;for(var c=1;c<a.length;c+=1)b=Wb(a[c-1],a[c]),a[c-1]=b[0],a[c]=b[1];a.length>1&&(b=Wb(a[a.length-1],a[0]),a[a.length-1]=b[0],a[0]=b[1]);return a}function Yb(a,b){var c=a.inflectionPoints(),d,e,f;if(c.length===0)return[Tb(a,b)];if(c.length===1||vb(c[1],1)){f=a.split(c[0]);d=f[0];e=f[1];return[Tb(d,b),Tb(e,b)]}f=a.split(c[0]);d=f[0];a=(c[1]-c[0])/(1-c[0]);f=f[1].split(a);c=f[0];e=f[1];return[Tb(d,b),Tb(c,b),Tb(e,b)]}function Zb(){}l([U],Zb);Zb.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.amount=Q.getProp(a,b.a,0,null,this),this.miterLimit=Q.getProp(a,b.ml,0,null,this),this.lineJoin=b.lj,this._isAnimated=this.amount.effectsSequence.length!==0};Zb.prototype.processPath=function(a,b,c,d){var e=S.newElement();e.c=a.c;var f=a.length();a.c||(f-=1);var g,h,i,j=[];for(g=0;g<f;g+=1)i=V.shapeSegment(a,g),j.push(Yb(i,b));if(!a.c)for(g=f-1;g>=0;g-=1)i=V.shapeSegmentInverted(a,g),j.push(Yb(i,b));j=Xb(j);f=null;b=null;for(g=0;g<j.length;g+=1){a=j[g];b&&(f=Ub(e,b,a[0],c,d));b=a[a.length-1];for(h=0;h<a.length;h+=1)i=a[h],f&&Lb(i.points[0],f)?e.setXYAt(i.points[1][0],i.points[1][1],"o",e.length()-1):e.setTripleAt(i.points[0][0],i.points[0][1],i.points[1][0],i.points[1][1],i.points[0][0],i.points[0][1],e.length()),e.setTripleAt(i.points[3][0],i.points[3][1],i.points[3][0],i.points[3][1],i.points[2][0],i.points[2][1],e.length()),f=i.points[3]}j.length&&Ub(e,b,j[0][0],c,d);return e};Zb.prototype.processShapes=function(a){var b,c,d=this.shapes.length,e,f,g=this.amount.v,h=this.miterLimit.v,i=this.lineJoin;if(g!==0){var j,k;for(c=0;c<d;c+=1){j=this.shapes[c];k=j.localShapeCollection;if(!(!j.shape._mdf&&!this._mdf&&!a)){k.releaseShapes();j.shape._mdf=!0;b=j.shape.paths.shapes;f=j.shape.paths._length;for(e=0;e<f;e+=1)k.addShape(this.processPath(b[e],g,i,h))}j.shape.paths=j.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function $b(a){var b=a.fStyle?a.fStyle.split(" "):[],c="normal",d="normal",e=b.length,f;for(var g=0;g<e;g+=1){f=b[g].toLowerCase();switch(f){case"italic":d="italic";break;case"bold":c="700";break;case"black":c="900";break;case"medium":c="500";break;case"regular":case"normal":c="400";break;case"light":case"thin":c="200";break;default:break}}return{style:d,weight:a.fWeight||c}}var ac=function(){var a=5e3,b={w:0,size:0,shapes:[],data:{shapes:[]}},c=[];c=c.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var d=127988,e=917631,f=917601,g=917626,h=65039,i=8205,j=127462,l=127487,m=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function n(a){a=a.split(",");var b,c=a.length,d=[];for(b=0;b<c;b+=1)a[b]!=="sans-serif"&&a[b]!=="monospace"&&d.push(a[b]);return d.join(",")}function o(a,b){var c=k("span");c.setAttribute("aria-hidden",!0);c.style.fontFamily=b;var d=k("span");d.innerText="giItT1WQy@!-/#";c.style.position="absolute";c.style.left="-10000px";c.style.top="-10000px";c.style.fontSize="300px";c.style.fontVariant="normal";c.style.fontStyle="normal";c.style.fontWeight="normal";c.style.letterSpacing="0";c.appendChild(d);document.body.appendChild(c);var e=d.offsetWidth;d.style.fontFamily=n(a)+", "+b;return{node:d,w:e,parent:c}}function p(){var b,c=this.fonts.length,d,e,f=c;for(b=0;b<c;b+=1)this.fonts[b].loaded?f-=1:this.fonts[b].fOrigin==="n"||this.fonts[b].origin===0?this.fonts[b].loaded=!0:(d=this.fonts[b].monoCase.node,e=this.fonts[b].monoCase.w,d.offsetWidth!==e?(f-=1,this.fonts[b].loaded=!0):(d=this.fonts[b].sansCase.node,e=this.fonts[b].sansCase.w,d.offsetWidth!==e&&(f-=1,this.fonts[b].loaded=!0)),this.fonts[b].loaded&&(this.fonts[b].sansCase.parent.parentNode.removeChild(this.fonts[b].sansCase.parent),this.fonts[b].monoCase.parent.parentNode.removeChild(this.fonts[b].monoCase.parent)));f!==0&&Date.now()-this.initTime<a?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function q(a,b){var c=document.body&&b?"svg":"canvas",d,e=$b(a);if(c==="svg"){var f=M("text");f.style.fontSize="100px";f.setAttribute("font-family",a.fFamily);f.setAttribute("font-style",e.style);f.setAttribute("font-weight",e.weight);f.textContent="1";a.fClass?(f.style.fontFamily="inherit",f.setAttribute("class",a.fClass)):f.style.fontFamily=a.fFamily;b.appendChild(f);d=f}else{b=new OffscreenCanvas(500,500).getContext("2d");b.font=e.style+" "+e.weight+" 100px "+a.fFamily;d=b}function g(a){if(c==="svg"){d.textContent=a;return d.getComputedTextLength()}return d.measureText(a).width}return{measureText:g}}function r(a,b){if(!a){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0;this.fonts=a.list;return}if(!document.body){this.isLoaded=!0;a.list.forEach(function(a){a.helper=q(a),a.cache={}});this.fonts=a.list;return}a=a.list;var c,d=a.length,e=d;for(c=0;c<d;c+=1){var f=!0,g;a[c].loaded=!1;a[c].monoCase=o(a[c].fFamily,"monospace");a[c].sansCase=o(a[c].fFamily,"sans-serif");if(!a[c].fPath)a[c].loaded=!0,e-=1;else if(a[c].fOrigin==="p"||a[c].origin===3){g=document.querySelectorAll('style[f-forigin="p"][f-family="'+a[c].fFamily+'"], style[f-origin="3"][f-family="'+a[c].fFamily+'"]');g.length>0&&(f=!1);if(f){var h=k("style");h.setAttribute("f-forigin",a[c].fOrigin);h.setAttribute("f-origin",a[c].origin);h.setAttribute("f-family",a[c].fFamily);h.type="text/css";h.innerText="@font-face {font-family: "+a[c].fFamily+"; font-style: normal; src: url('"+a[c].fPath+"');}";b.appendChild(h)}}else if(a[c].fOrigin==="g"||a[c].origin===1){g=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');for(h=0;h<g.length;h+=1)g[h].href.indexOf(a[c].fPath)!==-1&&(f=!1);if(f){var i=k("link");i.setAttribute("f-forigin",a[c].fOrigin);i.setAttribute("f-origin",a[c].origin);i.type="text/css";i.rel="stylesheet";i.href=a[c].fPath;document.body.appendChild(i)}}else if(a[c].fOrigin==="t"||a[c].origin===2){g=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');for(h=0;h<g.length;h+=1)a[c].fPath===g[h].src&&(f=!1);if(f){i=k("link");i.setAttribute("f-forigin",a[c].fOrigin);i.setAttribute("f-origin",a[c].origin);i.setAttribute("rel","stylesheet");i.setAttribute("href",a[c].fPath);b.appendChild(i)}}a[c].helper=q(a[c],b);a[c].cache={};this.fonts.push(a[c])}e===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function s(a){if(!a)return;this.chars||(this.chars=[]);var b,c=a.length,d,e=this.chars.length,f;for(b=0;b<c;b+=1){d=0;f=!1;while(d<e)this.chars[d].style===a[b].style&&this.chars[d].fFamily===a[b].fFamily&&this.chars[d].ch===a[b].ch&&(f=!0),d+=1;f||(this.chars.push(a[b]),e+=1)}}function t(a,c,d){var e=0,f=this.chars.length;while(e<f){if(this.chars[e].ch===a&&this.chars[e].style===c&&this.chars[e].fFamily===d)return this.chars[e];e+=1}(typeof a==="string"&&a.charCodeAt(0)!==13||!a)&&console&&emptyFunction&&!this._warned&&(this._warned=!0);return b}function u(a,b,c){b=this.getFontByName(b);var d=a;if(!b.cache[d]){var e=b.helper;if(a===" "){var f=e.measureText("|"+a+"|"),g=e.measureText("||");b.cache[d]=(f-g)/100}else b.cache[d]=e.measureText(a)/100}return b.cache[d]*c}function v(a){var b=0,c=this.fonts.length;while(b<c){if(this.fonts[b].fName===a)return this.fonts[b];b+=1}return this.fonts[0]}function w(a){var b=0,c=a.charCodeAt(0);if(c>=55296&&c<=56319){a=a.charCodeAt(1);a>=56320&&a<=57343&&(b=(c-55296)*1024+a-56320+65536)}return b}function x(a,b){a=a.toString(16)+b.toString(16);return m.indexOf(a)!==-1}function y(a){return a===i}function z(a){return a===h}function A(a){a=w(a);return a>=j&&a<=l?!0:!1}function B(a){return A(a.substr(0,2))&&A(a.substr(2,2))}function C(a){return c.indexOf(a)!==-1}function D(a,b){var c=w(a.substr(b,2));if(c!==d)return!1;var h=0;b+=2;while(h<5){c=w(a.substr(b,2));if(c<f||c>g)return!1;h+=1;b+=2}return w(a.substr(b,2))===e}function E(){this.isLoaded=!0}var F=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};F.isModifier=x;F.isZeroWidthJoiner=y;F.isFlagEmoji=B;F.isRegionalCode=A;F.isCombinedCharacter=C;F.isRegionalFlag=D;F.isVariationSelector=z;F.BLACK_FLAG_CODE_POINT=d;x={addChars:s,addFonts:r,getCharData:t,getFontByName:v,measureText:u,checkLoadedFonts:p,setIsLoaded:E};F.prototype=x;return F}();function bc(a){this.animationData=a}bc.prototype.getProp=function(a){return this.animationData.slots&&this.animationData.slots[a.sid]?Object.assign(a,this.animationData.slots[a.sid].p):a};function cc(a){return new bc(a)}function dc(){}dc.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(a){this.renderableComponents.indexOf(a)===-1&&this.renderableComponents.push(a)},removeRenderableComponent:function(a){this.renderableComponents.indexOf(a)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(a),1)},prepareRenderableFrame:function(a){this.checkLayerLimits(a)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(a){this.data.ip-this.data.st<=a&&this.data.op-this.data.st>a?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var a,b=this.renderableComponents.length;for(a=0;a<b;a+=1)this.renderableComponents[a].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var ec=function(){var a={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(b){return a[b]||""}}();function fc(a,b,c){this.p=Q.getProp(b,a.v,0,0,c)}function gc(a,b,c){this.p=Q.getProp(b,a.v,0,0,c)}function hc(a,b,c){this.p=Q.getProp(b,a.v,1,0,c)}function ic(a,b,c){this.p=Q.getProp(b,a.v,1,0,c)}function jc(a,b,c){this.p=Q.getProp(b,a.v,0,0,c)}function kc(a,b,c){this.p=Q.getProp(b,a.v,0,0,c)}function lc(a,b,c){this.p=Q.getProp(b,a.v,0,0,c)}function mc(){this.p={}}function nc(a,b){a=a.ef||[];this.effectElements=[];var c,d=a.length,e;for(c=0;c<d;c+=1)e=new oc(a[c],b),this.effectElements.push(e)}function oc(a,b){this.init(a,b)}l([R],oc);oc.prototype.getValue=oc.prototype.iterateDynamicProperties;oc.prototype.init=function(a,b){this.data=a;this.effectElements=[];this.initDynamicPropertyContainer(b);var c;a=this.data.ef.length;var d,e=this.data.ef;for(c=0;c<a;c+=1){d=null;switch(e[c].ty){case 0:d=new fc(e[c],b,this);break;case 1:d=new gc(e[c],b,this);break;case 2:d=new hc(e[c],b,this);break;case 3:d=new ic(e[c],b,this);break;case 4:case 7:d=new lc(e[c],b,this);break;case 10:d=new jc(e[c],b,this);break;case 11:d=new kc(e[c],b,this);break;case 5:d=new nc(e[c],b,this);break;default:d=new mc(e[c],b,this);break}d&&this.effectElements.push(d)}};function pc(){}pc.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;var a=0,b=this.data.masksProperties.length;while(a<b){if(this.data.masksProperties[a].mode!=="n"&&this.data.masksProperties[a].cl!==!1)return!0;a+=1}return!1},initExpressions:function(){var a=J();if(!a)return;var b=a("layer"),c=a("effects"),d=a("shape"),e=a("text");a=a("comp");this.layerInterface=b(this);this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);b=c.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(b);this.data.ty===0||this.data.xt?this.compInterface=a(this):this.data.ty===4?(this.layerInterface.shapeInterface=d(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=e(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var a=ec(this.data.bm),b=this.baseElement||this.layerElement;b.style["mix-blend-mode"]=a},initBaseData:function(a,b,c){this.globalData=b,this.comp=c,this.data=a,this.layerId=H(),this.data.sr||(this.data.sr=1),this.effectsManager=new nc(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function qc(){}qc.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(a,b){var c;a=this.dynamicProperties.length;for(c=0;c<a;c+=1)(b||this._isParent&&this.dynamicProperties[c].propType==="transform")&&(this.dynamicProperties[c].getValue(),this.dynamicProperties[c]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(a){this.dynamicProperties.indexOf(a)===-1&&this.dynamicProperties.push(a)}};function rc(a,b,c){this.initFrame(),this.initRenderable(),this.assetData=b.getAssetData(a.refId),this.footageData=b.imageLoader.getAsset(this.assetData),this.initBaseData(a,b,c)}rc.prototype.prepareFrame=function(){};l([dc,pc,qc],rc);rc.prototype.getBaseElement=function(){return null};rc.prototype.renderFrame=function(){};rc.prototype.destroy=function(){};rc.prototype.initExpressions=function(){var a=J();if(!a)return;a=a("footage");this.layerInterface=a(this)};rc.prototype.getFootageData=function(){return this.footageData};function W(a,b,c){this.initFrame();this.initRenderable();this.assetData=b.getAssetData(a.refId);this.initBaseData(a,b,c);this._isPlaying=!1;this._canPlay=!1;c=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(c);this._currentTime=0;this.globalData.audioController.addAudio(this);this._volumeMultiplier=1;this._volume=1;this._previousVolume=null;this.tm=a.tm?Q.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0};this.lv=Q.getProp(this,a.au&&a.au.lv?a.au.lv:{k:[100]},1,.01,this)}W.prototype.prepareFrame=function(a){this.prepareRenderableFrame(a,!0);this.prepareProperties(a,!0);if(!this.tm._placeholder){var b=this.tm.v;this._currentTime=b}else this._currentTime=a/this.data.sr;this._volume=this.lv.v[0];b=this._volume*this._volumeMultiplier;this._previousVolume!==b&&(this._previousVolume=b,this.audio.volume(b))};l([dc,pc,qc],W);W.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(!this._isPlaying?(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0):(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate))};W.prototype.show=function(){};W.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1};W.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1};W.prototype.resume=function(){this._canPlay=!0};W.prototype.setRate=function(a){this.audio.rate(a)};W.prototype.volume=function(a){this._volumeMultiplier=a,this._previousVolume=a*this._volume,this.audio.volume(this._previousVolume)};W.prototype.getBaseElement=function(){return null};W.prototype.destroy=function(){};W.prototype.sourceRectAtTime=function(){};W.prototype.initExpressions=function(){};function X(){}X.prototype.checkLayers=function(a){var b=this.layers.length,c;this.completeLayers=!0;for(b=b-1;b>=0;b-=1)this.elements[b]||(c=this.layers[b],c.ip-c.st<=a-this.layers[b].st&&c.op-c.st>a-this.layers[b].st&&this.buildItem(b)),this.completeLayers=this.elements[b]?this.completeLayers:!1;this.checkPendingElements()};X.prototype.createItem=function(a){switch(a.ty){case 2:return this.createImage(a);case 0:return this.createComp(a);case 1:return this.createSolid(a);case 3:return this.createNull(a);case 4:return this.createShape(a);case 5:return this.createText(a);case 6:return this.createAudio(a);case 13:return this.createCamera(a);case 15:return this.createFootage(a);default:return this.createNull(a)}};X.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")};X.prototype.createAudio=function(a){return new W(a,this.globalData,this)};X.prototype.createFootage=function(a){return new rc(a,this.globalData,this)};X.prototype.buildAllItems=function(){var a,b=this.layers.length;for(a=0;a<b;a+=1)this.buildItem(a);this.checkPendingElements()};X.prototype.includeLayers=function(a){this.completeLayers=!1;var b,c=a.length,d,e=this.layers.length;for(b=0;b<c;b+=1){d=0;while(d<e){if(this.layers[d].id===a[b].id){this.layers[d]=a[b];break}d+=1}}};X.prototype.setProjectInterface=function(a){this.globalData.projectInterface=a};X.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()};X.prototype.buildElementParenting=function(a,b,c){var d=this.elements,e=this.layers,f=0,g=e.length;while(f<g)e[f].ind==b&&(!d[f]||d[f]===!0?(this.buildItem(f),this.addPendingElement(a)):(c.push(d[f]),d[f].setAsParent(),e[f].parent!==void 0?this.buildElementParenting(a,e[f].parent,c):a.setHierarchy(c))),f+=1};X.prototype.addPendingElement=function(a){this.pendingElements.push(a)};X.prototype.searchExtraCompositions=function(a){var b,c=a.length;for(b=0;b<c;b+=1)if(a[b].xt){var d=this.createComp(a[b]);d.initExpressions();this.globalData.projectInterface.registerComposition(d)}};X.prototype.getElementById=function(a){var b,c=this.elements.length;for(b=0;b<c;b+=1)if(this.elements[b].data.ind===a)return this.elements[b];return null};X.prototype.getElementByPath=function(a){var b=a.shift(),c;if(typeof b==="number")c=this.elements[b];else{var d,e=this.elements.length;for(d=0;d<e;d+=1)if(this.elements[d].data.nm===b){c=this.elements[d];break}}return a.length===0?c:c.getElementByPath(a)};X.prototype.setupGlobalData=function(a,b){this.globalData.fontManager=new ac(),this.globalData.slotManager=cc(a),this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,b),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=a.fr,this.globalData.nm=a.nm,this.globalData.compSize={w:a.w,h:a.h}};var sc={TRANSFORM_EFFECT:"transformEFfect"};function tc(){}tc.prototype={initTransform:function(){var a=new T();this.finalTransform={mProp:this.data.ks?sb.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:a,localMat:a,localOpacity:1};this.data.ao&&(this.finalTransform.mProp.autoOriented=!0);this.data.ty!==11},renderTransform:function(){this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame;this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame;if(this.hierarchy){var a,b=this.finalTransform.mat,c=0,d=this.hierarchy.length;if(!this.finalTransform._matMdf)while(c<d){if(this.hierarchy[c].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}c+=1}if(this.finalTransform._matMdf){a=this.finalTransform.mProp.v.props;b.cloneFromProps(a);for(c=0;c<d;c+=1)b.multiply(this.hierarchy[c].finalTransform.mProp.v)}}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf);this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var a=0,b=this.localTransforms.length;this.finalTransform._localMatMdf=this.finalTransform._matMdf;if(!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)while(a<b)this.localTransforms[a]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[a]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),a+=1;if(this.finalTransform._localMatMdf){var c=this.finalTransform.localMat;this.localTransforms[0].matrix.clone(c);for(a=1;a<b;a+=1){var d=this.localTransforms[a].matrix;c.multiply(d)}c.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){d=this.finalTransform.localOpacity;for(a=0;a<b;a+=1)d*=this.localTransforms[a].opacity*.01;this.finalTransform.localOpacity=d}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var a=this.renderableEffectsManager.getEffects(sc.TRANSFORM_EFFECT);if(a.length){this.localTransforms=[];this.finalTransform.localMat=new T();var b=0,c=a.length;for(b=0;b<c;b+=1)this.localTransforms.push(a[b])}}},globalToLocal:function(a){var b=[];b.push(this.finalTransform);var c=!0,d=this.comp;while(c)d.finalTransform?(d.data.hasMask&&b.splice(0,0,d.finalTransform),d=d.comp):c=!1;d=b.length;var e;for(c=0;c<d;c+=1)e=b[c].mat.applyToPointArray(0,0,0),a=[a[0]-e[0],a[1]-e[1],0];return a},mHelper:new T()};function uc(a,b,c){this.data=a;this.element=b;this.globalData=c;this.storedData=[];this.masksProperties=this.data.masksProperties||[];this.maskElement=null;a=this.globalData.defs;var d;b=this.masksProperties?this.masksProperties.length:0;this.viewData=p(b);this.solidPath="";var e;c=this.masksProperties;var f=0,g=[],h=H(),i,k,l,m,n="clipPath",o="clip-path";for(d=0;d<b;d+=1){(c[d].mode!=="a"&&c[d].mode!=="n"||c[d].inv||c[d].o.k!==100||c[d].o.x)&&(n="mask",o="mask");(c[d].mode==="s"||c[d].mode==="i")&&f===0?(i=M("rect"),i.setAttribute("fill","#ffffff"),i.setAttribute("width",this.element.comp.data.w||0),i.setAttribute("height",this.element.comp.data.h||0),g.push(i)):i=null;e=M("path");if(c[d].mode==="n")this.viewData[d]={op:Q.getProp(this.element,c[d].o,0,.01,this.element),prop:Ya.getShapeProp(this.element,c[d],3),elem:e,lastPath:""},a.appendChild(e);else{f+=1;e.setAttribute("fill",c[d].mode==="s"?"#000000":"#ffffff");e.setAttribute("clip-rule","nonzero");var q;c[d].x.k!==0?(n="mask",o="mask",m=Q.getProp(this.element,c[d].x,0,null,this.element),q=H(),k=M("filter"),k.setAttribute("id",q),l=M("feMorphology"),l.setAttribute("operator","erode"),l.setAttribute("in","SourceGraphic"),l.setAttribute("radius","0"),k.appendChild(l),a.appendChild(k),e.setAttribute("stroke",c[d].mode==="s"?"#000000":"#ffffff")):(l=null,m=null);this.storedData[d]={elem:e,x:m,expan:l,lastPath:"",lastOperator:"",filterId:q,lastRadius:0};if(c[d].mode==="i"){k=g.length;m=M("g");for(l=0;l<k;l+=1)m.appendChild(g[l]);l=M("mask");l.setAttribute("mask-type","alpha");l.setAttribute("id",h+"_"+f);l.appendChild(e);a.appendChild(l);m.setAttribute("mask","url("+j()+"#"+h+"_"+f+")");g.length=0;g.push(m)}else g.push(e);c[d].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath());this.viewData[d]={elem:e,lastPath:"",op:Q.getProp(this.element,c[d].o,0,.01,this.element),prop:Ya.getShapeProp(this.element,c[d],3),invRect:i};this.viewData[d].prop.k||this.drawPath(c[d],this.viewData[d].prop.v,this.viewData[d])}}this.maskElement=M(n);b=g.length;for(d=0;d<b;d+=1)this.maskElement.appendChild(g[d]);f>0&&(this.maskElement.setAttribute("id",h),this.element.maskedElement.setAttribute(o,"url("+j()+"#"+h+")"),a.appendChild(this.maskElement));this.viewData.length&&this.element.addRenderableComponent(this)}uc.prototype.getMaskProperty=function(a){return this.viewData[a].prop};uc.prototype.renderFrame=function(a){var b=this.element.finalTransform.mat,c,d=this.masksProperties.length;for(c=0;c<d;c+=1){(this.viewData[c].prop._mdf||a)&&this.drawPath(this.masksProperties[c],this.viewData[c].prop.v,this.viewData[c]);(this.viewData[c].op._mdf||a)&&this.viewData[c].elem.setAttribute("fill-opacity",this.viewData[c].op.v);if(this.masksProperties[c].mode!=="n"){this.viewData[c].invRect&&(this.element.finalTransform.mProp._mdf||a)&&this.viewData[c].invRect.setAttribute("transform",b.getInverseMatrix().to2dCSS());if(this.storedData[c].x&&(this.storedData[c].x._mdf||a)){var e=this.storedData[c].expan;this.storedData[c].x.v<0?(this.storedData[c].lastOperator!=="erode"&&(this.storedData[c].lastOperator="erode",this.storedData[c].elem.setAttribute("filter","url("+j()+"#"+this.storedData[c].filterId+")")),e.setAttribute("radius",-this.storedData[c].x.v)):(this.storedData[c].lastOperator!=="dilate"&&(this.storedData[c].lastOperator="dilate",this.storedData[c].elem.setAttribute("filter",null)),this.storedData[c].elem.setAttribute("stroke-width",this.storedData[c].x.v*2))}}}};uc.prototype.getMaskelement=function(){return this.maskElement};uc.prototype.createLayerSolidPath=function(){var a="M0,0 ";a+=" h"+this.globalData.compSize.w;a+=" v"+this.globalData.compSize.h;a+=" h-"+this.globalData.compSize.w;a+=" v-"+this.globalData.compSize.h+" ";return a};uc.prototype.drawPath=function(a,b,c){var d=" M"+b.v[0][0]+","+b.v[0][1],e,f;f=b._length;for(e=1;e<f;e+=1)d+=" C"+b.o[e-1][0]+","+b.o[e-1][1]+" "+b.i[e][0]+","+b.i[e][1]+" "+b.v[e][0]+","+b.v[e][1];b.c&&f>1&&(d+=" C"+b.o[e-1][0]+","+b.o[e-1][1]+" "+b.i[0][0]+","+b.i[0][1]+" "+b.v[0][0]+","+b.v[0][1]);if(c.lastPath!==d){f="";c.elem&&(b.c&&(f=a.inv?this.solidPath+d:d),c.elem.setAttribute("d",f));c.lastPath=d}};uc.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var vc=function(){var a={};a.createFilter=b;a.createAlphaToLuminanceFilter=c;function b(a,b){var c=M("filter");c.setAttribute("id",a);b!==!0&&(c.setAttribute("filterUnits","objectBoundingBox"),c.setAttribute("x","0%"),c.setAttribute("y","0%"),c.setAttribute("width","100%"),c.setAttribute("height","100%"));return c}function c(){var a=M("feColorMatrix");a.setAttribute("type","matrix");a.setAttribute("color-interpolation-filters","sRGB");a.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1");return a}return a}(),wc=function(){var a={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas!=="undefined"};(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(a.maskType=!1);/firefox/i.test(navigator.userAgent)&&(a.svgLumaHidden=!1);return a}(),xc={},yc="filter_result_";function zc(a){var b,c="SourceGraphic",d=a.data.ef?a.data.ef.length:0,e=H(),f=vc.createFilter(e,!0),g=0;this.filters=[];var h;for(b=0;b<d;b+=1){h=null;var i=a.data.ef[b].ty;if(xc[i]){var k=xc[i].effect;h=new k(f,a.effectsManager.effectElements[b],a,yc+g,c);c=yc+g;xc[i].countsAsEffect&&(g+=1)}h&&this.filters.push(h)}g&&(a.globalData.defs.appendChild(f),a.layerElement.setAttribute("filter","url("+j()+"#"+e+")"));this.filters.length&&a.addRenderableComponent(this)}zc.prototype.renderFrame=function(a){var b,c=this.filters.length;for(b=0;b<c;b+=1)this.filters[b].renderFrame(a)};zc.prototype.getEffects=function(a){var b,c=this.filters.length,d=[];for(b=0;b<c;b+=1)this.filters[b].type===a&&d.push(this.filters[b]);return d};function Ac(){}Ac.prototype={initRendererElement:function(){this.layerElement=M("g")},createContainerElements:function(){this.matteElement=M("g");this.transformedElement=this.layerElement;this.maskedElement=this.layerElement;this._sizeChanged=!1;var a=null;if(this.data.td){this.matteMasks={};var b=M("g");b.setAttribute("id",this.layerId);b.appendChild(this.layerElement);a=b;this.globalData.defs.appendChild(b)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),a=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;this.data.ln&&this.layerElement.setAttribute("id",this.data.ln);this.data.cl&&this.layerElement.setAttribute("class",this.data.cl);if(this.data.ty===0&&!this.data.hd){b=M("clipPath");var c=M("path");c.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=H();b.setAttribute("id",d);b.appendChild(c);this.globalData.defs.appendChild(b);if(this.checkMasks()){c=M("g");c.setAttribute("clip-path","url("+j()+"#"+d+")");c.appendChild(this.layerElement);this.transformedElement=c;a?a.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+j()+"#"+d+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new uc(this.data,this,this.globalData),this.renderableEffectsManager=new zc(this),this.searchEffectTransforms()},getMatte:function(a){this.matteMasks||(this.matteMasks={});if(!this.matteMasks[a]){var b=this.layerId+"_"+a,c,d,e,f;if(a===1||a===3){var g=M("mask");g.setAttribute("id",b);g.setAttribute("mask-type",a===3?"luminance":"alpha");e=M("use");e.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId);g.appendChild(e);this.globalData.defs.appendChild(g);!wc.maskType&&a===1&&(g.setAttribute("mask-type","luminance"),c=H(),d=vc.createFilter(c),this.globalData.defs.appendChild(d),d.appendChild(vc.createAlphaToLuminanceFilter()),f=M("g"),f.appendChild(e),g.appendChild(f),f.setAttribute("filter","url("+j()+"#"+c+")"))}else if(a===2){g=M("mask");g.setAttribute("id",b);g.setAttribute("mask-type","alpha");var h=M("g");g.appendChild(h);c=H();d=vc.createFilter(c);var i=M("feComponentTransfer");i.setAttribute("in","SourceGraphic");d.appendChild(i);var k=M("feFuncA");k.setAttribute("type","table");k.setAttribute("tableValues","1.0 0.0");i.appendChild(k);this.globalData.defs.appendChild(d);i=M("rect");i.setAttribute("width",this.comp.data.w);i.setAttribute("height",this.comp.data.h);i.setAttribute("x","0");i.setAttribute("y","0");i.setAttribute("fill","#ffffff");i.setAttribute("opacity","0");h.setAttribute("filter","url("+j()+"#"+c+")");h.appendChild(i);e=M("use");e.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId);h.appendChild(e);wc.maskType||(g.setAttribute("mask-type","luminance"),d.appendChild(vc.createAlphaToLuminanceFilter()),f=M("g"),h.appendChild(i),f.appendChild(this.layerElement),h.appendChild(f));this.globalData.defs.appendChild(g)}this.matteMasks[a]=b}return this.matteMasks[a]},setMatte:function(a){if(!this.matteElement)return;this.matteElement.setAttribute("mask","url("+j()+"#"+a+")")}};function Bc(){}Bc.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(a){this.hierarchy=a},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function Cc(){}(function(){var a={initElement:function(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initTransform(a,b,c),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var a=this.baseElement||this.layerElement;a.style.display="none";this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var a=this.baseElement||this.layerElement;a.style.display="block"}this.hidden=!1;this._isFirstFrame=!0}},renderFrame:function(){if(this.data.hd||this.hidden)return;this.renderTransform();this.renderRenderable();this.renderLocalTransform();this.renderElement();this.renderInnerContent();this._isFirstFrame&&(this._isFirstFrame=!1)},renderInnerContent:function(){},prepareFrame:function(a){this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};l([dc,m(a)],Cc)})();function Dc(a,b,c){this.assetData=b.getAssetData(a.refId),this.assetData&&this.assetData.sid&&(this.assetData=b.slotManager.getProp(this.assetData)),this.initElement(a,b,c),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}l([pc,tc,Ac,Bc,qc,Cc],Dc);Dc.prototype.createContent=function(){var a=this.globalData.getAssetsPath(this.assetData);this.innerElem=M("image");this.innerElem.setAttribute("width",this.assetData.w+"px");this.innerElem.setAttribute("height",this.assetData.h+"px");this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio);this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a);this.layerElement.appendChild(this.innerElem)};Dc.prototype.sourceRectAtTime=function(){return this.sourceRect};function Ec(a,b){this.elem=a,this.pos=b}function Fc(){}Fc.prototype={addShapeToModifiers:function(a){var b,c=this.shapeModifiers.length;for(b=0;b<c;b+=1)this.shapeModifiers[b].addShape(a)},isShapeInAnimatedModifiers:function(a){var b=0,c=this.shapeModifiers.length;while(b<c)if(this.shapeModifiers[b].isAnimatedWithShape(a))return!0;return!1},renderModifiers:function(){if(!this.shapeModifiers.length)return;var a,b=this.shapes.length;for(a=0;a<b;a+=1)this.shapes[a].sh.reset();b=this.shapeModifiers.length;for(a=b-1;a>=0;a-=1){b=this.shapeModifiers[a].processShapes(this._isFirstFrame);if(b)break}},searchProcessedElement:function(a){var b=this.processedElements,c=0,d=b.length;while(c<d){if(b[c].elem===a)return b[c].pos;c+=1}return 0},addProcessedElement:function(a,b){var c=this.processedElements,d=c.length;while(d){d-=1;if(c[d].elem===a){c[d].pos=b;return}}c.push(new Ec(a,b))},prepareFrame:function(a){this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange)}};var Gc={1:"butt",2:"round",3:"square"},Hc={1:"miter",2:"round",3:"bevel"};function Ic(a,b,c){this.caches=[];this.styles=[];this.transformers=a;this.lStr="";this.sh=c;this.lvl=b;this._isAnimated=!!c.k;b=0;c=a.length;while(b<c){if(a[b].mProps.dynamicProperties.length){this._isAnimated=!0;break}b+=1}}Ic.prototype.setAsAnimated=function(){this._isAnimated=!0};function Jc(a,b){this.data=a,this.type=a.ty,this.d="",this.lvl=b,this._mdf=!1,this.closed=a.hd===!0,this.pElem=M("path"),this.msElem=null}Jc.prototype.reset=function(){this.d="",this._mdf=!1};function Kc(b,c,a,d){this.elem=b;this.frameId=-1;this.dataProps=p(c.length);this.renderer=a;this.k=!1;this.dashStr="";this.dashArray=o("float32",c.length?c.length-1:0);this.dashoffset=o("float32",1);this.initDynamicPropertyContainer(d);a=c.length||0;var e;for(d=0;d<a;d+=1)e=Q.getProp(b,c[d].v,0,0,this),this.k=e.k||this.k,this.dataProps[d]={n:c[d].n,p:e};this.k||this.getValue(!0);this._isAnimated=this.k}Kc.prototype.getValue=function(a){if(this.elem.globalData.frameId===this.frameId&&!a)return;this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();this._mdf=this._mdf||a;if(this._mdf){var b;a=this.dataProps.length;this.renderer==="svg"&&(this.dashStr="");for(b=0;b<a;b+=1)this.dataProps[b].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[b].p.v:this.dashArray[b]=this.dataProps[b].p.v:this.dashoffset[0]=this.dataProps[b].p.v}};l([R],Kc);function Lc(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=Q.getProp(a,b.o,0,.01,this),this.w=Q.getProp(a,b.w,0,null,this),this.d=new Kc(a,b.d||{},"svg",this),this.c=Q.getProp(a,b.c,1,255,this),this.style=c,this._isAnimated=!!this._isAnimated}l([R],Lc);function Mc(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=Q.getProp(a,b.o,0,.01,this),this.c=Q.getProp(a,b.c,1,255,this),this.style=c}l([R],Mc);function Nc(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.style=c}l([R],Nc);function Oc(a,b,c){this.data=b;this.c=o("uint8c",b.p*4);var d=b.k.k[0].s?b.k.k[0].s.length-b.p*4:b.k.k.length-b.p*4;this.o=o("float32",d);this._cmdf=!1;this._omdf=!1;this._collapsable=this.checkCollapsable();this._hasOpacity=d;this.initDynamicPropertyContainer(c);this.prop=Q.getProp(a,b.k,1,null,this);this.k=this.prop.k;this.getValue(!0)}Oc.prototype.comparePoints=function(a,b){var c=0,d=this.o.length/2,e;while(c<d){e=Math.abs(a[c*4]-a[b*4+c*2]);if(e>.01)return!1;c+=1}return!0};Oc.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s){var a=0,b=this.data.k.k.length;while(a<b){if(!this.comparePoints(this.data.k.k[a].s,this.data.p))return!1;a+=1}}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0};Oc.prototype.getValue=function(a){this.prop.getValue();this._mdf=!1;this._cmdf=!1;this._omdf=!1;if(this.prop._mdf||a){var b,c=this.data.p*4,d;for(b=0;b<c;b+=1)d=b%4===0?100:255,d=Math.round(this.prop.v[b]*d),this.c[b]!==d&&(this.c[b]=d,this._cmdf=!a);if(this.o.length){c=this.prop.v.length;for(b=this.data.p*4;b<c;b+=1)b%2===0?100:1,d=b%2===0?Math.round(this.prop.v[b]*100):this.prop.v[b],this.o[b-this.data.p*4]!==d&&(this.o[b-this.data.p*4]=d,this._omdf=!a)}this._mdf=!a}};l([R],Oc);function Pc(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.initGradientData(a,b,c)}Pc.prototype.initGradientData=function(a,b,c){this.o=Q.getProp(a,b.o,0,.01,this),this.s=Q.getProp(a,b.s,1,null,this),this.e=Q.getProp(a,b.e,1,null,this),this.h=Q.getProp(a,b.h||{k:0},0,.01,this),this.a=Q.getProp(a,b.a||{k:0},0,D,this),this.g=new Oc(a,b.g,this),this.style=c,this.stops=[],this.setGradientData(c.pElem,b),this.setGradientOpacity(b,c),this._isAnimated=!!this._isAnimated};Pc.prototype.setGradientData=function(a,b){var c=H(),d=M(b.t===1?"linearGradient":"radialGradient");d.setAttribute("id",c);d.setAttribute("spreadMethod","pad");d.setAttribute("gradientUnits","userSpaceOnUse");var e=[],f,g,h;h=b.g.p*4;for(g=0;g<h;g+=4)f=M("stop"),d.appendChild(f),e.push(f);a.setAttribute(b.ty==="gf"?"fill":"stroke","url("+j()+"#"+c+")");this.gf=d;this.cst=e};Pc.prototype.setGradientOpacity=function(a,b){if(this.g._hasOpacity&&!this.g._collapsable){var c,d,e,f=M("mask"),g=M("path");f.appendChild(g);var h=H(),i=H();f.setAttribute("id",i);var k=M(a.t===1?"linearGradient":"radialGradient");k.setAttribute("id",h);k.setAttribute("spreadMethod","pad");k.setAttribute("gradientUnits","userSpaceOnUse");e=a.g.k.k[0].s?a.g.k.k[0].s.length:a.g.k.k.length;var l=this.stops;for(d=a.g.p*4;d<e;d+=2)c=M("stop"),c.setAttribute("stop-color","rgb(255,255,255)"),k.appendChild(c),l.push(c);g.setAttribute(a.ty==="gf"?"fill":"stroke","url("+j()+"#"+h+")");a.ty==="gs"&&(g.setAttribute("stroke-linecap",Gc[a.lc||2]),g.setAttribute("stroke-linejoin",Hc[a.lj||2]),a.lj===1&&g.setAttribute("stroke-miterlimit",a.ml));this.of=k;this.ms=f;this.ost=l;this.maskId=i;b.msElem=g}};l([R],Pc);function Qc(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.w=Q.getProp(a,b.w,0,null,this),this.d=new Kc(a,b.d||{},"svg",this),this.initGradientData(a,b,c),this._isAnimated=!!this._isAnimated}l([Pc,R],Qc);function Rc(){this.it=[],this.prevViewData=[],this.gr=M("g")}function Sc(a,b,c){this.transform={mProps:a,op:b,container:c},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var Tc=function(a,b,c,d){if(b===0)return"";var e=a.o,f=a.i;a=a.v;var g,h=" M"+d.applyToPointStringified(a[0][0],a[0][1]);for(g=1;g<b;g+=1)h+=" C"+d.applyToPointStringified(e[g-1][0],e[g-1][1])+" "+d.applyToPointStringified(f[g][0],f[g][1])+" "+d.applyToPointStringified(a[g][0],a[g][1]);c&&b&&(h+=" C"+d.applyToPointStringified(e[g-1][0],e[g-1][1])+" "+d.applyToPointStringified(f[0][0],f[0][1])+" "+d.applyToPointStringified(a[0][0],a[0][1]),h+="z");return h},Uc=function(){var a=new T(),b=new T();c={createRenderFunction:c};function c(a){switch(a.ty){case"fl":return g;case"gf":return i;case"gs":return h;case"st":return j;case"sh":case"el":case"rc":case"sr":return f;case"tr":return d;case"no":return e;default:return null}}function d(a,b,c){(c||b.transform.op._mdf)&&b.transform.container.setAttribute("opacity",b.transform.op.v),(c||b.transform.mProps._mdf)&&b.transform.container.setAttribute("transform",b.transform.mProps.v.to2dCSS())}function e(){}function f(c,d,e){var f,g,h,i,j,k=d.styles.length,l=d.lvl,m,n,o;for(j=0;j<k;j+=1){h=d.sh._mdf||e;if(d.styles[j].lvl<l){m=b.reset();n=l-d.styles[j].lvl;o=d.transformers.length-1;while(!h&&n>0)h=d.transformers[o].mProps._mdf||h,n-=1,o-=1;if(h){n=l-d.styles[j].lvl;o=d.transformers.length-1;while(n>0)m.multiply(d.transformers[o].mProps.v),n-=1,o-=1}}else m=a;n=d.sh.paths;o=n._length;if(h){g="";for(f=0;f<o;f+=1)i=n.shapes[f],i&&i._length&&(g+=Tc(i,i._length,i.c,m));d.caches[j]=g}else g=d.caches[j];d.styles[j].d+=c.hd===!0?"":g;d.styles[j]._mdf=h||d.styles[j]._mdf}}function g(a,b,c){a=b.style;(b.c._mdf||c)&&a.pElem.setAttribute("fill","rgb("+z(b.c.v[0])+","+z(b.c.v[1])+","+z(b.c.v[2])+")");(b.o._mdf||c)&&a.pElem.setAttribute("fill-opacity",b.o.v)}function h(a,b,c){i(a,b,c),j(a,b,c)}function i(a,b,c){var d=b.gf,e=b.g._hasOpacity,f=b.s.v,g=b.e.v;if(b.o._mdf||c){var h=a.ty==="gf"?"fill-opacity":"stroke-opacity";b.style.pElem.setAttribute(h,b.o.v)}if(b.s._mdf||c){h=a.t===1?"x1":"cx";var i=h==="x1"?"y1":"cy";d.setAttribute(h,f[0]);d.setAttribute(i,f[1]);e&&!b.g._collapsable&&(b.of.setAttribute(h,f[0]),b.of.setAttribute(i,f[1]))}var j,k,l;if(b.g._cmdf||c){h=b.cst;i=b.g.c;k=h.length;for(j=0;j<k;j+=1)l=h[j],l.setAttribute("offset",i[j*4]+"%"),l.setAttribute("stop-color","rgb("+i[j*4+1]+","+i[j*4+2]+","+i[j*4+3]+")")}if(e&&(b.g._omdf||c)){i=b.g.o;b.g._collapsable?h=b.cst:h=b.ost;k=h.length;for(j=0;j<k;j+=1)l=h[j],b.g._collapsable||l.setAttribute("offset",i[j*2]+"%"),l.setAttribute("stop-opacity",i[j*2+1])}if(a.t===1)(b.e._mdf||c)&&(d.setAttribute("x2",g[0]),d.setAttribute("y2",g[1]),e&&!b.g._collapsable&&(b.of.setAttribute("x2",g[0]),b.of.setAttribute("y2",g[1])));else{var m;(b.s._mdf||b.e._mdf||c)&&(m=Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2)),d.setAttribute("r",m),e&&!b.g._collapsable&&b.of.setAttribute("r",m));if(b.e._mdf||b.h._mdf||b.a._mdf||c){m||(m=Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2)));j=Math.atan2(g[1]-f[1],g[0]-f[0]);k=b.h.v;k>=1?k=.99:k<=-1&&(k=-.99);i=m*k;l=Math.cos(j+b.a.v)*i+f[0];h=Math.sin(j+b.a.v)*i+f[1];d.setAttribute("fx",l);d.setAttribute("fy",h);e&&!b.g._collapsable&&(b.of.setAttribute("fx",l),b.of.setAttribute("fy",h))}}}function j(a,b,c){a=b.style;var d=b.d;d&&(d._mdf||c)&&d.dashStr&&(a.pElem.setAttribute("stroke-dasharray",d.dashStr),a.pElem.setAttribute("stroke-dashoffset",d.dashoffset[0]));b.c&&(b.c._mdf||c)&&a.pElem.setAttribute("stroke","rgb("+z(b.c.v[0])+","+z(b.c.v[1])+","+z(b.c.v[2])+")");(b.o._mdf||c)&&a.pElem.setAttribute("stroke-opacity",b.o.v);(b.w._mdf||c)&&(a.pElem.setAttribute("stroke-width",b.w.v),a.msElem&&a.msElem.setAttribute("stroke-width",b.w.v))}return c}();function Y(a,b,c){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(a,b,c),this.prevViewData=[]}l([pc,tc,Ac,Fc,Bc,qc,Cc],Y);Y.prototype.initSecondaryElement=function(){};Y.prototype.identityMatrix=new T();Y.prototype.buildExpressionInterface=function(){};Y.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()};Y.prototype.filterUniqueShapes=function(){var a,b=this.shapes.length,c,d,e=this.stylesList.length,f,g=[],h=!1;for(d=0;d<e;d+=1){f=this.stylesList[d];h=!1;g.length=0;for(a=0;a<b;a+=1)c=this.shapes[a],c.styles.indexOf(f)!==-1&&(g.push(c),h=c._isAnimated||h);g.length>1&&h&&this.setShapesAsAnimated(g)}};Y.prototype.setShapesAsAnimated=function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b].setAsAnimated()};Y.prototype.createStyleElement=function(a,b){var c;b=new Jc(a,b);var d=b.pElem;if(a.ty==="st")c=new Lc(this,a,b);else if(a.ty==="fl")c=new Mc(this,a,b);else if(a.ty==="gf"||a.ty==="gs"){var e=a.ty==="gf"?Pc:Qc;c=new e(this,a,b);this.globalData.defs.appendChild(c.gf);c.maskId&&(this.globalData.defs.appendChild(c.ms),this.globalData.defs.appendChild(c.of),d.setAttribute("mask","url("+j()+"#"+c.maskId+")"))}else a.ty==="no"&&(c=new Nc(this,a,b));(a.ty==="st"||a.ty==="gs")&&(d.setAttribute("stroke-linecap",Gc[a.lc||2]),d.setAttribute("stroke-linejoin",Hc[a.lj||2]),d.setAttribute("fill-opacity","0"),a.lj===1&&d.setAttribute("stroke-miterlimit",a.ml));a.r===2&&d.setAttribute("fill-rule","evenodd");a.ln&&d.setAttribute("id",a.ln);a.cl&&d.setAttribute("class",a.cl);a.bm&&(d.style["mix-blend-mode"]=ec(a.bm));this.stylesList.push(b);this.addToAnimatedContents(a,c);return c};Y.prototype.createGroupElement=function(a){var b=new Rc();a.ln&&b.gr.setAttribute("id",a.ln);a.cl&&b.gr.setAttribute("class",a.cl);a.bm&&(b.gr.style["mix-blend-mode"]=ec(a.bm));return b};Y.prototype.createTransformElement=function(a,b){var c=sb.getTransformProperty(this,a,this);c=new Sc(c,c.o,b);this.addToAnimatedContents(a,c);return c};Y.prototype.createShapeElement=function(a,b,c){var d=4;a.ty==="rc"?d=5:a.ty==="el"?d=6:a.ty==="sr"&&(d=7);d=Ya.getShapeProp(this,a,d,this);b=new Ic(b,c,d);this.shapes.push(b);this.addShapeToModifiers(b);this.addToAnimatedContents(a,b);return b};Y.prototype.addToAnimatedContents=function(a,b){var c=0,d=this.animatedContents.length;while(c<d){if(this.animatedContents[c].element===b)return;c+=1}this.animatedContents.push({fn:Uc.createRenderFunction(a),element:b,data:a})};Y.prototype.setElementStyles=function(a){a=a.styles;var b,c=this.stylesList.length;for(b=0;b<c;b+=1)this.stylesList[b].closed||a.push(this.stylesList[b])};Y.prototype.reloadShapes=function(){this._isFirstFrame=!0;var a,b=this.itemsData.length;for(a=0;a<b;a+=1)this.prevViewData[a]=this.itemsData[a];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0);this.filterUniqueShapes();b=this.dynamicProperties.length;for(a=0;a<b;a+=1)this.dynamicProperties[a].getValue();this.renderModifiers()};Y.prototype.searchShapes=function(a,b,c,d,e,f,g){f=[].concat(f);var h,i=a.length-1,j,k,l=[],m=[],n;for(h=i;h>=0;h-=1){n=this.searchProcessedElement(a[h]);!n?a[h]._render=g:b[h]=c[n-1];if(a[h].ty==="fl"||a[h].ty==="st"||a[h].ty==="gf"||a[h].ty==="gs"||a[h].ty==="no")!n?b[h]=this.createStyleElement(a[h],e):b[h].style.closed=!1,a[h]._render&&(b[h].style.pElem.parentNode!==d&&d.appendChild(b[h].style.pElem)),l.push(b[h].style);else if(a[h].ty==="gr"){if(!n)b[h]=this.createGroupElement(a[h]);else{k=b[h].it.length;for(j=0;j<k;j+=1)b[h].prevViewData[j]=b[h].it[j]}this.searchShapes(a[h].it,b[h].it,b[h].prevViewData,b[h].gr,e+1,f,g);a[h]._render&&(b[h].gr.parentNode!==d&&d.appendChild(b[h].gr))}else a[h].ty==="tr"?(n||(b[h]=this.createTransformElement(a[h],d)),j=b[h].transform,f.push(j)):a[h].ty==="sh"||a[h].ty==="rc"||a[h].ty==="el"||a[h].ty==="sr"?(n||(b[h]=this.createShapeElement(a[h],f,e)),this.setElementStyles(b[h])):a[h].ty==="tm"||a[h].ty==="rd"||a[h].ty==="ms"||a[h].ty==="pb"||a[h].ty==="zz"||a[h].ty==="op"?(!n?(k=pb.getModifier(a[h].ty),k.init(this,a[h]),b[h]=k,this.shapeModifiers.push(k)):(k=b[h],k.closed=!1),m.push(k)):a[h].ty==="rp"&&(!n?(k=pb.getModifier(a[h].ty),b[h]=k,k.init(this,a,h,b),this.shapeModifiers.push(k),g=!1):(k=b[h],k.closed=!0),m.push(k));this.addProcessedElement(a[h],h+1)}i=l.length;for(h=0;h<i;h+=1)l[h].closed=!0;i=m.length;for(h=0;h<i;h+=1)m[h].closed=!0};Y.prototype.renderInnerContent=function(){this.renderModifiers();var a,b=this.stylesList.length;for(a=0;a<b;a+=1)this.stylesList[a].reset();this.renderShape();for(a=0;a<b;a+=1)(this.stylesList[a]._mdf||this._isFirstFrame)&&(this.stylesList[a].msElem&&(this.stylesList[a].msElem.setAttribute("d",this.stylesList[a].d),this.stylesList[a].d="M0 0"+this.stylesList[a].d),this.stylesList[a].pElem.setAttribute("d",this.stylesList[a].d||"M0 0"))};Y.prototype.renderShape=function(){var a,b=this.animatedContents.length,c;for(a=0;a<b;a+=1)c=this.animatedContents[a],(this._isFirstFrame||c.element._isAnimated)&&c.data!==!0&&c.fn(c.data,c.element,this._isFirstFrame)};Y.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function Vc(a,b,c,d,e,f){this.o=a,this.sw=b,this.sc=c,this.fc=d,this.m=e,this.p=f,this._mdf={o:!0,sw:!!b,sc:!!c,fc:!!d,m:!0,p:!0}}Vc.prototype.update=function(a,b,c,d,e,f){this._mdf.o=!1;this._mdf.sw=!1;this._mdf.sc=!1;this._mdf.fc=!1;this._mdf.m=!1;this._mdf.p=!1;var g=!1;this.o!==a&&(this.o=a,this._mdf.o=!0,g=!0);this.sw!==b&&(this.sw=b,this._mdf.sw=!0,g=!0);this.sc!==c&&(this.sc=c,this._mdf.sc=!0,g=!0);this.fc!==d&&(this.fc=d,this._mdf.fc=!0,g=!0);this.m!==e&&(this.m=e,this._mdf.m=!0,g=!0);f.length&&(this.p[0]!==f[0]||this.p[1]!==f[1]||this.p[4]!==f[4]||this.p[5]!==f[5]||this.p[12]!==f[12]||this.p[13]!==f[13])&&(this.p=f,this._mdf.p=!0,g=!0);return g};function Z(a,b){this._frameId=d,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,b.d&&b.d.sid&&(b.d=a.globalData.slotManager.getProp(b.d)),this.data=b,this.elem=a,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}Z.prototype.defaultBoxWidth=[0,0];Z.prototype.copyData=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a};Z.prototype.setCurrentData=function(a){a.__complete||this.completeTextData(a),this.currentData=a,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0};Z.prototype.searchProperty=function(){return this.searchKeyframes()};Z.prototype.searchKeyframes=function(){this.kf=this.data.d.k.length>1;this.kf&&this.addEffect(this.getKeyframeValue.bind(this));return this.kf};Z.prototype.addEffect=function(a){this.effectsSequence.push(a),this.elem.addDynamicProperty(this)};Z.prototype.getValue=function(a){if((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!a)return;this.currentData.t=this.data.d.k[this.keysIndex].s.t;var b=this.currentData,c=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0;this._mdf=!1;var d,e=this.effectsSequence.length;a=a||this.data.d.k[this.keysIndex].s;for(d=0;d<e;d+=1)c!==this.keysIndex?a=this.effectsSequence[d](a,a.t):a=this.effectsSequence[d](this.currentData,a.t);b!==a&&this.setCurrentData(a);this.v=this.currentData;this.pv=this.v;this.lock=!1;this.frameId=this.elem.globalData.frameId};Z.prototype.getKeyframeValue=function(){var a=this.data.d.k,b=this.elem.comp.renderedFrame,c=0,d=a.length;while(c<=d-1){if(c===d-1||a[c+1].t>b)break;c+=1}this.keysIndex!==c&&(this.keysIndex=c);return this.data.d.k[this.keysIndex].s};Z.prototype.buildFinalText=function(a){var b=[],c=0,d=a.length,e,f,g=!1,h=!1,i="";while(c<d)g=h,h=!1,e=a.charCodeAt(c),i=a.charAt(c),ac.isCombinedCharacter(e)?g=!0:e>=55296&&e<=56319?ac.isRegionalFlag(a,c)?i=a.substr(c,14):(f=a.charCodeAt(c+1),f>=56320&&f<=57343&&(ac.isModifier(e,f)?(i=a.substr(c,2),g=!0):ac.isFlagEmoji(a.substr(c,4))?i=a.substr(c,4):i=a.substr(c,2))):e>56319?(a.charCodeAt(c+1),ac.isVariationSelector(e)&&(g=!0)):ac.isZeroWidthJoiner(e)&&(g=!0,h=!0),g?(b[b.length-1]+=i,g=!1):b.push(i),c+=i.length;return b};Z.prototype.completeTextData=function(a){a.__complete=!0;var b=this.elem.globalData.fontManager,c=this.data,d=[],e,f,g=0,h=c.m.g,i=0,j=0,k=0,l=[],m=0,n=0,o=b.getFontByName(a.f),p,q=0,r=$b(o);a.fWeight=r.weight;a.fStyle=r.style;a.finalSize=a.s;a.finalText=this.buildFinalText(a.t);r=a.finalText.length;a.finalLineHeight=a.lh;var s=a.tr/1e3*a.finalSize,t;if(a.sz){var u=!0,v=a.sz[0],w=a.sz[1],x,y;while(u){y=this.buildFinalText(a.t);x=0;m=0;r=y.length;s=a.tr/1e3*a.finalSize;var z=-1;for(e=0;e<r;e+=1)t=y[e].charCodeAt(0),f=!1,y[e]===" "?z=e:(t===13||t===3)&&(m=0,f=!0,x+=a.finalLineHeight||a.finalSize*1.2),b.chars?(p=b.getCharData(y[e],o.fStyle,o.fFamily),q=f?0:p.w*a.finalSize/100):q=b.measureText(y[e],a.f,a.finalSize),m+q>v&&y[e]!==" "?(z===-1?r+=1:e=z,x+=a.finalLineHeight||a.finalSize*1.2,y.splice(e,z===e?1:0,"\r"),z=-1,m=0):(m+=q,m+=s);x+=o.ascent*a.finalSize/100;this.canResize&&a.finalSize>this.minimumFontSize&&w<x?(a.finalSize-=1,a.finalLineHeight=a.finalSize*a.lh/a.s):(a.finalText=y,r=a.finalText.length,u=!1)}}m=-s;q=0;z=0;for(e=0;e<r;e+=1){f=!1;x=a.finalText[e];t=x.charCodeAt(0);t===13||t===3?(z=0,l.push(m),n=m>n?m:n,m=-2*s,y="",f=!0,k+=1):y=x;b.chars?(p=b.getCharData(x,o.fStyle,b.getFontByName(a.f).fFamily),q=f?0:p.w*a.finalSize/100):q=b.measureText(y,a.f,a.finalSize);x===" "?z+=q+s:(m+=q+s+z,z=0);d.push({l:q,an:q,add:i,n:f,anIndexes:[],val:y,line:k,animatorJustifyOffset:0});if(h==2){i+=q;if(y===""||y===" "||e===r-1){(y===""||y===" ")&&(i-=q);while(j<=e)d[j].an=i,d[j].ind=g,d[j].extra=q,j+=1;g+=1;i=0}}else if(h==3){i+=q;if(y===""||e===r-1){y===""&&(i-=q);while(j<=e)d[j].an=i,d[j].ind=g,d[j].extra=q,j+=1;i=0;g+=1}}else d[g].ind=g,d[g].extra=0,g+=1}a.l=d;n=m>n?m:n;l.push(m);if(a.sz)a.boxWidth=a.sz[0],a.justifyOffset=0;else{a.boxWidth=n;switch(a.j){case 1:a.justifyOffset=-a.boxWidth;break;case 2:a.justifyOffset=-a.boxWidth/2;break;default:a.justifyOffset=0}}a.lineWidths=l;w=c.a;v=w.length;u=[];for(t=0;t<v;t+=1){p=w[t];p.a.sc&&(a.strokeColorAnim=!0);p.a.sw&&(a.strokeWidthAnim=!0);(p.a.fc||p.a.fh||p.a.fs||p.a.fb)&&(a.fillColorAnim=!0);x=0;y=p.s.b;for(e=0;e<r;e+=1)h=d[e],h.anIndexes[t]=x,(y==1&&h.val!==""||y==2&&h.val!==""&&h.val!==" "||y==3&&(h.n||h.val==" "||e==r-1)||y==4&&(h.n||e==r-1))&&(p.s.rn===1&&u.push(x),x+=1);c.a[t].s.totalChars=x;q=-1;var A;if(p.s.rn===1)for(e=0;e<r;e+=1)h=d[e],q!=h.anIndexes[t]&&(q=h.anIndexes[t],A=u.splice(Math.floor(Math.random()*u.length),1)[0]),h.anIndexes[t]=A}a.yOffset=a.finalLineHeight||a.finalSize*1.2;a.ls=a.ls||0;a.ascent=o.ascent*a.finalSize/100};Z.prototype.updateDocumentData=function(a,b){b=b===void 0?this.keysIndex:b;var c=this.copyData({},this.data.d.k[b].s);c=this.copyData(c,a);this.data.d.k[b].s=c;this.recalculate(b);this.setCurrentData(c);this.elem.addDynamicProperty(this)};Z.prototype.recalculate=function(a){a=this.data.d.k[a].s;a.__complete=!1;this.keysIndex=0;this._isFirstFrame=!0;this.getValue(a)};Z.prototype.canResizeFont=function(a){this.canResize=a,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};Z.prototype.setMinimumFontSize=function(a){this.minimumFontSize=Math.floor(a)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var Wc=function(){var a=Math.max,b=Math.min,c=Math.floor;function d(a,b){this._currentTextLength=-1,this.k=!1,this.data=b,this.elem=a,this.comp=a.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(a),this.s=Q.getProp(a,b.s||{k:0},0,0,this),"e"in b?this.e=Q.getProp(a,b.e,0,0,this):this.e={v:100},this.o=Q.getProp(a,b.o||{k:0},0,0,this),this.xe=Q.getProp(a,b.xe||{k:0},0,0,this),this.ne=Q.getProp(a,b.ne||{k:0},0,0,this),this.sm=Q.getProp(a,b.sm||{k:100},0,0,this),this.a=Q.getProp(a,b.a,0,.01,this),this.dynamicProperties.length||this.getValue()}d.prototype={getMult:function(d){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var e=0,f=0,g=1,h=1;this.ne.v>0?e=this.ne.v/100:f=-this.ne.v/100;this.xe.v>0?g=1-this.xe.v/100:h=1+this.xe.v/100;e=za.getBezierEasing(e,f,g,h).get;f=0;g=this.finalS;h=this.finalE;var i=this.data.sh;if(i===2)h===g?f=d>=h?1:0:f=a(0,b(.5/(h-g)+(d-g)/(h-g),1)),f=e(f);else if(i===3)h===g?f=d>=h?0:1:f=1-a(0,b(.5/(h-g)+(d-g)/(h-g),1)),f=e(f);else if(i===4)h===g?f=0:(f=a(0,b(.5/(h-g)+(d-g)/(h-g),1)),f<.5?f*=2:f=1-2*(f-.5)),f=e(f);else if(i===5){if(h===g)f=0;else{var j=h-g;d=b(a(0,d+.5-g),h-g);var k=-j/2+d;j=j/2;f=Math.sqrt(1-k*k/(j*j))}f=e(f)}else i===6?(h===g?f=0:(d=b(a(0,d+.5-g),h-g),f=(1+Math.cos(Math.PI+Math.PI*2*d/(h-g)))/2),f=e(f)):(d>=c(g)&&(d-g<0?f=a(0,b(b(h,1)-(g-d),1)):f=a(0,b(h-d,1))),f=e(f));if(this.sm.v!==100){k=this.sm.v*.01;k===0&&(k=1e-8);j=.5-k*.5;f<j?f=0:(f=(f-j)/k,f>1&&(f=1))}return f*this.a.v},getValue:function(a){this.iterateDynamicProperties();this._mdf=a||this._mdf;this._currentTextLength=this.elem.textProperty.currentData.l.length||0;a&&this.data.r===2&&(this.e.v=this._currentTextLength);a=this.data.r===2?1:100/this.data.totalChars;var b=this.o.v/a,c=this.s.v/a+b;a=this.e.v/a+b;if(c>a){b=c;c=a;a=b}this.finalS=c;this.finalE=a}};l([R],d);function e(a,b,c){return new d(a,b,c)}return{getTextSelectorProp:e}}();function Xc(a,b,c){var d={propType:!1},e=Q.getProp,f=b.a;this.a={r:f.r?e(a,f.r,0,D,c):d,rx:f.rx?e(a,f.rx,0,D,c):d,ry:f.ry?e(a,f.ry,0,D,c):d,sk:f.sk?e(a,f.sk,0,D,c):d,sa:f.sa?e(a,f.sa,0,D,c):d,s:f.s?e(a,f.s,1,.01,c):d,a:f.a?e(a,f.a,1,0,c):d,o:f.o?e(a,f.o,0,.01,c):d,p:f.p?e(a,f.p,1,0,c):d,sw:f.sw?e(a,f.sw,0,0,c):d,sc:f.sc?e(a,f.sc,1,0,c):d,fc:f.fc?e(a,f.fc,1,0,c):d,fh:f.fh?e(a,f.fh,0,0,c):d,fs:f.fs?e(a,f.fs,0,.01,c):d,fb:f.fb?e(a,f.fb,0,.01,c):d,t:f.t?e(a,f.t,0,0,c):d};this.s=Wc.getTextSelectorProp(a,b.s,c);this.s.t=b.s.t}function Yc(a,b,c){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=a,this._renderType=b,this._elem=c,this._animatorsData=p(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(c)}Yc.prototype.searchProperties=function(){var a,b=this._textData.a.length,c,d=Q.getProp;for(a=0;a<b;a+=1)c=this._textData.a[a],this._animatorsData[a]=new Xc(this._elem,c,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:d(this._elem,this._textData.p.a,0,0,this),f:d(this._elem,this._textData.p.f,0,0,this),l:d(this._elem,this._textData.p.l,0,0,this),r:d(this._elem,this._textData.p.r,0,0,this),p:d(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1;this._moreOptions.alignment=d(this._elem,this._textData.m.a,1,0,this)};Yc.prototype.getMeasures=function(a,b){this.lettersChangedFlag=b;if(!this._mdf&&!this._isFirstFrame&&!b&&(!this._hasMaskedPath||!this._pathData.m._mdf))return;this._isFirstFrame=!1;b=this._moreOptions.alignment.v;var c=this._animatorsData,d=this._textData,e=this.mHelper,f=this._renderType,g=this.renderedLetters.length,h,i,j=a.l,k,l,m,n,o,p,q,r,s,t,u,v;if(this._hasMaskedPath){v=this._pathData.m;if(!this._pathData.n||this._pathData._mdf){var w=v.v;this._pathData.r.v&&(w=w.reverse());k={tLength:0,segments:[]};i=w._length-1;var x;u=0;for(h=0;h<i;h+=1)x=Fa.buildBezierData(w.v[h],w.v[h+1],[w.o[h][0]-w.v[h][0],w.o[h][1]-w.v[h][1]],[w.i[h+1][0]-w.v[h+1][0],w.i[h+1][1]-w.v[h+1][1]]),k.tLength+=x.segmentLength,k.segments.push(x),u+=x.segmentLength;h=i;v.v.c&&(x=Fa.buildBezierData(w.v[h],w.v[0],[w.o[h][0]-w.v[h][0],w.o[h][1]-w.v[h][1]],[w.i[0][0]-w.v[0][0],w.i[0][1]-w.v[0][1]]),k.tLength+=x.segmentLength,k.segments.push(x),u+=x.segmentLength);this._pathData.pi=k}k=this._pathData.pi;l=this._pathData.f.v;p=0;o=1;n=0;s=k.segments;if(l<0&&v.v.c){k.tLength<Math.abs(l)&&(l=-Math.abs(l)%k.tLength);p=s.length-1;r=s[p].points;o=r.length-1;while(l<0)l+=r[o].partialLength,o-=1,o<0&&(p-=1,r=s[p].points,o=r.length-1)}r=s[p].points;q=r[o-1];m=r[o];t=m.partialLength}i=j.length;w=0;x=0;k=a.finalSize*1.2*.714;var y=!0,z,A,B,C;C=c.length;var D,E=-1,F,G,aa=l,ba=p,ca=o,da=-1,ea,fa,H,ga,ha,la,ma="",na=this.defaultPropsArray;if(a.j===2||a.j===1){var I=0,J=0,K=a.j===2?-.5:-1,L=0,oa=!0;for(h=0;h<i;h+=1)if(j[h].n){I&&(I+=J);while(L<h)j[L].animatorJustifyOffset=I,L+=1;I=0;oa=!0}else{for(B=0;B<C;B+=1)z=c[B].a,z.t.propType&&(oa&&a.j===2&&(J+=z.t.v*K),A=c[B].s,D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars),D.length?I+=z.t.v*D[0]*K:I+=z.t.v*D*K);oa=!1}I&&(I+=J);while(L<h)j[L].animatorJustifyOffset=I,L+=1}for(h=0;h<i;h+=1){e.reset();oa=1;if(j[h].n)w=0,x+=a.yOffset,x+=y?1:0,l=aa,y=!1,this._hasMaskedPath&&(p=ba,o=ca,r=s[p].points,q=r[o-1],m=r[o],t=m.partialLength,n=0),ma="",la="",ga="",K="",na=this.defaultPropsArray;else{if(this._hasMaskedPath){if(da!==j[h].line){switch(a.j){case 1:l+=u-a.lineWidths[j[h].line];break;case 2:l+=(u-a.lineWidths[j[h].line])/2;break;default:break}da=j[h].line}E!==j[h].ind&&(j[E]&&(l+=j[E].extra),l+=j[h].an/2,E=j[h].ind);l+=b[0]*j[h].an*.005;J=0;for(B=0;B<C;B+=1)z=c[B].a,z.p.propType&&(A=c[B].s,D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars),D.length?J+=z.p.v[0]*D[0]:J+=z.p.v[0]*D),z.a.propType&&(A=c[B].s,D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars),D.length?J+=z.a.v[0]*D[0]:J+=z.a.v[0]*D);I=!0;this._pathData.a.v&&(l=j[0].an*.5+(u-this._pathData.f.v-j[0].an*.5-j[j.length-1].an*.5)*E/(i-1),l+=this._pathData.f.v);while(I)n+t>=l+J||!r?(L=(l+J-n)/m.partialLength,F=q.point[0]+(m.point[0]-q.point[0])*L,G=q.point[1]+(m.point[1]-q.point[1])*L,e.translate(-b[0]*j[h].an*.005,-(b[1]*k)*.01),I=!1):r&&(n+=m.partialLength,o+=1,o>=r.length&&(o=0,p+=1,!s[p]?v.v.c?(o=0,p=0,r=s[p].points):(n-=m.partialLength,r=null):r=s[p].points),r&&(q=m,m=r[o],t=m.partialLength));L=j[h].an/2-j[h].add;e.translate(-L,0,0)}else L=j[h].an/2-j[h].add,e.translate(-L,0,0),e.translate(-b[0]*j[h].an*.005,-b[1]*k*.01,0);for(B=0;B<C;B+=1)z=c[B].a,z.t.propType&&(A=c[B].s,D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars),(w!==0||a.j!==0)&&(this._hasMaskedPath?D.length?l+=z.t.v*D[0]:l+=z.t.v*D:D.length?w+=z.t.v*D[0]:w+=z.t.v*D));a.strokeWidthAnim&&(fa=a.sw||0);a.strokeColorAnim&&(a.sc?ea=[a.sc[0],a.sc[1],a.sc[2]]:ea=[0,0,0]);a.fillColorAnim&&a.fc&&(H=[a.fc[0],a.fc[1],a.fc[2]]);for(B=0;B<C;B+=1)z=c[B].a,z.a.propType&&(A=c[B].s,D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars),D.length?e.translate(-z.a.v[0]*D[0],-z.a.v[1]*D[1],z.a.v[2]*D[2]):e.translate(-z.a.v[0]*D,-z.a.v[1]*D,z.a.v[2]*D));for(B=0;B<C;B+=1)z=c[B].a,z.s.propType&&(A=c[B].s,D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars),D.length?e.scale(1+(z.s.v[0]-1)*D[0],1+(z.s.v[1]-1)*D[1],1):e.scale(1+(z.s.v[0]-1)*D,1+(z.s.v[1]-1)*D,1));for(B=0;B<C;B+=1){z=c[B].a;A=c[B].s;D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars);z.sk.propType&&(D.length?e.skewFromAxis(-z.sk.v*D[0],z.sa.v*D[1]):e.skewFromAxis(-z.sk.v*D,z.sa.v*D));z.r.propType&&(D.length?e.rotateZ(-z.r.v*D[2]):e.rotateZ(-z.r.v*D));z.ry.propType&&(D.length?e.rotateY(z.ry.v*D[1]):e.rotateY(z.ry.v*D));z.rx.propType&&(D.length?e.rotateX(z.rx.v*D[0]):e.rotateX(z.rx.v*D));z.o.propType&&(D.length?oa+=(z.o.v*D[0]-oa)*D[0]:oa+=(z.o.v*D-oa)*D);a.strokeWidthAnim&&z.sw.propType&&(D.length?fa+=z.sw.v*D[0]:fa+=z.sw.v*D);if(a.strokeColorAnim&&z.sc.propType)for(J=0;J<3;J+=1)D.length?ea[J]+=(z.sc.v[J]-ea[J])*D[0]:ea[J]+=(z.sc.v[J]-ea[J])*D;if(a.fillColorAnim&&a.fc){if(z.fc.propType)for(J=0;J<3;J+=1)D.length?H[J]+=(z.fc.v[J]-H[J])*D[0]:H[J]+=(z.fc.v[J]-H[J])*D;z.fh.propType&&(D.length?H=ka(H,z.fh.v*D[0]):H=ka(H,z.fh.v*D));z.fs.propType&&(D.length?H=ia(H,z.fs.v*D[0]):H=ia(H,z.fs.v*D));z.fb.propType&&(D.length?H=ja(H,z.fb.v*D[0]):H=ja(H,z.fb.v*D))}}for(B=0;B<C;B+=1)z=c[B].a,z.p.propType&&(A=c[B].s,D=A.getMult(j[h].anIndexes[B],d.a[B].s.totalChars),this._hasMaskedPath?D.length?e.translate(0,z.p.v[1]*D[0],-z.p.v[2]*D[1]):e.translate(0,z.p.v[1]*D,-z.p.v[2]*D):D.length?e.translate(z.p.v[0]*D[0],z.p.v[1]*D[1],-z.p.v[2]*D[2]):e.translate(z.p.v[0]*D,z.p.v[1]*D,-z.p.v[2]*D));a.strokeWidthAnim&&(ga=fa<0?0:fa);a.strokeColorAnim&&(ha="rgb("+Math.round(ea[0]*255)+","+Math.round(ea[1]*255)+","+Math.round(ea[2]*255)+")");a.fillColorAnim&&a.fc&&(la="rgb("+Math.round(H[0]*255)+","+Math.round(H[1]*255)+","+Math.round(H[2]*255)+")");if(this._hasMaskedPath){e.translate(0,-a.ls);e.translate(0,b[1]*k*.01+x,0);if(this._pathData.p.v){I=(m.point[1]-q.point[1])/(m.point[0]-q.point[0]);J=Math.atan(I)*180/Math.PI;m.point[0]<q.point[0]&&(J+=180);e.rotate(-J*Math.PI/180)}e.translate(F,G,0);l-=b[0]*j[h].an*.005;j[h+1]&&E!==j[h+1].ind&&(l+=j[h].an/2,l+=a.tr*.001*a.finalSize)}else{e.translate(w,x,0);a.ps&&e.translate(a.ps[0],a.ps[1]+a.ascent,0);switch(a.j){case 1:e.translate(j[h].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[j[h].line]),0,0);break;case 2:e.translate(j[h].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[j[h].line])/2,0,0);break;default:break}e.translate(0,-a.ls);e.translate(L,0,0);e.translate(b[0]*j[h].an*.005,b[1]*k*.01,0);w+=j[h].l+a.tr*.001*a.finalSize}f==="html"?ma=e.toCSS():f==="svg"?ma=e.to2dCSS():na=[e.props[0],e.props[1],e.props[2],e.props[3],e.props[4],e.props[5],e.props[6],e.props[7],e.props[8],e.props[9],e.props[10],e.props[11],e.props[12],e.props[13],e.props[14],e.props[15]];K=oa}g<=h?(A=new Vc(K,ga,ha,la,ma,na),this.renderedLetters.push(A),g+=1,this.lettersChangedFlag=!0):(A=this.renderedLetters[h],this.lettersChangedFlag=A.update(K,ga,ha,la,ma,na)||this.lettersChangedFlag)}};Yc.prototype.getValue=function(){if(this._elem.globalData.frameId===this._frameId)return;this._frameId=this._elem.globalData.frameId;this.iterateDynamicProperties()};Yc.prototype.mHelper=new T();Yc.prototype.defaultPropsArray=[];l([R],Yc);function Zc(){}Zc.prototype.initElement=function(a,b,c){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(a,b,c),this.textProperty=new Z(this,a.t,this.dynamicProperties),this.textAnimator=new Yc(a.t,this.renderType,this),this.initTransform(a,b,c),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)};Zc.prototype.prepareFrame=function(a){this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange)};Zc.prototype.createPathShape=function(a,b){var c,d=b.length,e,f="";for(c=0;c<d;c+=1)b[c].ty==="sh"&&(e=b[c].ks.k,f+=Tc(e,e.i.length,!0,a));return f};Zc.prototype.updateDocumentData=function(a,b){this.textProperty.updateDocumentData(a,b)};Zc.prototype.canResizeFont=function(a){this.textProperty.canResizeFont(a)};Zc.prototype.setMinimumFontSize=function(a){this.textProperty.setMinimumFontSize(a)};Zc.prototype.applyTextPropertiesToMatrix=function(a,b,c,d,e){a.ps&&b.translate(a.ps[0],a.ps[1]+a.ascent,0);b.translate(0,-a.ls,0);switch(a.j){case 1:b.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[c]),0,0);break;case 2:b.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[c])/2,0,0);break;default:break}b.translate(d,e,0)};Zc.prototype.buildColor=function(a){return"rgb("+Math.round(a[0]*255)+","+Math.round(a[1]*255)+","+Math.round(a[2]*255)+")"};Zc.prototype.emptyProp=new Vc();Zc.prototype.destroy=function(){};Zc.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var $c={shapes:[]};function ad(a,b,c){this.textSpans=[],this.renderType="svg",this.initElement(a,b,c)}l([pc,tc,Ac,Bc,qc,Cc,Zc],ad);ad.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=M("text"))};ad.prototype.buildTextContents=function(a){var b=0,c=a.length,d=[],e="";while(b<c)a[b]===String.fromCharCode(13)||a[b]===String.fromCharCode(3)?(d.push(e),e=""):e+=a[b],b+=1;d.push(e);return d};ad.prototype.buildShapeData=function(a,b){if(a.shapes&&a.shapes.length){var c=a.shapes[0];if(c.it){c=c.it[c.it.length-1];c.s&&(c.s.k[0]=b,c.s.k[1]=b)}}return a};ad.prototype.buildNewText=function(){this.addDynamicProperty(this);var a,b,c=this.textProperty.currentData;this.renderedLetters=p(c?c.l.length:0);c.fc?this.layerElement.setAttribute("fill",this.buildColor(c.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)");c.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(c.sc)),this.layerElement.setAttribute("stroke-width",c.sw));this.layerElement.setAttribute("font-size",c.finalSize);var d=this.globalData.fontManager.getFontByName(c.f);if(d.fClass)this.layerElement.setAttribute("class",d.fClass);else{this.layerElement.setAttribute("font-family",d.fFamily);var e=c.fWeight,f=c.fStyle;this.layerElement.setAttribute("font-style",f);this.layerElement.setAttribute("font-weight",e)}this.layerElement.setAttribute("aria-label",c.t);f=c.l||[];e=!!this.globalData.fontManager.chars;b=f.length;var g,h=this.mHelper,i="",j=this.data.singleShape,k=0,l=0,m=!0,n=c.tr*.001*c.finalSize;if(j&&!e&&!c.sz){var o=this.textContainer,q="start";switch(c.j){case 1:q="end";break;case 2:q="middle";break;default:q="start";break}o.setAttribute("text-anchor",q);o.setAttribute("letter-spacing",n);q=this.buildTextContents(c.finalText);b=q.length;l=c.ps?c.ps[1]+c.ascent:0;for(a=0;a<b;a+=1)g=this.textSpans[a].span||M("tspan"),g.textContent=q[a],g.setAttribute("x",0),g.setAttribute("y",l),g.style.display="inherit",o.appendChild(g),this.textSpans[a]||(this.textSpans[a]={span:null,glyph:null}),this.textSpans[a].span=g,l+=c.finalLineHeight;this.layerElement.appendChild(o)}else{q=this.textSpans.length;for(a=0;a<b;a+=1){this.textSpans[a]||(this.textSpans[a]={span:null,childSpan:null,glyph:null});if(!e||!j||a===0){g=q>a?this.textSpans[a].span:M(e?"g":"text");if(q<=a){g.setAttribute("stroke-linecap","butt");g.setAttribute("stroke-linejoin","round");g.setAttribute("stroke-miterlimit","4");this.textSpans[a].span=g;if(e){o=M("g");g.appendChild(o);this.textSpans[a].childSpan=o}this.textSpans[a].span=g;this.layerElement.appendChild(g)}g.style.display="inherit"}h.reset();j&&(f[a].n&&(k=-n,l+=c.yOffset,l+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(c,h,f[a].line,k,l),k+=f[a].l||0,k+=n);if(e){o=this.globalData.fontManager.getCharData(c.finalText[a],d.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily);var r;if(o.t===1)r=new ed(o.data,this.globalData,this);else{var s=$c;o.data&&o.data.shapes&&(s=this.buildShapeData(o.data,c.finalSize));r=new Y(s,this.globalData,this)}if(this.textSpans[a].glyph){s=this.textSpans[a].glyph;this.textSpans[a].childSpan.removeChild(s.layerElement);s.destroy()}this.textSpans[a].glyph=r;r._debug=!0;r.prepareFrame(0);r.renderFrame();this.textSpans[a].childSpan.appendChild(r.layerElement);o.t===1&&this.textSpans[a].childSpan.setAttribute("transform","scale("+c.finalSize/100+","+c.finalSize/100+")")}else j&&g.setAttribute("transform","translate("+h.props[12]+","+h.props[13]+")"),g.textContent=f[a].val,g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}j&&g&&g.setAttribute("d",i)}while(a<this.textSpans.length)this.textSpans[a].span.style.display="none",a+=1;this._sizeChanged=!0};ad.prototype.sourceRectAtTime=function(){this.prepareFrame(this.comp.renderedFrame-this.data.st);this.renderInnerContent();if(this._sizeChanged){this._sizeChanged=!1;var a=this.layerElement.getBBox();this.bbox={top:a.y,left:a.x,width:a.width,height:a.height}}return this.bbox};ad.prototype.getValue=function(){var a,b=this.textSpans.length,c;this.renderedFrame=this.comp.renderedFrame;for(a=0;a<b;a+=1)c=this.textSpans[a].glyph,c&&(c.prepareFrame(this.comp.renderedFrame-this.data.st),c._mdf&&(this._mdf=!0))};ad.prototype.renderInnerContent=function(){this.validateText();if(!this.data.singleShape||this._mdf){this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);if(this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){this._sizeChanged=!0;var a,b,c=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;b=d.length;var e,f,g;for(a=0;a<b;a+=1)d[a].n||(e=c[a],f=this.textSpans[a].span,g=this.textSpans[a].glyph,g&&g.renderFrame(),e._mdf.m&&f.setAttribute("transform",e.m),e._mdf.o&&f.setAttribute("opacity",e.o),e._mdf.sw&&f.setAttribute("stroke-width",e.sw),e._mdf.sc&&f.setAttribute("stroke",e.sc),e._mdf.fc&&f.setAttribute("fill",e.fc))}}};function bd(a,b,c){this.initElement(a,b,c)}l([Dc],bd);bd.prototype.createContent=function(){var a=M("rect");a.setAttribute("width",this.data.sw);a.setAttribute("height",this.data.sh);a.setAttribute("fill",this.data.sc);this.layerElement.appendChild(a)};function cd(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initFrame(),this.initTransform(a,b,c),this.initHierarchy()}cd.prototype.prepareFrame=function(a){this.prepareProperties(a,!0)};cd.prototype.renderFrame=function(){};cd.prototype.getBaseElement=function(){return null};cd.prototype.destroy=function(){};cd.prototype.sourceRectAtTime=function(){};cd.prototype.hide=function(){};l([pc,tc,Bc,qc],cd);function $(){}l([X],$);$.prototype.createNull=function(a){return new cd(a,this.globalData,this)};$.prototype.createShape=function(a){return new Y(a,this.globalData,this)};$.prototype.createText=function(a){return new ad(a,this.globalData,this)};$.prototype.createImage=function(a){return new Dc(a,this.globalData,this)};$.prototype.createSolid=function(a){return new bd(a,this.globalData,this)};$.prototype.configAnimation=function(a){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg");this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+a.w+" "+a.h);this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",a.w),this.svgElement.setAttribute("height",a.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility);this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width);this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height);this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className);this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id);this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable);this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio);this.animationItem.wrapper.appendChild(this.svgElement);var b=this.globalData.defs;this.setupGlobalData(a,b);this.globalData.progressiveLoad=this.renderConfig.progressiveLoad;this.data=a;var c=M("clipPath"),d=M("rect");d.setAttribute("width",a.w);d.setAttribute("height",a.h);d.setAttribute("x",0);d.setAttribute("y",0);var e=H();c.setAttribute("id",e);c.appendChild(d);this.layerElement.setAttribute("clip-path","url("+j()+"#"+e+")");b.appendChild(c);this.layers=a.layers;this.elements=p(a.layers.length)};$.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");this.layerElement=null;this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;a<b;a+=1)this.elements[a]&&this.elements[a].destroy&&this.elements[a].destroy();this.elements.length=0;this.destroyed=!0;this.animationItem=null};$.prototype.updateContainerSize=function(){};$.prototype.findIndexByInd=function(a){var b,c=this.layers.length;for(b=0;b<c;b+=1)if(this.layers[b].ind===a)return b;return-1};$.prototype.buildItem=function(a){var b=this.elements;if(b[a]||this.layers[a].ty===99)return;b[a]=!0;var c=this.createItem(this.layers[a]);b[a]=c;I()&&(this.layers[a].ty===0&&this.globalData.projectInterface.registerComposition(c),c.initExpressions());this.appendElementInPos(c,a);if(this.layers[a].tt){var d="tp"in this.layers[a]?this.findIndexByInd(this.layers[a].tp):a-1;if(d===-1)return;if(!this.elements[d]||this.elements[d]===!0)this.buildItem(d),this.addPendingElement(c);else{b=b[d];d=b.getMatte(this.layers[a].tt);c.setMatte(d)}}};$.prototype.checkPendingElements=function(){while(this.pendingElements.length){var a=this.pendingElements.pop();a.checkParenting();if(a.data.tt){var b=0,c=this.elements.length;while(b<c){if(this.elements[b]===a){var d="tp"in a.data?this.findIndexByInd(a.data.tp):b-1;d=this.elements[d];d=d.getMatte(this.layers[b].tt);a.setMatte(d);break}b+=1}}}};$.prototype.renderFrame=function(a){if(this.renderedFrame===a||this.destroyed)return;a===null?a=this.renderedFrame:this.renderedFrame=a;this.globalData.frameNum=a;this.globalData.frameId+=1;this.globalData.projectInterface.currentFrame=a;this.globalData._mdf=!1;var b,c=this.layers.length;this.completeLayers||this.checkLayers(a);for(b=c-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&this.elements[b].prepareFrame(a-this.layers[b].st);if(this.globalData._mdf)for(b=0;b<c;b+=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame()};$.prototype.appendElementInPos=function(a,b){a=a.getBaseElement();if(!a)return;var c=0,d;while(c<b)this.elements[c]&&this.elements[c]!==!0&&this.elements[c].getBaseElement()&&(d=this.elements[c].getBaseElement()),c+=1;d?this.layerElement.insertBefore(a,d):this.layerElement.appendChild(a)};$.prototype.hide=function(){this.layerElement.style.display="none"};$.prototype.show=function(){this.layerElement.style.display="block"};function dd(){}l([pc,tc,Bc,qc,Cc],dd);dd.prototype.initElement=function(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initTransform(a,b,c),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!b.progressiveLoad)&&this.buildAllItems(),this.hide()};dd.prototype.prepareFrame=function(a){this._mdf=!1;this.prepareRenderableFrame(a);this.prepareProperties(a,this.isInRange);if(!this.isInRange&&!this.data.xt)return;if(!this.tm._placeholder){var b=this.tm.v;b===this.data.op&&(b=this.data.op-1);this.renderedFrame=b}else this.renderedFrame=a/this.data.sr;b=this.elements.length;this.completeLayers||this.checkLayers(this.renderedFrame);for(a=b-1;a>=0;a-=1)(this.completeLayers||this.elements[a])&&(this.elements[a].prepareFrame(this.renderedFrame-this.layers[a].st),this.elements[a]._mdf&&(this._mdf=!0))};dd.prototype.renderInnerContent=function(){var a,b=this.layers.length;for(a=0;a<b;a+=1)(this.completeLayers||this.elements[a])&&this.elements[a].renderFrame()};dd.prototype.setElements=function(a){this.elements=a};dd.prototype.getElements=function(){return this.elements};dd.prototype.destroyElements=function(){var a,b=this.layers.length;for(a=0;a<b;a+=1)this.elements[a]&&this.elements[a].destroy()};dd.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function ed(a,b,c){this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?p(this.layers.length):[],this.initElement(a,b,c),this.tm=a.tm?Q.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0}}l([$,dd,Ac],ed);ed.prototype.createComp=function(a){return new ed(a,this.globalData,this)};function fd(a,b){this.animationItem=a;this.layers=null;this.renderedFrame=-1;this.svgElement=M("svg");a="";if(b&&b.title){var c=M("title"),d=H();c.setAttribute("id",d);c.textContent=b.title;this.svgElement.appendChild(c);a+=d}if(b&&b.description){c=M("desc");d=H();c.setAttribute("id",d);c.textContent=b.description;this.svgElement.appendChild(c);a+=" "+d}a&&this.svgElement.setAttribute("aria-labelledby",a);c=M("defs");this.svgElement.appendChild(c);d=M("g");this.svgElement.appendChild(d);this.layerElement=d;this.renderConfig={preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:b&&b.contentVisibility||"visible",progressiveLoad:b&&b.progressiveLoad||!1,hideOnTransparent:!(b&&b.hideOnTransparent===!1),viewBoxOnly:b&&b.viewBoxOnly||!1,viewBoxSize:b&&b.viewBoxSize||!1,className:b&&b.className||"",id:b&&b.id||"",focusable:b&&b.focusable,filterSize:{width:b&&b.filterSize&&b.filterSize.width||"100%",height:b&&b.filterSize&&b.filterSize.height||"100%",x:b&&b.filterSize&&b.filterSize.x||"0%",y:b&&b.filterSize&&b.filterSize.y||"0%"},width:b&&b.width,height:b&&b.height,runExpressions:!b||b.runExpressions===void 0||b.runExpressions};this.globalData={_mdf:!1,frameNum:-1,defs:c,renderConfig:this.renderConfig};this.elements=[];this.pendingElements=[];this.destroyed=!1;this.rendererType="svg"}l([$],fd);fd.prototype.createComp=function(a){return new ed(a,this.globalData,this)};va("svg",fd);pb.registerModifier("tm",qb);pb.registerModifier("pb",rb);pb.registerModifier("rp",tb);pb.registerModifier("rd",ub);pb.registerModifier("zz",Mb);pb.registerModifier("op",Zb);return N})}),null);
__d("WAWebMediaEditorUtilsReactKonvaCore",["react-konva"],(function(a,b,c,d,e,f){"use strict";e.exports=b("react-konva")}),null);
__d("WAWebBizClearCartAction",["WAWebBizSyncCartAction"],(function(a,b,c,d,e,f,g){function a(a){a.cartItemCollection.reset(),a.set("message",void 0),a.trigger("change:cartItemCollection"),c("WAWebBizSyncCartAction")(a)}g["default"]=a}),98);
__d("WAWebBizMatchCartItemsToProductsAction",["fbt","WATypeUtils","WAWebBizClearCartAction","WAWebBizProductCatalogBridge","WAWebBizSyncCartAction","WAWebCatalogCollection","WAWebConfirmPopup.react","WAWebModalManager","WAWebProductModel","WAWebProductSelectors","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a,b){return a.priceAmount1000===d("WAWebProductSelectors").getActivePrice(b)&&a.currency===b.currency&&a.name===b.name&&a.imageHash===b.imageHash&&a.maxAvailable===b.maxAvailable}function l(a,b){var c=d("WAWebProductSelectors").getActivePrice(q(b));return s(a.priceAmount1000,c)&&(!d("WATypeUtils").isString(a.currency)&&!d("WATypeUtils").isString(b.currency)||a.currency===b.currency)&&a.name===b.name&&a.imageHash===((c=b.media)==null?void 0:(a=c.image)==null?void 0:a.id)}function m(a,b){var c=k(a,b);c||a.set({priceAmount1000:d("WAWebProductSelectors").getActivePrice(b),currency:b.currency,name:b.name,imageHash:b.imageHash,maxAvailable:b.maxAvailable},{silent:!0});return c}function n(a,b){var c=b?l(a,b):!0;if(!c&&b){b=q(b);a.set({priceAmount1000:d("WAWebProductSelectors").getActivePrice(b),currency:b.currency,name:b.name,imageHash:b.imageHash,maxAvailable:b.maxAvailable},{silent:!0})}return c}function o(a,b){if(a&&a.status==="deleted"){b.productCollection.remove(a.id);return void 0}return a}function p(){d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__q_1muHhhF8F__JHASH__")}))}function q(a){var b;return{id:a.id,name:(b=a.name)!=null?b:"",imageCdnUrl:(b=a.media)==null?void 0:(b=b.image)==null?void 0:b.request_image_url,imageHash:(b=a.media)==null?void 0:(b=b.image)==null?void 0:b.id,currency:a.currency,priceAmount1000:r(a.price),salePriceAmount1000:r((b=a.sale_price)==null?void 0:b.price),salePriceStartDate:d("WAWebBizProductCatalogBridge").parseDateValue((b=a.sale_price)==null?void 0:b.start_date),salePriceEndDate:d("WAWebBizProductCatalogBridge").parseDateValue((b=a.sale_price)==null?void 0:b.end_date),maxAvailable:a.max_available}}function r(a){return typeof a==="string"?a.length>0?parseInt(a,10):null:a}function s(a,b){a=r(a);b=r(b);if(d("WATypeUtils").isNumber(a)&&d("WATypeUtils").isNumber(b))return a===b;else if(!d("WATypeUtils").isNumber(a)&&!d("WATypeUtils").isNumber(b))return!0;return!1}function t(a,b){return new(d("WAWebProductModel").Product)(babelHelpers["extends"]({},q(a),{catalogWid:d("WAWebWidFactory").createWid(b),productMsgMediaData:null,imageCount:1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1}))}function a(a,b){var e=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebWidFactory").createWid(a.id)),f=[],g=[],h=!0;e&&a.cartItemCollection.forEach(function(c){var d=e.productCollection.get(c.id),i=b&&b.products.find(function(a){return a.id===c.id});i=o(i,e);if(!b&&d){var j=m(c,d);h=h&&j;f.push({product:d,cartItem:c})}else if(i){j=n(c,i);h=h&&j;f.push({product:t(i,a.id),cartItem:c})}else h=!1,g.push(c.id)});e||c("WAWebBizClearCartAction")(a);h||(g.length&&a.cartItemCollection.remove(g),a.trigger("change:cartItemCollection"),p());c("WAWebBizSyncCartAction")(a);return f}function b(a){return a.reduce(function(a,b){return a+b.cartItem.quantity*d("WAWebProductSelectors").getSavings(b.product)},0)}g.parsePrice=r;g.isPriceMatch=s;g.createProductFromRefreshCartItem=t;g.matchCartItemsToProducts=a;g.getSavingsFromCartItemsAndProducts=b}),226);
__d("WAWebBizPullCartUpdateAction",["Promise","WAWebBizCartBridge","WAWebCartCollection","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h;function a(a,c){if(a.cartItemCollection.length===0)return(h||(h=b("Promise"))).resolve({products:[],price:{}});var e=a.cartItemCollection.map(function(a){return a.id});return d("WAWebBizCartBridge").refreshCart(d("WAWebWidFactory").createWid(a.id),e,d("WAWebCartCollection").CartCollection.imageWidth,d("WAWebCartCollection").CartCollection.imageHeight,c)}g["default"]=a}),98);
__d("WAWebSendOrderChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebBizGatingUtils","WAWebMsgKey","WAWebProtobufsE2E.pb","WAWebSendMsgChatAction","WAWebSendMsgResultAction","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Order message send to chat failure: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Order message send to chat failure: ",""]);i=function(){return a};return a}function a(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){b=(yield k(a,b,e,f,g));if(d("WAWebUserPrefsMeUser").isMeAccount(a.id))return d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[0].then(function(){})["catch"](function(a){d("WALogger").WARN(i(),a);throw a});try{e=(yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[1]);if(!e||e.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)throw c("err")("Order message SendMsgResult failure status")}catch(a){d("WALogger").WARN(h(),a);throw a}});return j.apply(this,arguments)}function k(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=d("WAWebUserPrefsMeUser").getMaybeMeUser(),i=b.price.total;h={type:"order",ack:d("WAWebAck").ACK.CLOCK,from:h,id:new(c("WAWebMsgKey"))({from:h,to:a.id,id:yield c("WAWebMsgKey").newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,t:d("WATimeUtils").unixTime(),to:a.id,orderId:b.id,token:b.token,orderTitle:a.name||a.formattedTitle,sellerJid:a.id.toString({legacy:!0}),status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.INQUIRY,messageVersion:d("WAWebBizGatingUtils").isBuyerOrderRevampEnabled()?2:1,thumbnail:f,itemCount:e,message:g,totalAmount1000:i&&i.length>0?parseInt(i,10):void 0,totalCurrencyCode:b.price.currency&&b.price.currency.length>0?b.price.currency:void 0};return h});return l.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizSubmitOrderAction",["WAWebBizOrderAction","WAWebBizSyncCartAction","WAWebCatalogCollection","WAWebMediaOpaqueData","WAWebSendOrderChatAction","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a){var b=a.cartItemCollection.at(0);if(b==null)return"";a=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebWidFactory").createWid(a.id));a=a==null?void 0:a.productCollection.get(b.id);a=a==null?void 0:(b=a.getProductImageCollectionHead())==null?void 0:b.mediaData;return a==null?"":a.preview instanceof c("WAWebMediaOpaqueData")?(b=a.preview.getBase64())!=null?b:"":""}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("WAWebBizOrderAction").createOrder(b.id,a.cartItemCollection.toArray()));yield c("WAWebSendOrderChatAction")(b,e,a.itemCount,h(a),a.message);void c("WAWebBizSyncCartAction")(a);return e.id});return i.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizUpdateCartMessageAction",["WAWebBizSyncCartAction"],(function(a,b,c,d,e,f,g){function a(a,b){a.set("message",b),c("WAWebBizSyncCartAction")(a)}g["default"]=a}),98);
__d("WAWebFormatForwardErrorChatAction",["fbt","WAWebL10N","WAWebStringsWithMultiplePluralParts"],(function(a,b,c,d,e,f,g,h){function a(a){var b=a.chat,e=a.undelivered,f=a.canForward;a=a.cannotForward;f=f.length-e.length;var g=a.length+e.length;if(f>0)return e.length?a.length?d("WAWebStringsWithMultiplePluralParts").getCannotForwardFileMissingAndCapabilityContactString(g,b.formattedTitle):h._("__JHASH__pTVWBHT9jgl__JHASH__",[h._plural(g),h._param("count",c("WAWebL10N").n(g))]):d("WAWebStringsWithMultiplePluralParts").getCannotForwardCapabilityContactString(g,b.formattedTitle);if(e.length)return a.length?!b.isUser?h._("__JHASH__YRj2Wz2OYk6__JHASH__"):h._("__JHASH__vBqz_StOxXW__JHASH__",[h._param("contact",b.formattedTitle)]):h._("__JHASH__f5YCKIGz_sX__JHASH__");return!b.isUser?h._("__JHASH__cFIoioNvs0a__JHASH__",[h._param("contact",b.formattedTitle)]):h._("__JHASH__cFIoioNvs0a__JHASH__",[h._param("contact",b.formattedTitle)])}g["default"]=a}),226);
__d("WAWebForwardErrorChatAction",["WACustomError"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.reasons=b;return c}return b}(d("WACustomError").customError("ForwardError"));g["default"]=a}),98);
__d("WAWebCommunityGeneralChatFailedParticipantsModal.react",["fbt","WAWebConfirmPopup.react","WAWebContactCollection","WAWebFbtCommon","WAWebModalManager","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){var b;a=a.reduce(function(a,b){var c=d("WAWebContactCollection").ContactCollection.get(b);c!=null&&c.shortName?a.push(c.shortName):c!=null&&c.name?a.push(c.name):a.push(d("WAWebWidFactory").createWid(b).user);return a},[]);a.length===1?b=h._("__JHASH__RHrqbslj_d___JHASH__",[h._param("participant_name_0",a[0])]):a.length===2?b=h._("__JHASH__2yWSpjItYBr__JHASH__",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1])]):a.length===3?b=h._("__JHASH__mTWdq-rcWPJ__JHASH__",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1]),h._param("participant_name_2",a[2])]):b=h._("__JHASH__aXi3Y5yhx68__JHASH__",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1]),h._param("participant_name_2",a[2]),h._param("leftover_participant_count",a.length-3)]);return b}function a(a){a=a.failedParticipantJids;a=k(a);return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a})}a.displayName=a.name+" [from "+f.id+"]";g.GeneralChatFailedParticipantsModal=a}),226);
__d("WAWebLinkSubgroupsAction",["fbt","WAFilteredCatch","WALogger","WAWebActionToast.react","WAWebBackendErrors","WAWebCommunityGeneralChatFailedParticipantsModal.react","WAWebGroupCommunityJob","WAWebModalManager","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Subgroup linking failed"]);j=function(){return a};return a}var k=i||c("react");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=d("WAWebGroupCommunityJob").sendLinkSubgroups({parentGroupId:a,subgroupIds:c});a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield e);if(a.failedGroups.length>0){var b=a.failedGroups.reduce(function(a,b){return a&&b.error===406},!0);return b?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__zfaSPLdpGgi__JHASH__",[h._plural(a.failedGroups.length)])):new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__I0z3b_E4AoO__JHASH__",[h._plural(a.failedGroups.length)]))}a.failedParticipantJids.length>0&&d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebCommunityGeneralChatFailedParticipantsModal.react").GeneralChatFailedParticipantsModal,{failedParticipantJids:a.failedParticipantJids}));return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__OcU6E4MZYpb__JHASH__",[h._plural(c.length)]))}catch(a){d("WALogger").WARN(j()).verbose().devConsole(a).sendLogs("subgroup-linking-failed");return new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__iAVC4vo0o5p__JHASH__"))}})();var f=new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__eMPNkQwjq_G__JHASH__",[h._plural(c.length)]));d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{initialAction:f,pendingAction:a}));try{yield e}catch(a){d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(){})(a)}});return l.apply(this,arguments)}g["default"]=a}),226);
__d("WAWebShowGenericErrorToastAction",["fbt","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__QLdqjTjQ0CL__JHASH__"),duration:6e3}))}g["default"]=a}),226);
__d("WAWebBizProductMessageSendQpl",["WAQplTypes","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(e,{annotations:{string:{EntryPoint:a}}});b!==void 0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(e,{"int":{ProductCount:b}});c!==void 0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(e,{"int":{ContactCount:c}})}function b(a){var b=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;a.then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(b,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(b,d("WAQplTypes").QuickLogActionType.FAIL)})}g.qplStartProductSendMessage=a;g.qplEndProductMessageSend=b}),98);
__d("WAWebCartDeleteIcon.react",["fbt","WAWebDeleteIcon","WAWebSvgButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={deleteIcon:{color:"xfect85",":hover_color":"x1fumy",$$css:!0}};function a(a){a=a.onClick;return j.jsx(c("WAWebSvgButton.react"),{"aria-label":h._("__JHASH__8fFKZkKIBXi__JHASH__"),Icon:d("WAWebDeleteIcon").DeleteIcon,title:h._("__JHASH__8fFKZkKIBXi__JHASH__"),xstyle:k.deleteIcon,onClick:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCartDetailDrawerFooter.react",["fbt","WAWebABProps","WAWebBizGatingUtils","WAWebButton.react","WAWebCurrencyUtils","WAWebDirectConnectionGatingUtils","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebVelocityTransitionGroup","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={footerPrice:{width:"xh8yej3",$$css:!0},footerBorder:{borderTop:"x1e0juf7",$$css:!0}},l=function(){return j.jsxs(j.Fragment,{children:[h._("__JHASH__G9tzjED6A63__JHASH__")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getJioMartPostcodeChangeLearnMoreLink(),children:h._("__JHASH__gfhYbdjTG7D__JHASH__")})]})},m=function(){return h._("__JHASH__afktUMFi_Aa__JHASH__")};function n(a){a=a.isDirectConnection;a=a&&d("WAWebDirectConnectionGatingUtils").supportsDirectConnection()&&d("WAWebABProps").getABPropConfigValue("share_phone_number_on_cart_send_to_direct_connection_biz_enabled");return a?j.jsx(l,{}):j.jsx(m,{})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.currency;a=a.savings;return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"baseline",justify:"all",xstyle:[d("WAWebUISpacing").uiMargin.bottom8,k.footerPrice],children:[j.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",color:"secondary",children:h._("__JHASH__2_wYWAVI65P__JHASH__")}),j.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",color:"teal",children:h._("__JHASH__7wDn1wZLOf0__JHASH__",[h._param("cart-savings",d("WAWebCurrencyUtils").formatAmount1000(b,a))])})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.currency,c=a.savings;a=a.total;return j.jsxs(j.Fragment,{children:[c>0?j.jsx(o,{currency:b,savings:c}):null,j.jsxs(d("WAWebFlex.react").FlexRow,{align:"baseline",justify:"all",xstyle:[d("WAWebUISpacing").uiMargin.bottom8,k.footerPrice],children:[j.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",weight:"medium",children:h._("__JHASH__vZfVdHxwv6O__JHASH__")}),j.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",children:h._("__JHASH__4_k8jPAfACN__JHASH__",[h._param("cart-total-price",d("WAWebCurrencyUtils").formatAmount1000(b,a))])})]})]})}p.displayName=p.name+" [from "+f.id+"]";var q=function(){return j.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",weight:"medium",children:h._("__JHASH__iCtn8dLuK19__JHASH__")})};function r(a){var b=a.currency,c=a.savings;a=a.total;return a!=null&&b!=null?j.jsx(p,{currency:b,savings:c,total:a}):j.jsx(q,{})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.onSend,e=a.isDirectConnection,f=a.cart;a=a.savings;return j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[k.footerBorder,d("WAWebUISpacing").uiPadding.all16],children:[j.jsx(r,{total:f.total,currency:f.currency,savings:a}),j.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{theme:"plain",color:"secondary",xstyle:d("WAWebUISpacing").uiMargin.bottom15,children:j.jsx(n,{isDirectConnection:e})}),j.jsx(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"btn",children:j.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:b,children:d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._("__JHASH__UG9r9dK0_nM__JHASH__"):h._("__JHASH__SrTQXYXTKa1__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CartDrawerContentFooter=a}),226);
__d("WAWebCartProductQuantity.react",["WAWebBizCartConstants","WAWebStopEvent","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={selectComponent:{fontFamily:"xjb2p0i",$$css:!0}};function l(){var a=[];for(var b=1;b<=d("WAWebBizCartConstants").CART_ITEM_MAX_QUANTITY;b++)a.push(j.jsx("option",{value:b,children:b},b));return a}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.onChange,e=a.quantity;a=a.testid;function f(a){a=a.target;a instanceof HTMLSelectElement&&b(parseInt(a.value,10))}return j.jsxs("div",{className:"x1n2onr6 x1iyjqo2 xs83m0k x18xmwgd x1pju0fl","data-testid":void 0,children:[j.jsx("span",{className:"x10l6tqk x1atx4j1 x1923su1 x11uqc5h x1lliihq xmix8c7 x1c3i2sq xo5v014 x40yjcy x47corl xiy17q3",children:"\u25be"}),j.jsx("select",{className:(i||(i=c("stylex")))(k.selectComponent,d("WAWebUISpacing").uiPadding.horiz10),onClick:d("WAWebStopEvent").stopEvent,value:e,onChange:f,children:j.jsx(l,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartProductListItem.react",["WAWebBizDeleteProductFromCartAction","WAWebBizGatingUtils","WAWebBizUpdateProductQuantityCartAction","WAWebCartDeleteIcon.react","WAWebCartLogEvents","WAWebCartProductQuantity.react","WAWebCartQuantityControls.react","WAWebCellFrame.react","WAWebDrawerContext","WAWebEmojiText.react","WAWebFlexItem.react","WAWebProductCatalogContext","WAWebProductCatalogProductPriceInfoText.react","WAWebProductCatalogProductThumb.react","WAWebStopEvent","WAWebUISpacing","react","stylex","useHoverState"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useContext,m={deleteIconHidden:{visibility:"xlshs6z",$$css:!0},deleteIconVisible:{visibility:"xnpuxes",$$css:!0}};function n(a){var b=a.cartId,e=a.cartProduct,f=a.isHovered;a=a.quantity;var g=l(d("WAWebDrawerContext").DrawerContext),h=d("WAWebProductCatalogContext").getProductCatalogContext(g);function j(a,b){c("WAWebBizUpdateProductQuantityCartAction")(e,a),d("WAWebCartLogEvents").logEditProduct(e,b,a)}function n(a,f){var g=c("WAWebBizDeleteProductFromCartAction")(b,e.id.toString());c("WAWebBizDeleteProductFromCartAction")(b,e.id.toString());d("WAWebCartLogEvents").logDeleteProduct(e,f);g===0&&d("WAWebCartLogEvents").logCartAbandon(e.catalogWid.toString(),f);d("WAWebStopEvent").stopEvent(a)}f=(i||(i=c("stylex")))(f?[m.deleteIconVisible,d("WAWebUISpacing").uiPadding.top5]:m.deleteIconHidden);a=k.jsxs(k.Fragment,{children:[k.jsx(c("WAWebCartProductQuantity.react"),{testid:void 0,quantity:a,onChange:function(a){return j(a,h)}}),k.jsx("div",{className:f,children:k.jsx(c("WAWebCartDeleteIcon.react"),{onClick:function(a){return n(a,h)}})})]});f=k.jsx(c("WAWebCartQuantityControls.react"),{product:e,context:g});return k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.end5,children:d("WAWebBizGatingUtils").isQuantityControlsFeatureEnabled()?f:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b,e=a.cartId,f=a.product,g=a.quantity;a=a.onClick;var h=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.name,ellipsify:!0,titlify:!0});b=(b=f.getPreviewImage())==null?void 0:b.mediaData;b=b?k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{theme:"cart-list",mediaData:b}):null;var i=c("useHoverState")(),j=i.isHovered,l=i.onMouseEnter;i=i.onMouseLeave;var m=k.jsx(c("WAWebProductCatalogProductPriceInfoText.react"),{className:"x6s0dn4 x78zum5",showTotalPrice:!0,product:f});j=k.jsx(n,{isHovered:j,cartId:e,cartProduct:f,quantity:g});return k.jsx(c("WAWebCellFrame.react"),{onMouseEnter:l,onMouseLeave:i,image:b,customImage:!0,primary:h,secondary:j,theme:"cart-product",onClick:a,detail:m},f.id.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartProductList.react",["WAWebCartProductListItem.react","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebProductCatalogCatalogConstants","lodash","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.cartProductItems,e=a.onProductDetail,f=a.sellerJid;return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b.map(function(a){return{itemKey:a.cartItem.id,contentKey:c("lodash").uniqueId("cartItem"),product:a.product,cartItem:a.cartItem}}),renderItem:function(a){return i.jsx(c("WAWebCartProductListItem.react"),{cartId:f,product:a.product,quantity:a.cartItem.quantity,onClick:function(){return e({productId:a.cartItem.id,businessOwnerJid:f})}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").CART_PRODUCT_LIST_ITEM_HEIGHT})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebShoppingCartEmptyIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="shopping-cart-empty";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=90;m=90;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsxs("g",{fillRule:"nonzero",fill:"currentColor",children:[j.jsx("path",{d:"M36.6666667 55C34.8333333 55 33.35 56.5 33.35 58.3333333 33.35 60.1666667 34.8333333 61.6666667 36.6666667 61.6666667 38.5 61.6666667 40 60.1666667 40 58.3333333 40 56.5 38.5 55 36.6666667 55zM26.6666667 30C26.6666667 30.9166667 27.4166667 31.6666667 28.3333333 31.6666667L30 31.6666667 36 44.3166667 33.75 48.3833333C32.5333333 50.6166667 34.1333333 53.3333333 36.6666667 53.3333333L55 53.3333333C55.9166667 53.3333333 56.6666667 52.5833333 56.6666667 51.6666667 56.6666667 50.75 55.9166667 50 55 50L36.6666667 50 38.5 46.6666667 50.9166667 46.6666667C52.1666667 46.6666667 53.2666667 45.9833333 53.8333333 44.95L59.8 34.1333333C60.4166667 33.0333333 59.6166667 31.6666667 58.35 31.6666667L33.6833333 31.6666667 32.5666667 29.2833333C32.3 28.7 31.7 28.3333333 31.0666667 28.3333333L28.3333333 28.3333333C27.4166667 28.3333333 26.6666667 29.0833333 26.6666667 30zM53.3333333 55C51.5 55 50.0166667 56.5 50.0166667 58.3333333 50.0166667 60.1666667 51.5 61.6666667 53.3333333 61.6666667 55.1666667 61.6666667 56.6666667 60.1666667 56.6666667 58.3333333 56.6666667 56.5 55.1666667 55 53.3333333 55z"}),j.jsx("path",{d:"M44.957,2 C21.221,2 2,21.264 2,45 C2,68.736 21.221,88 44.957,88 C68.736,88 88,68.736 88,45 C88,21.264 68.736,2 44.957,2 Z M45,90 C20.1375,90 0,69.8625 0,45 C0,20.1375 20.1375,0 45,0 C69.8625,0 90,20.1375 90,45 C90,69.8625 69.8625,90 45,90 Z"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShoppingCartEmptyIcon=a}),98);
__d("WAWebCartDetailDrawer.react",["fbt","$InternalEnum","Promise","WALogger","WAPromiseQueue","WAQplTypes","WATimeUtils","WAWebBizClearCartAction","WAWebBizGatingUtils","WAWebBizMatchCartItemsToProductsAction","WAWebBizPullCartUpdateAction","WAWebBizSubmitOrderAction","WAWebBizUpdateCartMessageAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCartCollection","WAWebCartDetailDrawerFooter.react","WAWebCartLogEvents","WAWebCartProductList.react","WAWebChatThreadLogging","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebFbtCommon","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFlex.react","WAWebModalManager","WAWebOrderLogEvents","WAWebProductCatalogContext","WAWebShoppingCartEmptyIcon","WAWebShowGenericErrorToastAction","WAWebText_DONOTUSE.react","WAWebThemeContext","WAWebUISpacing","WAWebUtilsLogQplEvents","WAWebWDSButton","WAWebWDSText.react","asyncToGeneratorRuntime","react","stylex","useWAWebLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to create catalog order"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to open the cart"]);n=function(){return a};return a}a=l||d("react");var o=j||(j=c("react"));e=a.forwardRef;var p=a.useContext,q=a.useEffect,r=a.useMemo,s=a.useRef,t=a.useState,u={emptyCardText:{textAlign:"x2b8uid",$$css:!0},contentBackground:{backgroundColor:"x150wa6m",$$css:!0},footer:{position:"x1n2onr6",zIndex:"xhtitgo",boxSizing:"x9f619",backgroundColor:"x150wa6m",$$css:!0},footerDark:{backgroundColor:"x1m8r95a",$$css:!0}};function v(a){a=a.cart;a=a.itemCount;return a==null||a===0?null:o.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:h._("__JHASH__WkdDeznIhww__JHASH__",[h._plural(a,"cart-number-of-items")])})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.cart,e=a.onSend,f=a.cartFlatListControllerRef,g=a.onProductDetail,h=a.sellerJid,i=a.cartProductItems,j=a.isDarkTheme,l=a.isDirectConnection;a=a.onProductCatalog;var m=d("WAWebBizMatchCartItemsToProductsAction").getSavingsFromCartItemsAndProducts(i);return o.jsxs(o.Fragment,{children:[o.jsx(y,{cart:b,onProductCatalog:a}),o.jsx(c("WAWebCartProductList.react"),{flatListController:f.current,onProductDetail:g,cart:b,sellerJid:h,cartProductItems:i}),o.jsx("div",{className:(k||(k=c("stylex")))(u.footer,j&&u.footerDark),children:o.jsx(d("WAWebCartDetailDrawerFooter.react").CartDrawerContentFooter,{savings:m,cart:b,onSend:e,isDirectConnection:l})})]})}w.displayName=w.name+" [from "+f.id+"]";function x(a){a=a.onProductCatalog;return o.jsx(d("WAWebWDSButton").WDSButtonSecondary,{testid:void 0,onClick:a,children:h._("__JHASH__vn5A07mhsrS__JHASH__")})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.cart;a=a.onProductCatalog;return o.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",xstyle:[d("WAWebUISpacing").uiPadding.all16,u.contentBackground],children:[o.jsx(v,{cart:b}),o.jsx(x,{onProductCatalog:a})]})}y.displayName=y.name+" [from "+f.id+"]";function z(a){var b=a.businessProfile;a=a.onProductCatalog;return o.jsxs("div",{className:"x78zum5 xdt5ytf x6s0dn4 x5yr21d x13crsa5 x13omvei x1rxj1xn x1m6arcz x150wa6m",children:[o.jsx(d("WAWebShoppingCartEmptyIcon").ShoppingCartEmptyIcon,{}),o.jsx(d("WAWebWDSText.react").WDSTextLarge,{xstyle:[d("WAWebUISpacing").uiMargin.top30,d("WAWebUISpacing").uiMargin.bottom15],children:h._("__JHASH__Xd4-0R6qGw8__JHASH__")}),o.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{xstyle:[u.emptyCardText,d("WAWebUISpacing").uiPadding.bottom30],theme:"plain",children:h._("__JHASH__sEouFfZOfyF__JHASH__")}),d("WAWebBusinessProfileUtils").hasCatalog(b)&&o.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:a,children:h._("__JHASH__BPknNIlBS71__JHASH__")})]})}z.displayName=z.name+" [from "+f.id+"]";var A=b("$InternalEnum")({LOADING:"loading",READY_EMPTY:"readyEmpty",READY_CONTENT:"readyContent"});function B(a){var b=a.children,d=a.drawerState;a=a.emptyContent;switch(d){case A.READY_EMPTY:return a;case A.READY_CONTENT:return b;case A.LOADING:return o.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})}}B.displayName=B.name+" [from "+f.id+"]";a=e(function(a,e){var f=a.onBack,g=a.sellerJid,j=a.chat,k=a.closeDrawerRightOnSend,l=a.onProductCatalog,u=a.onProductDetail;a=a.isPushed;var v=a===void 0?!0:a,x=p(d("WAWebDrawerContext").DrawerContext);a=d("WAWebThemeContext").useIsDarkTheme();var y=r(function(){return d("WAWebCartCollection").CartCollection.findCart(g)},[g]),C=s(null),D=c("useWAWebLazyRef")(function(){return new(d("WAPromiseQueue").PromiseQueue)()}),E=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()}),F=t(!0),G=F[0],H=F[1];F=t(void 0);var I=F[0],J=F[1];F=t([]);var K=F[0],L=F[1];F=t(y.message);var M=F[0],N=F[1],O=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield (i||(i=b("Promise"))).all([a?c("WAWebBizPullCartUpdateAction")(y,v):(i||(i=b("Promise"))).resolve(),d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(j.id)]));var e=a[0];a=a[1];e&&(C.current=e);e=d("WAWebBizMatchCartItemsToProductsAction").matchCartItemsToProducts(y,C.current);H(!1);J(a);L(e)});return function(b){return a.apply(this,arguments)}}();d("useWAWebListener").useListener(y,"change:cartItemCollection",function(){D.current.enqueue(function(){return O()})});q(function(){var a=!0;v&&d("WAWebUtilsLogQplEvents").qplAnnotateCartView(y.id.toString()!==g,y.itemCount);O(!0,v).then(function(b){a=!1,v&&d("WAWebUtilsLogQplEvents").qplEndCartView(d("WAQplTypes").QuickLogActionType.SUCCESS),d("WAWebCartLogEvents").logCartListImpression(y.id.toString(),d("WAWebProductCatalogContext").getProductCatalogContext(x))})["catch"](function(a){d("WALogger").ERROR(n()).verbose().devConsole(a).sendLogs("openCart: failed to open the cart"),c("WAWebShowGenericErrorToastAction")(),c("WAWebBizClearCartAction")(y)})["finally"](function(){a&&v&&d("WAWebUtilsLogQplEvents").qplEndCartView(d("WAQplTypes").QuickLogActionType.FAIL),H(!1)})},[]);var P=function(){d("WAWebDrawerManager").DrawerManager.existsDrawerRight(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()})};F=function(){H(!0),d("WAWebUtilsLogQplEvents").qplStartOrderCreate(K.length),c("WAWebBizSubmitOrderAction")(y,j).then(function(a){var b=Boolean(y.message);d("WAWebOrderLogEvents").logSendOrderMessage({orderId:a,catalogOwnerJid:y.id,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(x),isOrderMsgAttached:b,quantity:y.itemCount});d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"ordersSent",ts:d("WATimeUtils").unixTime(),chatId:j.id}]);f();c("WAWebBizClearCartAction")(y);y.message=void 0;k&&P();d("WAWebUtilsLogQplEvents").qplEndOrderCreate(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(a){d("WALogger").ERROR(m()).verbose().devConsole(a).sendLogs("submitOrder: order creation or order message send error"),c("WAWebShowGenericErrorToastAction")(),O(!0),d("WAWebUtilsLogQplEvents").qplEndOrderCreate(d("WAQplTypes").QuickLogActionType.FAIL)})["finally"](function(){H(!1)})};var Q=function(a){N(a),c("WAWebBizUpdateCartMessageAction")(y,a)},R=function(){d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__M8kY6PDUnWh__JHASH__"),onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._("__JHASH__rPBUmkqwFy5__JHASH__")}))},S=r(function(){if(G)return A.LOADING;return!y.itemCount?A.READY_EMPTY:A.READY_CONTENT},[G,y.itemCount]),T=o.jsx(z,{onProductCatalog:l,businessProfile:I}),U=d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._("__JHASH__Ujj5mDA5sGT__JHASH__"):h._("__JHASH__SpYF24yGb8G__JHASH__");return o.jsxs(c("WAWebDrawer.react"),{ref:e,onDrop:f,theme:"striped",children:[o.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:U,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:f}),o.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[E.current],children:o.jsx(B,{drawerState:S,emptyContent:T,children:o.jsx(w,{cart:y,chat:j,onSend:F,onChange:Q,onMaxPasteExceeded:R,cartMessage:M,cartFlatListControllerRef:E,onProductDetail:u,onProductCatalog:l,sellerJid:g,cartProductItems:K,isDarkTheme:a,isDirectConnection:Boolean(I==null?void 0:I.isBusinessDirectConnection())})})})]})});g.CartDetailDrawer=a}),226);
__d("WAWebBizCartFlow",["WAWebCartDetailDrawer.react","WAWebDrawerContext","WAWebDrawerManager","WAWebFlowComponent_DEPRECATED.react","WAWebProductCatalogContext","WAWebProductDetailsFlowLoadable","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUim","WAWebUtilsLogQplEvents","WAWebWamEnumCatalogEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i;a=i||d("react");var j=h||(h=c("react"));b=a.forwardRef;var k=a.useContext;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$CartFlow2=function(){var a=c.props,b=a.sellerJid;a=a.chat;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Cart"}}});c.push(j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{chat:a,catalogOwnerJid:b}))},c.$CartFlow1=function(a){var b=c.props.chat;d("WAWebUtilsLogQplEvents").qplStartProductView("Cart");c.push(j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:b,productInfo:a,onEnd:c.$CartFlow4}))},c.$CartFlow3=function(){c.end(d("WAWebUim").DismissReason.LIFECYCLE)},c.$CartFlow4=function(){c.pop()},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.componentDidMount=function(){var a=this.props,b=a.sellerJid;a=a.chat;var c=this.state.isPushed;this.push(j.jsx(l,{chat:a,sellerJid:b,onProductDetail:this.$CartFlow1,onProductCatalog:this.$CartFlow2,onBack:this.$CartFlow3,isPushed:c}));d("WAWebDrawerManager").DrawerManager.existsDrawerLeft(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()});d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerMid()})};return b}(c("WAWebFlowComponent_DEPRECATED.react"));var l=b(function(a,b){var c=k(d("WAWebDrawerContext").DrawerContext);c=d("WAWebProductCatalogContext").getProductCatalogContext(c);c=c.entryPoint;return j.jsx(d("WAWebCartDetailDrawer.react").CartDetailDrawer,babelHelpers["extends"]({ref:b,closeDrawerRightOnSend:c===d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE},a))});g["default"]=e}),98);
__d("WAWebLabelsUtil",["WAWebBizGatingUtils","WAWebChatThreadLogging","WAWebMsgModel","WAWebWamEnumLabelOperations","WAWebWamEnumLabelTargets","WAWebWamLabelEventReporter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a,b){d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.CLICK_POSITIVE,a,d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_COMBINED_DIALOG,b==null?void 0:b)}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.length;d("WAWebBizGatingUtils").isSMBEnhancedLoggingEnabled()?a.forEach(function(a){a=a instanceof d("WAWebMsgModel").Msg?a.id.toString():a.id.toJid();a=d("WAWebChatThreadLogging").getChatThreadIDHMAC(a);var c=function(a){return h(b,a)};void a.then(c)}):h(b)});return i.apply(this,arguments)}g.logLabelOperationEventsForModels=a}),98);
__d("WAWebBizManageLabelModal.react",["fbt","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebButton.react","WAWebCTWADataSharingModel","WAWebCommonCTWADataSharing","WAWebDataSharingUpsellModel","WAWebDrawerHeader.react","WAWebLabelCollection","WAWebLabelsMultiSelectLabelList.react","WAWebLabelsUtil","WAWebModal.react","WAWebMultiSelection","WAWebOrderDataSharingOptOutOrUpsell","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXLabelAction","WAWebStateUtils","WAWebWDSButton","lodash","react","useWAWebForceUpdate","useWAWebLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p={NONE_SELECTED:0,ALL_SELECTED:1,PARTIALLY_SELECTED:2},q=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};e=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=o(q),f=e[0],g=e[1];l(function(){return function(){c("WAWebDataSharingUpsellModel").enableUpsell()}},[]);var i=a.modelsToUpdate,j=a.onLabelUpdateComplete;e=c("useWAWebLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id})});var r=n(new Set()),s=e.current,t=r.current,u=c("useWAWebForceUpdate")(),v=m(function(){var a=function(){var a={};i.forEach(function(b){b=d("WAWebStateUtils").unproxy(b);b.labels&&b.labels.forEach(function(b){a[b]=a[b]?++a[b]:1})});return a};a=a();return c("lodash").mapValues(a,function(a){if(a===i.length)return p.ALL_SELECTED;return a>0?p.PARTIALLY_SELECTED:p.NONE_SELECTED})},[]);e=function(a){if(a==null)return;v[a]===p.PARTIALLY_SELECTED?t.add("{labelId}_changed"):t.has(a)?t["delete"](a):(v[a]==null&&d("WAWebBizGatingUtils").labelsEditingEnabled()&&(v[a]=p.ALL_SELECTED),t.add(a));u()};r=function(){void d("WAWebLabelsUtil").logLabelOperationEventsForModels(i);var a=s.list,b=s.selected,c=[],e=[];a.forEach(function(a,d){b[d]&&c.push(a.id),e.push({id:a.id,type:b[d]?"add":"remove"})});d("WAWebLabelCollection").LabelCollection.addOrRemoveLabels(e,i);c.length>0&&(d("WAWebSmbMarkAsXLabelAction").logLabelSignalForModels(i,c,f),f&&d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForChatsOrMessages(i,c));j()};r=k.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",disabled:t.size===0,onClick:r,children:h._("__JHASH__K-FdwULPt2J__JHASH__")},1);var w=k.jsx(c("WAWebButton.react"),{testid:void 0,type:"secondary",onClick:a.onCancel,children:h._("__JHASH__JomY4EcHzcJ__JHASH__")},0);w=k.jsxs(d("WAWebWDSButton").ButtonGroup,{direction:"horizontal",children:[w,r]});r=k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__CqaGYmJHqZB__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:a.onCancel});var x=c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingLabelOptOutOrUpsell(i)?k.jsx(c("WAWebOrderDataSharingOptOutOrUpsell"),{checkboxValue:f,onCheckboxToggle:function(){return g(!f)},theme:"labels-opt-out"}):null;return k.jsxs(d("WAWebModal.react").Modal,{ref:b,type:d("WAWebModal.react").ModalTheme.LabelList,actions:w,title:r,children:[k.jsx(c("WAWebLabelsMultiSelectLabelList.react"),{onNewLabelAdded:a.onNewLabelAdded,shouldScrollIntoViewAndSelect:a.shouldScrollIntoViewAndSelect,initialLabelState:v,selectedLabels:s,renderContext:"label-selection",onMultiSelect:e}),x]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebBizManageLabelFlow.react",["WAWebBizManageLabelModal.react","WAWebChatModel","WAWebWamEnumLabelOperations","WAWebWamEnumLabelTargets","WAWebWamLabelEventReporter","react","useWAWebLazyRef"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;function a(a){var b=a.modelsToUpdate,e=a.onClose,f=a.onLabelUpdateComplete,g=c("useWAWebLazyRef")(function(){return new Set()}),h=l();k(function(){var a=b.length;h.current=a===1?b[0]instanceof d("WAWebChatModel").Chat?d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG:d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_MESSAGE_DIALOG:d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_COMBINED_DIALOG;d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.VIEW,a,h.current)},[]);a=function(a){if(g.current.has(a)){g.current["delete"](a);return{shouldScrollIntoView:!0,shouldSelect:!0}}return{shouldScrollIntoView:!1,shouldSelect:!1}};var i=function(a){g.current.add(a)},m=function(){f==null?void 0:f(),e==null?void 0:e()},n=function(){h.current&&d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.CLICK_NEGATIVE,b.length,h.current),e==null?void 0:e()};return j.jsx(c("WAWebBizManageLabelModal.react"),{shouldScrollIntoViewAndSelect:a,onLabelUpdateComplete:m,onCancel:n,onNewLabelAdded:i,modelsToUpdate:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailTextComposer",["WAWebConstantsDeprecated","WAWebRichTextField.react","WAWebRound.react","WAWebSendIcon","WAWebUISpacing","WAWebVelocityTransitionGroup","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={textFieldContainer:{display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",zIndex:"x11uqc5h",position:"x1n2onr6",$$css:!0},btnSend:{color:"xfect85",opacity:"xg01cxk",position:"x10l6tqk",right:"xk6ci0l",bottom:"x1oddz9l",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.buttonTitle;a.chat;var e=a.disabled,f=a.onChange,g=a.onSubmit,h=a.placeholder,l=a.testid;l=a.textFieldTestId;l=a.value;return j.jsxs(j.Fragment,{children:[j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"media-caption",xstyle:[k.textFieldContainer,d("WAWebUISpacing").uiMargin.bottom40],children:j.jsx("div",{children:j.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:h,value:l,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:function(){e!==!0&&g()},onChange:function(a){return f(a.text)}})})}),j.jsx(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"btn",children:j.jsx("button",{disabled:e,"data-testid":void 0,className:(i||(i=c("stylex")))([k.btnSend,d("WAWebUISpacing").uiMargin.all0,d("WAWebUISpacing").uiPadding.all0]),tabIndex:"-1",onClick:function(){return g()},title:b,children:j.jsx(d("WAWebRound.react").Round,{disabled:e,children:j.jsx(d("WAWebSendIcon").SendIcon,{width:18,directional:!0})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderProductListItem.react",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebOrderItemGetters","WAWebProductCatalogProductThumb.react","WAWebText_DONOTUSE.react","WAWebUISpacing","isNonZeroNumber","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react");function a(a){var b=a.product;a=a.onClick;var e=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:b.name,ellipsify:!0,titlify:!0}),f=k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:d("WAWebOrderItemGetters").getMediaData(b),theme:"list"}),g=h._("__JHASH__8FjFxx9N23p__JHASH__",[h._param("item-quantity",b.quantity)]),i=null;b.quantity&&(i=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:g}));g=null;d("isNonZeroNumber").isNonZeroNumber(b.price)&&(g=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:d("WAWebCurrencyUtils").formatAmount1000(b.currency,b.price)}));var l=null;g!=null&&(l=k.jsx("span",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:"\u2022"}));g=k.jsxs("div",{children:[g,l,i]});return k.jsx(c("WAWebCellFrame.react"),{image:f,customImage:!0,primary:e,secondary:g,theme:"order-product",onClick:a},b.id.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderProductList.react",["WAWebDrawerContext","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderLogEvents","WAWebOrderProductListItem.react","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebUtilsLogQplEvents","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.order,e=a.onProductDetail,f=a.sellerJid,g=function(a){var c=b.orderItemCollection.toArray();d("WAWebOrderLogEvents").logOrderListImpression({catalogContext:a,orderId:b.id,productCount:c.length,catalogOwnerJid:f});return c.map(function(a){return{itemKey:a.id.toString(),product:a}})},h=function(b,c){b={productId:b.product.id,businessOwnerJid:f};d("WAWebUtilsLogQplEvents").qplStartProductView("Order");d("WAWebOrderLogEvents").logOrderListItemClick({catalogContext:c,orderId:a.order.id,catalogOwnerJid:f});e(b)};return i.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(b){var e=d("WAWebProductCatalogContext").getProductCatalogContext(b);return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:g(e),renderItem:function(a){return i.jsx(c("WAWebOrderProductListItem.react"),{product:a.product,onClick:function(){return h(a,e)}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartOrderDetailDrawer.react",["fbt","WAFilteredCatch","WALogger","WANullthrows","WAQplTypes","WAWebBackendErrors","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebClock","WAWebCmd","WAWebConfirmPopup.react","WAWebCurrencyUtils","WAWebDBUpdateMessageTable","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlatListController","WAWebModalManager","WAWebMsgCollection","WAWebMsgModel","WAWebOrderCollection","WAWebOrderDetailTextComposer","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderGetters","WAWebOrderProductList.react","WAWebProductCatalogFetchStateTopBar.react","WAWebProtobufsE2E.pb","WAWebSendTextMsgChatAction","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebWDSText.react","WAWebWamEnumOrderDetailsCreationAction","WAWebWidFactory","react","stylex","useWAWebLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Catalog Order Display failed"]);l=function(){return a};return a}b=k||d("react");var m=i||(i=c("react"));e=b.forwardRef;var n=b.useEffect,o=b.useState,p={defaultBg:{backgroundColor:"x150wa6m",$$css:!0}};function q(a){var b=a.chat,e=a.onChange,f=a.onSubmit;a=a.value;return m.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.vert0,d("WAWebUISpacing").uiPadding.horiz18),children:m.jsx(c("WAWebOrderDetailTextComposer"),{chat:b,onChange:e,onSubmit:f,value:a,placeholder:h._("__JHASH__eS-WrAm3LJQ__JHASH__")})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.onCreateOrderClick,e=a.onDeclineOrderClick;a.order;a=a.sellerJid;a=d("WAWebWidFactory").createUserWid(a).equals(d("WAWebUserPrefsMeUser").getMaybeMeUser());return!a?null:m.jsxs(m.Fragment,{children:[m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:b,children:h._("__JHASH__ZLzjXjxkYp-__JHASH__")})}),m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:e,children:h._("__JHASH__quFz4fwBsa8__JHASH__")})})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.cancellationMessage,e=a.chat,f=a.fetchState,g=a.flatListController,i=a.isLoading,k=a.onOrderCancel,l=a.onOrderCreate,n=a.onProductDetail,o=a.order,s=a.ownerHasReviewed,t=a.sellerJid,u=a.sendCancelMessage;a=a.setCancellationMessage;if(i||o==null)return m.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f});i="";o.products.length>0?i=h._("__JHASH__RkoUYcwRLqG__JHASH__",[h._plural(d("WAWebOrderGetters").getTotalItemCount(o)||0,"count")]):i=h._("__JHASH__i0hP8LnX2gq__JHASH__");i=m.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:i});var v=null,w=o.products.reduce(function(a,b){return b.price==null?a:(a||0)+b.price*b.quantity},null),x=o.products.reduce(function(a,b){return b.currency==null?a:b.currency},null);w!=null&&x!=null?v=h._("__JHASH__zF06U2K9U_P__JHASH__",[h._param("subtotal",d("WAWebCurrencyUtils").formatAmount1000(x,w))]):v=h._("__JHASH__ZazVSvtj7rB__JHASH__");x=m.jsx(d("WAWebWDSText.react").WDSTextSmall,{as:"div",children:v});w=null;if(o.createdAt!=null){v=d("WAWebClock").Clock.timeStr(o.createdAt);w=m.jsx(d("WAWebWDSText.react").WDSTextSmall,{children:""+v})}return m.jsxs(m.Fragment,{children:[m.jsxs(c("WAWebDrawerSection.react"),{children:[m.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f}),m.jsxs("div",{className:(j||(j=c("stylex")))(p.defaultBg,d("WAWebUISpacing").uiPadding.all18),children:[i,x]}),m.jsx(c("WAWebOrderProductList.react"),{flatListController:g,onProductDetail:n,order:o,sellerJid:t}),m.jsx("div",{className:j(p.defaultBg,d("WAWebUISpacing").uiPadding.all18),children:w}),s?m.jsx(q,{chat:e,value:b,onSubmit:u,onChange:a}):null]}),d("WAWebBizGatingUtils").orderDetailsFromCartEnabled()&&!s?m.jsx(r,{sellerJid:t,order:o,onCreateOrderClick:function(){return l(c("WANullthrows")(o))},onDeclineOrderClick:k}):null]})}s.displayName=s.name+" [from "+f.id+"]";function a(a,b){var e=a.userIsCartOwner,f=a.orderId,g=a.token,i=a.sellerJid,j=a.onProductDetail,k=a.onOrderCreate,p=a.ownerHasReviewed,q=a.chat,r=a.orderMessage,t=a.onOrderCancel;a=a.isPushed;var u=a===void 0?!0:a;a=o(!0);var v=a[0],w=a[1];a=o("PENDING");var x=a[0],y=a[1];a=o(null);var z=a[0],A=a[1];a=o("");var B=a[0];a=a[1];var C=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()}),D=function(){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._("__JHASH__usdBBFCwTOn__JHASH__")}))};n(function(){d("WAWebOrderCollection").OrderCollection.findOrder(f,i,g).then(function(a){w(!1),y("SUCCESS"),A(a),u&&(d("WAWebUtilsLogQplEvents").qplAnnotateOrderView((a==null?void 0:a.products.length)||0),d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.SUCCESS))})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){D(),w(!1),y("ERROR"),d("WAWebUtilsLogQplEvents").qplDropOrderView()}))["catch"](function(a){w(!1),y("ERROR"),d("WALogger").ERROR(l()).verbose().devConsole(a).sendLogs("OrderDetails: failed to display"),u&&d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.FAIL)})},[]);var E=function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},F=function(){E();if(r!=null){var a=d("WAWebUserPrefsMeUser").getMaybeMeUser();a=a?d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a):null;a=d("WAWebBusinessProfileUtils").hasCatalog(a);new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_DECLINE_CART,actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").FROM_CART),hasNote:Boolean(B),hasCatalog:a}).commit();a=h._("__JHASH__1F-JtckVywX__JHASH__").toString()+"\n"+B;d("WAWebSendTextMsgChatAction").sendTextMsgToChat(q,a,{quotedMsg:new(d("WAWebMsgModel").Msg)(r)});if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(r!=null){a={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.DECLINED};void d("WAWebDBUpdateMessageTable").updateMessageTable(r.id,a);var b=d("WAWebMsgCollection").MsgCollection.get(r.id);b&&b.set(a)}}d("WAWebCmd").Cmd.openChatFromUnread(q)},G=d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._("__JHASH__Y-D6JGvjzwX__JHASH__"):h._("__JHASH__BCcZcagIY8y__JHASH__"),H=d("WAWebBizGatingUtils").isSellerOrderRevampEnabled()?h._("__JHASH___i5qDWnNzym__JHASH__"):h._("__JHASH__yHYldlM0F3c__JHASH__");return m.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"striped",onDrop:E,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:e?G:H,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:E}),m.jsx(c("WAWebDrawerBody.react"),{children:m.jsx(s,{cancellationMessage:B,chat:q,fetchState:x,flatListController:C.current,isLoading:v,onOrderCancel:t,onOrderCreate:k,onProductDetail:j,ownerHasReviewed:p,order:z,sellerJid:i,sendCancelMessage:F,setCancellationMessage:a})})]})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("WAWebAddItemIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="add-item";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=20;m=20;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 20 20",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M10 5C9.45 5 9 5.45 9 6V9H6C5.45 9 5 9.45 5 10C5 10.55 5.45 11 6 11H9V14C9     14.55 9.45 15 10 15C10.55 15 11 14.55 11 14V11H14C14.55 11 15 10.55 15 10C15 9.45 14.55 9 14     9H11V6C11 5.45 10.55 5 10 5ZM10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52     20 10C20 4.48 15.52 0 10 0ZM10 18C5.59 18 2 14.41 2 10C2 5.59 5.59 2 10 2C14.41 2 18 5.59 18     10C18 14.41 14.41 18 10 18Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AddItemIcon=a}),98);
__d("WAWebOrderIcons",["WAWebAddItemIcon","WAWebListMsgIconIcon","WAWebProductCatalogProductThumb.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={customItemSVG:{color:"xx2jlie",$$css:!0},addItemSVG:{color:"xx2jlie",$$css:!0}};function k(){return i.jsx("div",{className:"x78zum5 x6s0dn4 x1useyqa xsdox4t x1lq5wgf xgqcy7u x30kzoy x9jhf4c x16kknjp xuh0odg",children:i.jsx(d("WAWebListMsgIconIcon").ListMsgIconIcon,{xstyle:[j.customItemSVG,d("WAWebUISpacing").uiMargin.allAuto]})})}k.displayName=k.name+" [from "+f.id+"]";function a(){return i.jsx("div",{className:"x78zum5 x6s0dn4 x1useyqa xsdox4t x1lq5wgf xgqcy7u x30kzoy x9jhf4c x16kknjp xuh0odg",children:i.jsx(d("WAWebAddItemIcon").AddItemIcon,{xstyle:[j.addItemSVG,d("WAWebUISpacing").uiMargin.allAuto]})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.mediaData;a=a.useCustomIcon;return a||b==null?i.jsx(k,{}):i.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:b,theme:"orderSquareThumb"})}b.displayName=b.name+" [from "+f.id+"]";g.AddItemIcon=a;g.OrderItemIcon=b}),98);
__d("WAWebOrderAddItem",["WAWebCellFrame.react","WAWebOrderIcons","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.onClick;a=a.title;return i.jsx(c("WAWebCellFrame.react"),{testid:void 0,image:i.jsx(d("WAWebOrderIcons").AddItemIcon,{}),primary:a,theme:"add-order-item",onClick:b})}a.displayName=a.name+" [from "+f.id+"]";g.AddOrderItem=a}),98);
__d("WAWebOrderDetailErrorUtils",["fbt","WATypeUtils","WAWebCurrencyUtils","WAWebOrderDetailMath","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){l(function(){for(var b in a){var c=a[b];c!=null&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{duration:1e4,id:b+c.toString(),msg:c,action:{actionText:h._("__JHASH__YVmzmGZwIv6__JHASH__"),dismiss:!0,theme:"success"}}))}},[a])}function m(){return h._("__JHASH__tqDDvTVPFPw__JHASH__")}m.displayName=m.name+" [from "+f.id+"]";function n(){return h._("__JHASH__66sCzqcyhX4__JHASH__")}n.displayName=n.name+" [from "+f.id+"]";var o=function(a){return h._("__JHASH__AaN_pZwLUWu__JHASH__",[h._param("input_label",a)])},p=function(a){return h._("__JHASH__ZpoQZjdbWJ3__JHASH__",[h._param("input_label",a)])};function b(a){var b=a.label,c=a.currency,e=a.fieldType,f=a.maxFlatValue,g=a.enablePercentValueCheck;a=a.value;if(!d("WAWebCurrencyUtils").validatePriceString(c,a))return m();c=d("WAWebCurrencyUtils").valueFromString(c,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(c<0)return n();if(e===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL){if(Boolean(g)&&c>100){return o((a=b)!=null?a:"")}}else if(d("WATypeUtils").isNumber(f)&&c>f){return p((e=b)!=null?e:"")}return""}g.useShowToastErrors=a;g.getOrderDetailInvalidNumberErrorMessage=m;g.getOrderDetailNegativeNumberErrorMessage=n;g.errorMessageBigPercentageValue=o;g.errorMessageBigFlatValue=p;g.additionalChargeErrorHandler=b}),226);
__d("WAWebOrderDetailAmountInput",["fbt","WAWebCurrencyUtils","WAWebOrderDetailErrorUtils","WAWebOrderDetailMath","WAWebRichTextField.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function n(a,b){if(a==null||!a.length||!d("WAWebCurrencyUtils").validatePriceString(b,a))return h._("__JHASH__ZweQ2CBBcMh__JHASH__");b=d("WAWebCurrencyUtils").valueFromString(b,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(b<0)return h._("__JHASH__u43SMPYf3Hq__JHASH__")}var o={container:{textAlign:"x1yc453h",width:"x1dmp6jm",overflowX:"x6ikm8r",overflowY:"x10wlt62",marginTop:"xs9mwh0",$$css:!0}};function a(a){var b=a.currency,e=a.onCancel,f=a.onSave;a=a.value;var g=m(null),i=g[0],k=g[1];g=m(a);var p=g[0],q=g[1];d("WAWebOrderDetailErrorUtils").useShowToastErrors({productPriceError:i});return l.jsx("div",{className:(j||(j=c("stylex")))([o.container,d("WAWebUISpacing").uiPadding.end2]),children:l.jsx(d("WAWebRichTextField.react").RichTextField,{managed:!0,constrainedWidth:!0,hideFloatingLabel:!0,focusOnMount:!0,editable:!0,lockable:!0,startActive:!0,placeholder:h._("__JHASH__-SoDyY-vVy6__JHASH__"),value:p,theme:"default",maxLength:12,customStyleThemes:["disabledLabel","noErrorInfo"],testid:void 0,validate:function(a){a=n(a,b);k(a);return!a},onChange:function(a){a=a.text;q(a);k(n(a,b))},onSave:function(){f(p)},onCancel:e,error:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSharedStyles",[],(function(a,b,c,d,e,f,g){a={clickableText:{color:"x1a06ls3",cursor:"x1ypdohk",fontWeight:"xo1l8bm",lineHeight:"x15bjb6t",letterSpacing:"x12oo3zp",":hover_textDecoration":"xt0b8zv",$$css:!0}};g["default"]=a}),98);
__d("WAWebOrderCatalogProductPrice",["fbt","$InternalEnum","WAWebCurrencyUtils","WAWebFlex.react","WAWebOrderDetailAmountInput","WAWebOrderDetailSharedStyles","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=b("$InternalEnum").Mirrored(["Readonly","EditableBlank","EditableFilled","Editing"]);function a(a){var b=a.currency;a.onEnter;var e=a.onPriceChange,f=a.onPriceStageChange,g=a.orderItem,i=a.price;a=a.priceStage;switch(a){case l.Editing:return k.jsx("div",{role:"textbox",onClick:function(a){return a.stopPropagation()},"data-testid":void 0,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx("span",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.end3),children:d("WAWebCurrencyUtils").formatAmount1000ToParts(b,0).symbol}),k.jsx(c("WAWebOrderDetailAmountInput"),{currency:b,value:i!=null?String(i/1e3):"",onSave:function(a){f(l.EditableFilled),e(d("WAWebCurrencyUtils").valueFromString(b,a))},onCancel:function(){f(i==null?l.EditableBlank:l.EditableFilled)}})]})});case l.EditableFilled:return k.jsx("div",{role:"button",className:(j||(j=c("stylex")))(c("WAWebOrderDetailSharedStyles").clickableText),onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,Number(i))});case l.EditableBlank:return k.jsx("span",{role:"button",className:(j||(j=c("stylex")))(c("WAWebOrderDetailSharedStyles").clickableText),onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:h._("__JHASH__HSD4ClGLE8C__JHASH__")});default:return k.jsx("div",{"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,g.price)})}}a.displayName=a.name+" [from "+f.id+"]";g.PriceStage=l;g.CatalogProductPrice=a}),226);
__d("WAWebOrderDetailItems",["fbt","WAWebBizGatingUtils","WAWebCartDeleteIcon.react","WAWebCellFrame.react","WAWebCommonQuantityControls.react","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModalManager","WAWebOrderAddItem","WAWebOrderCatalogProductPrice","WAWebOrderIcons","WAWebOrderItemGetters","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useState,o={orderItemsContainer:{marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xh3wvx0",marginStart:"x1mh8g0r",$$css:!0}};function p(a,b){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__Lt6RXPmqBXb__JHASH__",[h._param("order_item_name",b)]),okText:h._("__JHASH__Ui8DRBy34xc__JHASH__"),onOK:function(){a==null?void 0:a(),d("WAWebModalManager").ModalManager.close()},cancelText:h._("__JHASH__J0wgiJDfDW-__JHASH__"),onCancel:function(){d("WAWebModalManager").ModalManager.close()}}))}function a(a){var b=a.currency,e=a.details,f=a.items,g=a.onAddItem,i=a.onDeleteItem,k=a.onItemQuantityChange,q=a.onPriceChange,r=a.priceMap;a=n(null);var s=a[0],t=a[1];a=n({});var u=a[0],v=a[1],w=m(function(a){if(a.price!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.Readonly;else if((r==null?void 0:r[a.id])!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.EditableFilled;return d("WAWebOrderCatalogProductPrice").PriceStage.EditableBlank},[r]),x=m(function(a,b){v(function(c){return babelHelpers["extends"]({},c,(c={},c[b.id]=a,c))})},[]),y=Boolean(e),z=function(a,e){var f;return l.jsxs("div",{className:"x78zum5 x6s0dn4",children:[l.jsx(d("WAWebOrderCatalogProductPrice").CatalogProductPrice,{price:(f=r==null?void 0:r[a.id])!=null?f:null,priceStage:(f=u[a.id])!=null?f:w(a),currency:b,orderItem:a,onPriceChange:function(b){return q==null?void 0:q(b,a.id)},onPriceStageChange:function(b){x(b,a)},onEnter:function(){t(null)}}),e===s&&l.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.start5),children:l.jsx(c("WAWebCartDeleteIcon.react"),{onClick:function(b){b.stopPropagation(),p(function(){return i==null?void 0:i(e)},a.name)}})})]})};return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.orderItemsContainer,children:[!y&&(d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()||d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled())&&l.jsx(d("WAWebOrderAddItem").AddOrderItem,{title:h._("__JHASH__SSsOJuYz6YE__JHASH__"),onClick:function(){return g==null?void 0:g()}}),f.map(function(a,b){var e=h._("__JHASH__OTl03tJfRde__JHASH__",[h._param("item-quantity",a.quantity)]);return l.jsx(c("WAWebCellFrame.react"),babelHelpers["extends"]({testid:void 0,className:(j||(j=c("stylex")))(b>0&&d("WAWebUISpacing").uiPadding.top10),disabled:!0,image:l.jsx(d("WAWebOrderIcons").OrderItemIcon,{mediaData:a.thumbnailUrl?d("WAWebOrderItemGetters").getMediaData(a):null,useCustomIcon:a.isCustomItem}),primary:l.jsx("span",{className:"xzwifym xuxw1ft x6ikm8r x10wlt62 xlyipyv",title:a.name,children:a.name}),secondary:y?e:l.jsx(c("WAWebCommonQuantityControls.react"),{quantity:a.quantity,onAddOneClick:function(){return k==null?void 0:k(b,a.quantity+1)},onRemoveOneClick:function(){return k==null?void 0:k(b,a.quantity-1)}}),theme:"add-order-item",detail:z(a,b)},y?void 0:{onMouseEnter:function(){return t(b)},onMouseLeave:function(){return t(null)}}),b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSectionContainer.react",["WAWebFlex.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).Children,l={container:{rowGap:"xgpatz3",columnGap:"x40hh3e",$$css:!0}};function a(a){a=a.children;return j.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:l.container,align:"stretch",children:k.map(a,function(a,b){return j.jsxs(j.Fragment,{children:[b!==0?j.jsx("div",{className:"xqtp20y xqb5tul"}):null,a]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailSellerProfile.react",["fbt","WAWebBizGatingUtils","WAWebContactCollection","WAWebDetailImage.react","WAWebFlex.react","WAWebName.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{rowGap:"x1b8z93w",columnGap:"x1amjocr",$$css:!0},uppercase:{textTransform:"xtvhhri",$$css:!0}};function a(a){var b=a.orderId,e=a.orderStatus,f=a.sellerWid;a=a.testid;a=d("WAWebContactCollection").ContactCollection.get(f);f=a?k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebFlex.react").FlexRow,{children:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:f,size:48})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebName.react").Name,{className:"x1603h9y x1u7k74 xk50ysn x1wm35g",useDisplayName:!0,contact:a}),b!=null?k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"secondary",weight:"medium",className:(j||(j=c("stylex")))(l.uppercase,d("WAWebUISpacing").uiMargin.top4),children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__5Y7gpQOhqp8__JHASH__",[h._param("order-id",b)]):h._("__JHASH__ke1rTLyoyvQ__JHASH__",[h._param("order-id",b)])}):null]})]}):null;return k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[l.container,d("WAWebUISpacing").uiPadding.horiz16],testid:void 0,children:[f,e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLocalShippingIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="local-shipping";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=8;m=12;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 12 8",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2H9.75C9.905 2 10.055 2.075 10.15 2.2L11.3 3.735C11.43 3.91 11.5 4.12 11.5 4.335V6C11.5 6.275 11.275 6.5 11 6.5H10.5C10.5 7.33 9.83 8 9 8C8.17 8 7.5 7.33 7.5 6.5H4.5C4.5 7.33 3.83 8 3 8C2.17 8 1.5 7.33 1.5 6.5C0.95 6.5 0.5 6.05 0.5 5.5V1C0.5 0.45 0.95 0 1.5 0H7.5C8.05 0 8.5 0.45 8.5 1V2ZM2.5 6.5C2.5 6.775 2.725 7 3 7C3.275 7 3.5 6.775 3.5 6.5C3.5 6.225 3.275 6 3 6C2.725 6 2.5 6.225 2.5 6.5ZM9.75 2.75L10.73 4H8.5V2.75H9.75ZM8.5 6.5C8.5 6.775 8.725 7 9 7C9.275 7 9.5 6.775 9.5 6.5C9.5 6.225 9.275 6 9 6C8.725 6 8.5 6.225 8.5 6.5Z",fill:"#667781"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.LocalShippingIcon=a}),98);
__d("WAWebOrderDetailStatusPill.react",["fbt","WAWebActionCheckCircleIcon","WAWebAlertErrorIcon","WAWebLocalShippingIcon","WAWebOrderStatus","WAWebStatusClockIcon","WAWebUISpacing","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={container:{backgroundColor:"xairv4b",display:"x3nfvp2",alignItems:"x6s0dn4",fontSize:"x1pg5gke",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",$$css:!0},iconCipherText:{marginTop:"xdhfreh",$$css:!0}};function l(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:return h._("__JHASH__UZM-KRGodOD__JHASH__");case d("WAWebOrderStatus").OrderStatus.Processing:return h._("__JHASH__jE40eWWgJ-x__JHASH__");case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:return h._("__JHASH__z9D-NptOFH8__JHASH__");case d("WAWebOrderStatus").OrderStatus.Shipped:return h._("__JHASH__BqEnJ40U0-4__JHASH__");case d("WAWebOrderStatus").OrderStatus.Canceled:return h._("__JHASH__CC2HElcw8Fl__JHASH__");case d("WAWebOrderStatus").OrderStatus.Complete:return h._("__JHASH__XisoM1MapeK__JHASH__");case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return h._("__JHASH__L4HR3JudIk5__JHASH__");case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return h._("__JHASH__WKJdwDStCJN__JHASH__");case d("WAWebOrderStatus").OrderStatus.Delivered:return h._("__JHASH__yU5lbcnSwid__JHASH__")}}function m(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return;case d("WAWebOrderStatus").OrderStatus.Canceled:return"critical";case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return"success"}}function n(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return j.jsx(d("WAWebStatusClockIcon").StatusClockIcon,{width:12,displayInline:!0,xstyle:[d("WAWebUISpacing").uiMargin.end4,k.iconCipherText]});case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:return j.jsx(d("WAWebLocalShippingIcon").LocalShippingIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Canceled:return j.jsx(d("WAWebAlertErrorIcon").AlertErrorIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return j.jsx(d("WAWebActionCheckCircleIcon").ActionCheckCircleIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4})}}function a(a){a=a.orderStatus;a=a===void 0?d("WAWebOrderStatus").getDefaultOrderStatus():a;return j.jsxs(d("WAWebWDSText.react").WDSTextSmall,{color:m(a),xstyle:[k.container,d("WAWebUISpacing").uiPadding.top8,d("WAWebUISpacing").uiPadding.bottom7],children:[n(a),l(a)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderEphemeralExemptionPopup.react",["fbt","WAWebBizGatingUtils","WAWebCheckBox.react","WAWebConfirmPopup.react","WAWebFrontendContactGetters","WAWebModalManager","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWDSText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function a(a){var b=a.chat,e=a.onSubmit;a=d("WAWebFrontendContactGetters").getFormattedUser(b.contact);b=m(!1);var f=b[0],g=b[1];b=function(){g(!f)};var i=function(){f&&c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED,!0),d("WAWebModalManager").ModalManager.close(),e()},k=function(){d("WAWebModalManager").ModalManager.close()};return l.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:h._("__JHASH__MIsnms4txfd__JHASH__"),onOK:i,onCancel:k,children:[l.jsx(d("WAWebWDSText.react").WDSTextSectionTitle,{children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__RAgaSFHxAu2__JHASH__",[h._param("contact-name",a)]):h._("__JHASH__r0ZIh2f-hHW__JHASH__",[h._param("contact-name",a)])}),l.jsx("div",{children:l.jsxs("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.vert6),children:[l.jsx(d("WAWebCheckBox.react").CheckBox,{testid:void 0,id:"order-ephemeral-exemption-popup-skip-checkbox-id",checked:f,onChange:b}),l.jsx("label",{htmlFor:"order-ephemeral-exemption-popup-skip-checkbox-id",className:d("WAWebUISpacing").uiMargin.start8,children:h._("__JHASH__M21Bt0gDpmG__JHASH__")})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderTotalPrice",["fbt","WAWebBizEntryPoint","WAWebButton.react","WAWebOrdersExpansionUtils","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={buttonWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",$$css:!0},errorLabel:{textAlign:"x2b8uid",$$css:!0}};function m(a){var b=a.disabled,e=a.onClick,f=a.testid;f=a.title;return k.jsx("div",{className:(j||(j=c("stylex")))(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),children:k.jsx(c("WAWebButton.react"),{type:"primary",disabled:b,onClick:e,testid:void 0,children:f})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.entryPoint;b=b===void 0?null:b;a=a.onClick;a=a===void 0?null:a;return b===c("WAWebBizEntryPoint").FROM_CART&&a!=null&&d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()?k.jsx("div",{className:(j||(j=c("stylex")))(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),children:k.jsx(c("WAWebButton.react"),{type:"secondary",onClick:a,testid:void 0,children:h._("__JHASH__C07QMq_wDuh__JHASH__")})}):null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.confirmTitle,c=a.disabled,e=a.entryPoint;e=e===void 0?null:e;var f=a.error;f=f===void 0?null:f;var g=a.onConfirm,h=a.onDeclineOrder;h=h===void 0?null:h;var i=a.testid;i=a.title;var j=a.totalPrice,o=a.visible;a=a.xstyle;return o?k.jsxs(d("WAWebText_DONOTUSE.react").TextDiv,{xstyle:a,children:[f==null?k.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x117nqv4","data-testid":void 0,children:[i,k.jsx("p",{children:j})]}):k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"danger",size:"16",xstyle:l.errorLabel,children:f}),k.jsx(m,{title:b,onClick:g,disabled:c||Boolean(f),testid:void 0}),k.jsx(n,{entryPoint:e,onClick:h})]}):null}a.displayName=a.name+" [from "+f.id+"]";g.OrderApplyChangesButton=m;g.OrderDeclineButton=n;g.OrderTotalPrice=a}),226);
__d("WAWebOrderSummaryDrawer",["fbt","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebChatEphemerality","WAWebClickableLink.react","WAWebCommonCTWADataSharing","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebModalManager","WAWebOrderDataSharingOptOutOrUpsell","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailSharedStyles","WAWebOrderDetailStatusPill.react","WAWebOrderEphemeralExemptionPopup.react","WAWebOrderExpansionNotSupportedPopup.react","WAWebOrderStatus","WAWebOrderTotalPrice","WAWebOrdersExpansionUtils","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebUserPrefsStore","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState,o={orderFieldsContainer:{rowGap:"x1kb72lq",columnGap:"x18hwk67",$$css:!0},orderItemsContainer:{flexShrink:"xs83m0k",overflowY:"x1odjw0f",$$css:!0}},p=function(a,b,c,e){if(!a)return h._("__JHASH__nxIWxJIusFw__JHASH__").toString();a=d("WAWebBizGatingUtils").orderDetailsTotalOrderMinimumValue()*1e3;e=d("WAWebBizGatingUtils").orderDetailsTotalMaxValue(e)*1e3;if(b<a)return h._("__JHASH__-z9LCa2bdyI__JHASH__",[h._param("order_min_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,a))]).toString();return b>e?h._("__JHASH__jF_gxLc7sdO__JHASH__",[h._param("order_max_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,e))]).toString():null};function q(a){var b=a.additionalCharges,e=a.canChangeAdditionalCharges,f=a.canDisplayAdditionalCharges,g=a.currency,i=a.discount,k=a.onAdditionalCharges,m=a.shipping,n=a.subtotal;a=a.tax;var p=(b==null?void 0:b.discountText)&&b.discountType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._("__JHASH__thmmpKYyeIv__JHASH__",[h._param("discount_percent",b.discountText)]):null;b=(b==null?void 0:b.taxText)&&b.taxType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._("__JHASH__JXbDug8zZkS__JHASH__",[h._param("tax_percent",b.taxText)]):null;return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:[o.orderFieldsContainer,d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.bottom20],children:[l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._("__JHASH__NMvrVWkEOKi__JHASH__")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,n)})]}),Boolean(f)&&l.jsxs(l.Fragment,{children:[i!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._("__JHASH__JMELG2VgMhA__JHASH__")," ",p]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,-i)})]}),m!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._("__JHASH__qtF7i6rL0XZ__JHASH__")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,m)})]}),a!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._("__JHASH__GBYYSzc5gjv__JHASH__")," ",b]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,a)})]}),Boolean(e)&&l.jsx(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",children:l.jsx(c("WAWebClickableLink.react"),{onClick:function(){return k==null?void 0:k()},testid:void 0,className:(j||(j=c("stylex")))(c("WAWebOrderDetailSharedStyles").clickableText,d("WAWebUISpacing").uiMargin.bottom0),children:l.jsx("span",{children:h._("__JHASH__-kJ0FYV3_WB__JHASH__")})})})]})]})}q.displayName=q.name+" [from "+f.id+"]";var r=function(a,b,d,e){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-create",b))return l.jsx(c("WAWebOrderDataSharingOptOutOrUpsell"),{checkboxValue:d,onCheckboxToggle:e,theme:"order-create"})},s=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]},t=function(a){var b=a.chat,e=a.smbOptOut,f=a.amount,g=a.currency,h=a.onSubmit;a=!d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&d("WAWebOrdersExpansionUtils").isSellerCountrySameAsBuyer(b)||d("WAWebOrdersExpansionUtils").isContactCountrySupported(b);if(!a){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderExpansionNotSupportedPopup.react"),{chat:b}));return}a=function(){d("WAWebSmbMarkAsXOrderAction").markOrderAsCreatedAction(b,e),e&&d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:b,type:"order_created",paidData:{amount:String(f),currency:g,paid:!1},orderStatus:d("WAWebOrderStatus").OrderStatus.Processing}),h()};c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED)!==!0&&d("WAWebBizGatingUtils").inOrderMessagesEphemeralExceptionEnabled()&&d("WAWebChatEphemerality").isEphemeralSettingOn(b)?d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderEphemeralExemptionPopup.react"),{chat:b,onSubmit:a})):a()};function a(a){var b=a.additionalCharges,e=a.chat,f=a.currency,g=a.entryPoint;g=g===void 0?null:g;var i=a.flatAmounts,j=a.onAddItem,k=a.onAdditionalCharges,u=a.onBack,v=a.onDeclineOrder;v=v===void 0?null:v;var w=a.onDeleteItem,x=a.onItemQuantityChange,y=a.onPriceChange,z=a.onSubmit,A=a.orderItems,B=a.orderSubtotal,C=a.priceMap;a=n(s);var D=a[0],E=a[1];m(function(){var a=function(){var a=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];E(a)};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);a=A.every(function(a){var b;return Number.isInteger((b=a.price)!=null?b:C[a.id])});var F=A.length!==0;return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__Evhgg2EE5iQ__JHASH__"):h._("__JHASH__hsTTiXw3ZsE__JHASH__"),onBack:u,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsxs(c("WAWebDrawerSection.react"),{xstyle:[o.orderItemsContainer,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiMargin.bottom0],theme:"refresh-padding-title",children:[l.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[l.jsx(c("WAWebOrderDetailSellerProfile.react"),{sellerWid:d("WAWebUserPrefsMeUser").getMeUser(),orderStatus:l.jsx(c("WAWebOrderDetailStatusPill.react"),{})}),l.jsx(c("WAWebOrderDetailItems"),{currency:f,priceMap:C,items:A,onDeleteItem:w,onPriceChange:y,onAddItem:j,onItemQuantityChange:x}),l.jsx(q,{tax:i.tax,discount:i.discount,shipping:i.shipping,currency:f,subtotal:B,additionalCharges:b,canDisplayAdditionalCharges:F,canChangeAdditionalCharges:F,onAdditionalCharges:k})]}),r(e,A.length,D,function(){return E(!D)})]}),l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx(d("WAWebOrderTotalPrice").OrderTotalPrice,{xstyle:d("WAWebUISpacing").uiPadding.all16,visible:F,disabled:!a,testid:void 0,totalPrice:d("WAWebCurrencyUtils").formatAmount1000(f,i.total),title:h._("__JHASH__3MvYlG5X9Mo__JHASH__"),onConfirm:function(){return t({chat:e,smbOptOut:D,currency:f,amount:i.total/1e3,onSubmit:z})},confirmTitle:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__QtXAS1y5C_U__JHASH__"):h._("__JHASH__UXGBDYWps3R__JHASH__"),error:p(a,i.total,f,e),entryPoint:g,onDeclineOrder:v})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.getErrorLabel=p;g.OrderValues=q;g.getDataSharing=r;g.maybeShowDialogOnSubmit=t;g.OrderSummaryDrawer=a}),226);
__d("WAWebHooksUseCatalog",["WAWebCatalogCollection","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h;e=h||d("react");var i=e.useEffect,j=e.useState;function a(a){var e=j(function(){return d("WAWebCatalogCollection").CatalogCollection.get(a)}),f=e[0],g=e[1],h=c("useWAWebUnmountSignal")();i(function(){var c=d("WAWebCatalogCollection").CatalogCollection.get(a);c!==f&&(c!=null?g(c):b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("WAWebCatalogCollection").CatalogCollection.find(a));if(h.aborted)return;g(b)})())},[a,f,h]);return f}g["default"]=a}),98);
__d("WAWebUseOrderDetailItems",["Promise","WAWebCatalogCollection","WAWebHooksUseCatalog","WAWebOrderDetailMath","WAWebOrderItemModel","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useState;function a(a,e){var f=c("WAWebHooksUseCatalog")(e);e=l([]);var g=e[0],i=e[1];e=l(!0);var m=e[0],n=e[1],o=c("useWAWebUnmountSignal")(),p=j(function(){return f==null?new Map():f.productCollection.getProductModels().reduce(function(a,b){return a.set(b.id.toString(),(a=b.getPreviewImage())==null?void 0:a.mediaUrl)},new Map())},[f]),q=j(function(c){if(f==null)return(h||(h=b("Promise"))).resolve([]);var e=a.items.reduce(function(a,b){if(b.isCustomItem||c.get(b.id)!=null)return a;b=d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:f.id,productId:b.id});return a.concat(b)},[]);return(h||(h=b("Promise"))).all(e)},[f,a.items]),r=j(function(b,e){var f;return new(c("WAWebOrderItemModel"))(babelHelpers["extends"]({},b,{price:((f=b.amount)!=null?f:0)*d("WAWebOrderDetailMath").DEFAULT_OFFSET,currency:a.currency,thumbnailUrl:e.get(b.id)}))},[a.currency]),s=j(function(b){return a.items.map(function(a){return r(a,b)})},[a.items,r]);k(function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=p();n(!0);yield q(a);if(o.aborted)return;n(!1);a=p();i(s(a))})()},[f,o,q,p,s]);return{orderItems:g,isLoading:m}}g["default"]=a}),98);
__d("WAWebOrderDetailDrawer.react",["fbt","WAWebBizGatingUtils","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexItem.react","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailStatusPill.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrderSummaryDrawer","WAWebOrdersExpansionCountries","WAWebSpinner.react","WAWebStatusClockIcon","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUseOrderDetailItems","WAWebUserPrefsMeUser","WAWebWDSText.react","WAWebWamEnumOrderDetailsCreationAction","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react"));e=b.forwardRef;var m=b.useEffect,n=b.useMemo,o={buttonWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",$$css:!0}};function a(a,b){var e=d("WAWebUserPrefsMeUser").getMeUser(),f=a.chat,g=a.orderInfo,i=a.sellerWid,k=g.referenceId,q=g.discount,r=g.tax,s=g.shipping,t=g.subtotal,u=g.totalAmount,v=c("WAWebUseOrderDetailItems")(g,i),w=v.orderItems;v=v.isLoading;var x=n(function(){return d("WAWebOrderStatus").findOrderStatus(f,k)},[f,k]);m(function(){new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(a.entryPoint),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser()))}).commit()},[a.entryPoint]);if(t==null)return null;var y=function(){},z=function(){d("WAWebBizSendOrderAction").sendOrderPaymentMethodUpdate({chat:f,sellerJid:i.toJid(),orderInfo:g,orderStatus:x,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,orderNote:null,paymentStatus:null,paymentMethod:d("WAWebOrderPaymentStatus").OrderPaymentMethod.Confirm})["finally"](function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),y()})};return l.jsxs(c("WAWebDrawer.react"),{onDrop:a.onBack,ref:b,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__Ssr7_bmMotN__JHASH__"):h._("__JHASH__AorvvqmREO0__JHASH__"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsx(c("WAWebDrawerBody.react"),{theme:v?"center-content":void 0,children:v?l.jsx(p,{}):l.jsxs(l.Fragment,{children:[l.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.bottom15],children:l.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[l.jsx(c("WAWebOrderDetailSellerProfile.react"),{testid:void 0,orderId:g.referenceId,sellerWid:i,orderStatus:l.jsx(c("WAWebOrderDetailStatusPill.react"),{orderStatus:x})}),l.jsx(c("WAWebOrderDetailItems"),{details:!0,currency:g.currency,items:w}),l.jsx(d("WAWebOrderSummaryDrawer").OrderValues,{tax:r!=null?r*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,discount:q!=null?q*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,shipping:s!=null?s*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,subtotal:t*d("WAWebOrderDetailMath").DEFAULT_OFFSET,currency:g.currency,canDisplayAdditionalCharges:!0}),l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",xstyle:d("WAWebUISpacing").uiPadding.horiz16,testid:void 0,children:[l.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",children:h._("__JHASH__gRCYHPsriUH__JHASH__")}),l.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",children:d("WAWebCurrencyUtils").formatAmount(g.currency,u)})]})]})}),e.user===i.user&&((v=(b=d("WAWebOrdersExpansionCountries").getOrdersExpansionAllowedCountries())==null?void 0:b.length)!=null?v:0)>0&&l.jsx(c("WAWebDrawerSection.react"),{children:l.jsxs(d("WAWebDrawerButton.react").DrawerButtonSimple,{icon:l.jsx(d("WAWebStatusClockIcon").StatusClockIcon,{width:20}),testid:void 0,color:"dark",disabled:!0,onClick:function(){},children:[l.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"16",children:h._("__JHASH__-eY5_MXS2G8__JHASH__")}),l.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"12",children:h._("__JHASH__Gzde0yr2UTx__JHASH__")})]})}),[d("WAWebOrderStatus").OrderStatus.Canceled,d("WAWebOrderStatus").OrderStatus.Complete].every(function(a){return x!==a})&&e.user===i.user&&l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx("div",{className:(j||(j=c("stylex")))(o.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),children:l.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:function(){a.onOrderStatusUpdateClick==null?void 0:a.onOrderStatusUpdateClick()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH___OAFLFy4cBY__JHASH__"):h._("__JHASH__IGnCv51HBsf__JHASH__")})})}),e.user!==i.user&&x===d("WAWebOrderStatus").OrderStatus.Pending&&((r=(w=d("WAWebOrdersExpansionCountries").getConsumerOrdersExpansionAllowedCountries())==null?void 0:w.length)!=null?r:0)>0&&l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx("div",{className:(j||(j=c("stylex")))(o.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),children:l.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:z,children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__KnszcWfmbB3__JHASH__"):h._("__JHASH__QjmdMEvo-j-__JHASH__")})})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";function p(){return l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",testid:void 0,children:l.jsx(c("WAWebFlexItem.react"),{children:l.jsx(d("WAWebSpinner.react").Spinner,{})})})}p.displayName=p.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("WAWebOrderDetailProductListItem",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebOrderIcons","WAWebText_DONOTUSE.react","isNonZeroNumber","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;a=a.product;var e=j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,ellipsify:!0,titlify:!0});b=j.jsx(d("WAWebOrderIcons").OrderItemIcon,{useCustomIcon:Boolean(a.mediaData)===!1,mediaData:(b=a.mediaData)!=null?b:null});var f=null;if(a.quantity){var g=h._("__JHASH__jU6_AFJakKx__JHASH__",[h._param("quantity",a.quantity.toString())]);f=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g})}g=null;d("isNonZeroNumber").isNonZeroNumber(a.price)?g=d("WAWebCurrencyUtils").formatAmount1000(a.currency,a.price):g=h._("__JHASH__JYK4SYmCAap__JHASH__");a=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g});return j.jsx(c("WAWebCellFrame.react"),{image:b,customImage:!0,primary:e,secondary:f,detail:a,theme:"media"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailProductList",["WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderDetailProductListItem","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=60,k=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.productItems;b=b.map(function(a){return{itemKey:a.id.toString(),product:a}});return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(k,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b,renderItem:function(a){a=a.product;return i.jsx(c("WAWebOrderDetailProductListItem"),{product:a})},defaultItemHeight:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailProductListDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlatListController","WAWebOrderDetailProductList","WAWebUISpacing","react","useWAWebLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");b=(i||(i=d("react"))).forwardRef;function a(a,b){var e=a.productItems,f=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()});return k.jsxs(c("WAWebDrawer.react"),{onDrop:a.onBack,ref:b,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__m-M12jx01-O__JHASH__"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),k.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[f.current],children:k.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.end3,d("WAWebUISpacing").uiPadding.start16],theme:"refresh-padding-title",children:k.jsx(c("WAWebOrderDetailProductList"),{flatListController:f.current,productItems:e})})})]})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),226);
__d("WAWebOrderDetailRadioButton.react",["WAWebCheckBoxRound.react","WAWebFlex.react","WAWebUISpacing","WAWebUnstyledButton.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b,e=a.checked,f=a.isCanceled,g=a.label,h=a.onClick;a=a.testid;return i.jsx(c("WAWebUnstyledButton.react"),{onClick:h,testid:void 0,children:i.jsxs(d("WAWebFlex.react").FlexRow,{children:[i.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:[d("WAWebUISpacing").uiPadding.start12,d("WAWebUISpacing").uiPadding.end24],children:i.jsx(c("WAWebCheckBoxRound.react"),{checked:e,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:function(){return void h()}})}),i.jsx("div",{className:f?"x1sr8853":null,children:g})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderStatusUpdateDrawer.react",["fbt","WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebBizOrderStatusLabels","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCTWADataSharingModel","WAWebCmd","WAWebCommonCTWADataSharing","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebOrderDataSharingOptOutOrUpsell","WAWebOrderDetailMath","WAWebOrderDetailRadioButton.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrdersExpansionUtils","WAWebRichTextField.react","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebSwitch.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error opening chat"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error sending order status in chat"]);m=function(){return a};return a}b=k||d("react");var n=i||(i=c("react"));e=b.forwardRef;var o=b.useEffect,p=b.useMemo,q=b.useState,r=d("WAWebBizGatingUtils").isOrderStatusM1Enabled()?[d("WAWebOrderStatus").OrderStatus.PaymentRequested,d("WAWebOrderStatus").OrderStatus.PreparingToShip,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Delivered,d("WAWebOrderStatus").OrderStatus.Canceled]:[d("WAWebOrderStatus").OrderStatus.Processing,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Complete,d("WAWebOrderStatus").OrderStatus.Canceled],s={checkboxContainer:{rowGap:"x1na6gtj",columnGap:"x1qgv0r9",$$css:!0},spacer:{height:"xqtp20y",borderTop:"x1e0juf7",$$css:!0}};function t(a){a=a.xstyle;return n.jsx("div",{className:(j||(j=c("stylex")))(s.spacer,d("WAWebUISpacing").uiMargin.top16,a)})}t.displayName=t.name+" [from "+f.id+"]";var u=function(a,b,d,e){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-update",b))return n.jsx(c("WAWebOrderDataSharingOptOutOrUpsell"),{theme:"order-update",onCheckboxToggle:function(){return e(!d)},checkboxValue:d})},v=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};function a(a,b){var e=q(v),f=e[0],g=e[1];e=q("");var i=e[0],k=e[1],w=p(function(){return d("WAWebOrderStatus").findOrderStatus(a.chat,a.orderInfo.referenceId)},[a.chat,a.orderInfo.referenceId]),x=p(function(){return d("WAWebOrderPaymentStatus").findLastOrderPaymentStatusInfo(a.chat,a.orderInfo.referenceId)},[a.chat,a.orderInfo.referenceId]);e=q(w);var y=e[0],z=e[1];e=q((x==null?void 0:x.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured);var A=e[0],B=e[1];o(function(){var a=function(a){return g(a===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"])};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);var C=a.chat,D=a.sellerJid,E=a.orderInfo,F="no_method_confirmed",G=function(){var b;b=(b=(b=E.externalPaymentConfigurations)==null?void 0:(b=b.at(0))==null?void 0:b.type)!=null?b:F;new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_MARK_AS_PAID,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(a.entryPoint),hasNote:Boolean(i),paymentStatus:!0,paymentType:b}).commit()};function H(a,b,c,e){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),a&&(J(!b,c,e),f&&d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:C,orderStatus:y,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:A},type:"order_updated",isPaidStateChanged:!0})),b&&I(c,e)}function I(b,e){var g=d("WAWebUserPrefsMeUser").getMaybeMeUser();g=g?d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(g)):!1;new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_ORDER_STATUS,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(a.entryPoint),hasCatalog:g,hasNote:Boolean(i)}).commit();d("WAWebBizSendOrderAction").sendOrderStatusMessageAsMerchant({chat:C,sellerJid:D,orderInfo:E,orderNote:i,orderStatus:b,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,paymentStatus:e?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,paymentMethod:null})["catch"](function(a){d("WALogger").ERROR(m()).verbose().devConsole(a)});d("WAWebSmbMarkAsXOrderAction").markOrderAsUpdatedStatusAction(C,f,y,A);f&&d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:C,orderStatus:y,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:A},type:"order_updated"});d("WAWebCmd").Cmd.openChatFromUnread(C)["catch"](function(a){d("WALogger").ERROR(l()).verbose().devConsole(a)})}function J(a,b,c){d("WAWebBizSendOrderAction").sendOrderPaymentStatusMessageAsMerchant({chat:C,sellerJid:D,orderInfo:E,orderNote:a?i:null,orderStatus:b,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,paymentStatus:c?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,paymentMethod:null})["finally"](function(){G()})}function K(a){return r.findIndex(function(b){return b===a})}function L(){var a=K(y),b=K(w),e=(x==null?void 0:x.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured,f=a!==b,g=e!==A;e=!f&&!g;a=a<b;var i=y,j=A;d("WAWebBizGatingUtils").isOrderStatusM1Enabled()&&(g&&(A?y===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(i=d("WAWebOrderStatus").OrderStatus.PreparingToShip):!A&&y===d("WAWebOrderStatus").OrderStatus.PreparingToShip&&(i=d("WAWebOrderStatus").OrderStatus.PaymentRequested)),f&&(A&&y===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(j=!1)));e?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__sq5vCQ5USss__JHASH__"),okText:c("WAWebFbtCommon")("OK"),onOK:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__MokQoGmWX6F__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w))]):h._("__JHASH__1vB_eHa7weV__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w))])})):a?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__8N28pK0sbYA__JHASH__"),okText:h._("__JHASH__IBFlvfnDAy4__JHASH__"),onOK:function(){H(g,f,i,j),d("WAWebModalManager").ModalManager.close()},cancelText:h._("__JHASH__Zxn4YYs9oaP__JHASH__"),onCancel:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__bZ2ScGcUD7R__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(y))]):h._("__JHASH__UARVCowcoXl__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(y))])})):H(g,f,i,j)}e=h._("__JHASH__W9JHo2yaW9d__JHASH__");var M=function(){B(!A)};return n.jsxs(c("WAWebDrawer.react"),{onDrop:a.onBack,ref:b,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__jHYMghYQIO6__JHASH__"):h._("__JHASH__IaAnh-WqNbE__JHASH__"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),n.jsx(c("WAWebDrawerBody.react"),{children:n.jsxs(c("WAWebDrawerSection.react"),{children:[d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&n.jsxs(n.Fragment,{children:[n.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.horiz16],children:[n.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiPadding.end24,children:n.jsx(d("WAWebSwitch.react").Switch,{checked:A,onChange:M,testid:void 0})}),n.jsx("div",{children:h._("__JHASH__g87pBZZ6PR8__JHASH__")})]}),n.jsx(t,{xstyle:d("WAWebUISpacing").uiMargin.bottom16})]}),n.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.vert4,d("WAWebUISpacing").uiPadding.horiz16),children:n.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:s.checkboxContainer,children:r.map(function(a){return n.jsx(c("WAWebOrderDetailRadioButton.react"),{testid:void 0,label:d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(a),isCanceled:a===d("WAWebOrderStatus").OrderStatus.Canceled,checked:y===a,onClick:function(){z(a)}},a)})})}),n.jsx(t,{}),n.jsx("div",{className:j(d("WAWebUISpacing").uiPadding.horiz28),children:n.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:e,value:i,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:L,onChange:function(a){return k(a.text)}})}),u(a.chat,E.items.length,f,g),n.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiMargin.top8,d("WAWebUISpacing").uiMargin.bottom24],children:n.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:L,children:h._("__JHASH__ozB-3Zgb8C4__JHASH__")})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("WAWebProductCatalogProductDetailsWithDeepLink.react",["fbt","WAFilteredCatch","WANullthrows","WAWebBackendErrors","WAWebCatalogCollection","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFbtCommon","WAWebModalManager","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogGetLatestProduct","WAWebProductCatalogProductDetailsDrawer.react","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react"));b=a.forwardRef;var l=a.useEffect,m=a.useState;e=b(function(a,b){var e=a.isPushed;e=e===void 0?!0:e;var f=a.productInfo,g=f.productId,i=f.businessOwnerJid,j=a.onBack;f=m(function(){return c("WAWebProductCatalogGetLatestProduct")({productId:g,businessOwnerJid:i})});var n=f[0],o=f[1];f=m(function(){return n?"NONE":"PENDING"});var p=f[0],q=f[1],r=function(){j(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._("__JHASH__M459z--6h5t__JHASH__")}))},s=function(){var a=d("WAWebWidFactory").createWid(i);d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:a,productId:g}).then(function(){var b=d("WAWebCatalogCollection").CatalogCollection.get(a);o(c("WANullthrows")(b).productCollection.get(g));q("SUCCESS")})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){r(),q("ERROR")}))["catch"](function(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){q(a)})})};l(function(){n||s()},[]);return n?k.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{ref:b,chat:a.chat,isPushed:e,product:n,onEnd:a.onEnd,onBack:a.onBack,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalog,refreshCarousel:!0,onProductLinkClick:a.onProductLinkClick,onProductMoreInformation:a.onProductMoreInformation,onCartClick:a.onCartClick}):k.jsxs(c("WAWebDrawer.react"),{ref:b,onDrop:a.onBack,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:h._("__JHASH__hg9BRt8_aW-__JHASH__"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:p})})]},"product-details-drawer")});g.ProductDetailsWithDeepLink=e}),226);
__d("WAWebProductCatalogProductMessageListNoProductModal",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebFbtCommon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.onConfirm;return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:c("WAWebFbtCommon")("OK"),children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._("__JHASH__ZHS9rX0-Jh0__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductMessageList.react",["WAWebDrawerContext","WAWebDrawerManager","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebModalManager","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCatalogListItem.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageListNoProductModal","WAWebSectionHeader.react","WAWebStateUtils","WAWebUISpacing","WAWebUtilsLogQplEvents","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useCallback,m=b.useEffect,n={list:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},o=d("WAWebFlatList.react").FlatListFactory();function p(a){var b=a.item,e=a.onProductDetail,f=l(function(a,b){d("WAWebProductCatalogLogEvents").logCatalogListDetailClick({product:d("WAWebStateUtils").unproxy(a),catalogContext:b});d("WAWebUtilsLogQplEvents").qplStartProductView("PLM");return e(a)},[e]);a=null;switch(b.type){case"section":var g=b.label;a=k.jsx(c("WAWebSectionHeader.react"),{header:g});break;case"product":var h=b.product;a=k.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){return k.jsx(c("WAWebProductCatalogListItem.react"),{product:h,onClick:function(){return f(h,d("WAWebProductCatalogContext").getProductCatalogContext(a))},canManageCatalog:!1})}});break}return a}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.flatListController,e=a.onProductDetail;a=a.productMessageList;var f=a.productCollection.getProductModels(),g=a.getSections(),h=a.getSectionsCount()>0,j=a.getTotalProductsFetchedOrFailed();a=a.getProductSize();var l=a===j&&f.length===0,q=[];g.forEach(function(a,b){var c=a.title;a=a.products;var e=[];a.forEach(function(a){var c=a.productId;a=f.find(function(a){return a.id===c});a!=null&&e.push({itemKey:"section-"+b+"-"+a.id.toString(),product:a,type:"product",height:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})});e.length>0&&(c!=null&&c!==""&&q.push({itemKey:"header-"+b+"-"+c,label:c,type:"section",height:72}),q.push.apply(q,e))});m(function(){l&&d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebProductCatalogProductMessageListNoProductModal"),{onConfirm:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),d("WAWebModalManager").ModalManager.close()}}))},[l]);return k.jsx("div",{className:(i||(i=c("stylex")))(n.list,d("WAWebUISpacing").uiPadding.bottom8,!h&&d("WAWebUISpacing").uiMargin.top8),children:k.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[b],children:k.jsx(o,{flatListController:b,direction:"vertical",forceConsistentRenderCount:!1,data:q,renderItem:function(a){return k.jsx(p,{item:a,onProductDetail:e})},itemEnterAnimationsEnabled:!0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductMessageListDrawer.react",["WAQplTypes","WATypeUtils","WAWebCartCollection","WAWebCommonCartIconMenuBarItem.react","WAWebContactGetters","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFrontendConstants","WAWebProductCatalogCatalogConstants","WAWebProductCatalogCheckCartEnabled","WAWebProductCatalogContext","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageList.react","WAWebProductMessageListCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","useWAWebContactValues","useWAWebLazyRef","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;a=i||d("react");var j=h||(h=c("react"));e=a.forwardRef;var k=a.useContext,l=a.useEffect,m=a.useState;function n(a){var b=a.loadingMore,d=a.onProductDetail,e=a.productListFlatListControllerRef,f=a.productMessageList;a=a.productMessageListFetchState;return!f?j.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:a}):j.jsxs("div",{children:[j.jsx(c("WAWebProductCatalogProductMessageList.react"),{productMessageList:f,flatListController:e.current,onProductDetail:d}),b&&j.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})]})}n.displayName=n.name+" [from "+f.id+"]";a=e(function(a,e){var f=a.productListId,g=a.setScrollOffset,h=a.onCartClick,i=a.onProductDetail,o=a.catalogWid,p=c("useWAWebUnmountSignal")(),q=k(d("WAWebDrawerContext").DrawerContext),r=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()}),s=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebContactGetters").getId]),t=s[0];s=m(!1);var u=s[0],v=s[1];s=m(0);var w=s[0],x=s[1];s=m(!1);var y=s[0],z=s[1];s=m(function(){return d("WAWebProductMessageListCollection").ProductMessageListCollection.get(f)});var A=s[0],B=s[1];s=m(function(){return d("WAWebCartCollection").CartCollection.findCart(t.toString())});var C=s[0];s=m(C.itemCount);var D=s[0],E=s[1];s=m(!1);var F=s[0],G=s[1];s=m(A?"SUCCESS":"NONE");var H=s[0],I=s[1],J=function b(c){var e=a.isPushed;e=e===void 0?!0:e;var g=e&&c===!0;e=d("WAWebProductMessageListCollection").ProductMessageListCollection.assertGet(f);var h=e.getTotalProductsFetchedOrFailed();c=e.getProductSize();if(y||h===c){g&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:h}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));z(!0);return}v(!0);x(h);e=g?d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW:void 0;d("WAWebProductMessageListCollection").ProductMessageListCollection.update(f,{markerId:e}).then(function(a){if(p.aborted){g&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}v(!1);a=Array.isArray(a)?a[0]:a;a=a.getTotalProductsFetchedOrFailed();a===w&&z(!0);g&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:a}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));h*d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&b()})["catch"](function(){v(!1),z(!0),g&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)})},K=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a.isPushed;b=b===void 0?!0:b;try{var c=(yield d("WAWebProductMessageListCollection").ProductMessageListCollection.find(f));if(p.aborted){b&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}B(c);I("SUCCESS");J(!0)}catch(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){return I(a)}),b&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)}});return function(){return c.apply(this,arguments)}}();l(function(){A?J():K(),c("WAWebProductCatalogCheckCartEnabled")(t).then(function(a){if(p.aborted)return;G(a);d("WAWebProductCatalogLogEvents").logCatalogListView({catalogOwnerWid:o,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(q),cartToggle:a})})},[]);d("useWAWebListener").useListener(C,"all",function(){E(C.itemCount)});var L=function(a){if(u)return;a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight&&J()};s=function(a){L(a.currentTarget),g==null?void 0:g(a.currentTarget.scrollTop)};var M=function(){d("WAWebUtilsLogQplEvents").qplStartCartView("PLM"),h==null?void 0:h(t.toString())};F=h!=null&&F?j.jsx(d("WAWebCommonCartIconMenuBarItem.react").CartIconMenuBarItem,{cartCountText:d("WATypeUtils").isNumber(D)&&D>0?D.toString():void 0,onClick:M,catalogOwnerJid:t.toString()}):null;return j.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"products",onDrop:a.onBack,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:j.jsx("div",{className:"x78zum5",children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:A==null?void 0:A.title,ellipsify:!0})}),titleStr:A==null?void 0:A.title,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a.onBack,menu:F}),j.jsx(c("WAWebDrawerBody.react"),{onScroll:s,flatListControllers:[r.current],scrollOffset:a.scrollOffset,children:j.jsx(n,{productMessageList:A,loadingMore:u,productMessageListFetchState:H,onProductDetail:i,productListFlatListControllerRef:r})})]})});a.displayName="ProductMessageListDrawer";g.ProductMessageListDrawer=a}),98);
__d("WAWebBizProductDetailsFlow.react",["fbt","WANullthrows","WATimeUtils","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBizShowCartAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCartOrderDetailDrawer.react","WAWebChatThreadLogging","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDBUpdateMessageTable","WAWebDrawerContext","WAWebFbtCommon","WAWebFlowComponent_DEPRECATED.react","WAWebModalManager","WAWebMsgCollection","WAWebOrderCollection","WAWebOrderCreationFlowLoadable","WAWebOrderDetailDrawer.react","WAWebOrderDetailProductListDrawer.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderStatusUpdateDrawer.react","WAWebOrdersExpansionUtils","WAWebProductCatalogCatalogLinkDrawer.react","WAWebProductCatalogContext","WAWebProductCatalogLogEvents","WAWebProductCatalogProductDetailsDrawer.react","WAWebProductCatalogProductDetailsWithDeepLink.react","WAWebProductCatalogProductLinkDrawer.react","WAWebProductCatalogProductListDrawer.react","WAWebProductCatalogProductMessageListDrawer.react","WAWebProductCatalogProductMoreInformationDrawer.react","WAWebProductCollectionCatalogViewDrawer.react","WAWebProductCollectionCollectionContentDrawer.react","WAWebProtobufsE2E.pb","WAWebSmbDataSharingOptInModalDialog","WAWebToast.react","WAWebToastManager","WAWebUim","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","WAWebWidFactory","asyncToGeneratorRuntime","err","react"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react"));e=a.forwardRef;var l=a.useContext,m=function(a){if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(a!=null){var b={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.ACCEPTED};void d("WAWebDBUpdateMessageTable").updateMessageTable(a.id,b);a=d("WAWebMsgCollection").MsgCollection.get(a.id);a&&a.set(b)}},n=function(e){babelHelpers.inheritsLoose(a,e);function a(){var a,f;for(var g=arguments.length,i=new Array(g),j=0;j<g;j++)i[j]=arguments[j];return(a=f=e.call.apply(e,[this].concat(i))||this,f.scrollOffset=0,f.setScrollOffset=function(a){f.scrollOffset=a},f.$ProductDetailsFlowWithContext9=function(a){var b=!a,c=f.props,d=c.catalogOwnerJid,e=c.chat,g=c.product,h=c.productInfo;c=c.sellerJid;d=(g=(d=(d=d)!=null?d:g==null?void 0:g.catalogWid.toString())!=null?d:h==null?void 0:h.businessOwnerJid)!=null?g:c;f.push(k.jsx(o,{chat:e,catalogOwnerJid:d,collection:a,isAllItems:b}))},f.$ProductDetailsFlowWithContext2=function(a,b){var d=f.props,e=d.chat;d=d.refreshCarousel;e=k.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{chat:e,product:a,onEnd:f.$ProductDetailsFlowWithContext10,onBack:f.$ProductDetailsFlowWithContext11,onProductDetail:f.$ProductDetailsFlowWithContext12,onProductCatalog:f.$ProductDetailsFlowWithContext13,onProductLinkClick:f.$ProductDetailsFlowWithContext14,onProductMoreInformation:f.$ProductDetailsFlowWithContext15,refreshCarousel:d,onCartClick:f.$ProductDetailsFlowWithContext16,collectionId:b});f.push(e)},f.$ProductDetailsFlowWithContext17=function(a){a=k.jsx(c("WAWebProductCatalogProductMoreInformationDrawer.react"),{product:a,onBack:f.$ProductDetailsFlowWithContext11});f.push(a)},f.$ProductDetailsFlowWithContext3=function(a){a=k.jsx(d("WAWebProductCatalogProductDetailsWithDeepLink.react").ProductDetailsWithDeepLink,{chat:f.props.chat,productInfo:a,onEnd:f.$ProductDetailsFlowWithContext10,onBack:f.$ProductDetailsFlowWithContext18,onProductDetail:f.$ProductDetailsFlowWithContext12,onProductCatalog:f.$ProductDetailsFlowWithContext13,onProductLinkClick:f.$ProductDetailsFlowWithContext14,onProductMoreInformation:f.$ProductDetailsFlowWithContext15,onCartClick:f.$ProductDetailsFlowWithContext16});f.push(a)},f.pushProductCatalog=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a),e=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));b=d("WAWebBusinessProfileUtils").hasCatalog(e)?k.jsx(c("WAWebProductCollectionCatalogViewDrawer.react"),{contact:b,onProductDetail:f.$ProductDetailsFlowWithContext12,catalogId:a,onBack:f.$ProductDetailsFlowWithContext18,businessProfile:e,scrollOffset:f.scrollOffset,setScrollOffset:f.setScrollOffset,onCatalogLinkClick:f.$ProductDetailsFlowWithContext19,onCartClick:f.$ProductDetailsFlowWithContext16,onCollectionSeeAll:f.$ProductDetailsFlowWithContext9}):k.jsx(d("WAWebProductCatalogProductListDrawer.react").ProductListDrawer,{contact:b,onProductDetail:f.$ProductDetailsFlowWithContext12,catalogId:a,onBack:f.$ProductDetailsFlowWithContext18,businessProfile:e,setScrollOffset:f.setScrollOffset,onCatalogLinkClick:f.$ProductDetailsFlowWithContext19,onCartClick:f.$ProductDetailsFlowWithContext16});f.push(b)});return function(b){return a.apply(this,arguments)}}(),f.$ProductDetailsFlowWithContext7=function(a,b,d,e,g,h,i){a=k.jsx(c("WAWebCartOrderDetailDrawer.react"),{orderId:a,token:b,sellerJid:d,userIsCartOwner:e,onProductDetail:f.$ProductDetailsFlowWithContext20,onOrderCreate:f.$ProductDetailsFlowWithContext4,onOrderCancel:f.$ProductDetailsFlowWithContext5,ownerHasReviewed:g,orderMessage:h,chat:i});f.push(a)},f.$ProductDetailsFlowWithContext1=function(a,b){var c=d("WAWebContactCollection").ContactCollection.gadd(b);c=k.jsx(d("WAWebProductCatalogProductMessageListDrawer.react").ProductMessageListDrawer,{contact:c,productListId:a,onProductDetail:f.$ProductDetailsFlowWithContext12,onCartClick:f.$ProductDetailsFlowWithContext16,onBack:f.$ProductDetailsFlowWithContext18,onEnd:f.$ProductDetailsFlowWithContext10,setScrollOffset:f.setScrollOffset,catalogWid:b});f.push(c)},f.$ProductDetailsFlowWithContext23=function(a){f.$ProductDetailsFlowWithContext22(a)},f.$ProductDetailsFlowWithContext24=function(){new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_UPDATE_ORDER_STATUS,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(f.props.entryPoint),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser()))}).commit(),f.$ProductDetailsFlowWithContext25()},f.$ProductDetailsFlowWithContext4=function(a,b){var e;b===void 0&&(b=null);new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_CREATE_ORDER_DETAILS_FROM_CART,actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),orderDetailEntryPoint:String((e=f.props.entryPoint)!=null?e:c("WAWebBizEntryPoint").FROM_CART),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser()))}).commit();e=function(){f.$ProductDetailsFlowWithContext21(a,b)};c("WAWebSmbDataSharingOptInModalDialog").maybeShowOrderDataSharingDialog(f.props.chat,e,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.CART)},f.cancelOrder=function(){var a=f.props,b=a.orderId,c=a.token,e=a.sellerJid,g=a.userIsCartOwner,h=a.orderMessage;a=a.chat;b!=null&&c!=null&&e!=null&&g!=null&&f.$ProductDetailsFlowWithContext7(b,c,e,g,!0,h,a);d("WAWebModalManager").ModalManager.close()},f.$ProductDetailsFlowWithContext5=function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onCancel:function(){d("WAWebModalManager").ModalManager.close()},cancelText:h._("__JHASH__BQuudHjVcNe__JHASH__"),onOK:f.cancelOrder,okText:h._("__JHASH__puy9NeJAODx__JHASH__"),title:h._("__JHASH__gwVNWAbk8xZ__JHASH__"),children:h._("__JHASH__aBKg2rThb8v__JHASH__")}))},f.$ProductDetailsFlowWithContext12=function(a,b){f.$ProductDetailsFlowWithContext2(a,b)},f.$ProductDetailsFlowWithContext15=function(a){f.$ProductDetailsFlowWithContext17(a)},f.$ProductDetailsFlowWithContext20=function(a){f.$ProductDetailsFlowWithContext3(a)},f.$ProductDetailsFlowWithContext13=function(a,b){d("WAWebProductCatalogLogEvents").logCarouselViewMoreClick({catalogOwnerWid:a,catalogContext:b}),f.pushProductCatalog(a)},f.$ProductDetailsFlowWithContext14=function(a){f.push(k.jsx(c("WAWebProductCatalogProductLinkDrawer.react"),{product:a,onBack:f.$ProductDetailsFlowWithContext18}))},f.$ProductDetailsFlowWithContext19=function(a,b){f.push(k.jsx(c("WAWebProductCatalogCatalogLinkDrawer.react"),{catalog:a,contact:b,onBack:f.$ProductDetailsFlowWithContext18}))},f.$ProductDetailsFlowWithContext16=function(a){var b=d("WAWebProductCatalogContext").getProductCatalogContext(f.props.context);a=c("WAWebBizShowCartAction")(a,f.props.chat,b);a&&f.push(a)},f.$ProductDetailsFlowWithContext18=function(){f.pop()},f.$ProductDetailsFlowWithContext10=function(){f.end(d("WAWebUim").DismissReason.LIFECYCLE)},f.$ProductDetailsFlowWithContext11=function(){f.popAndUpdate({scrollOffset:f.scrollOffset})},f.$ProductDetailsFlowWithContext6=function(){var a=c("WAWebFbtCommon")("OK");d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{action:{dismiss:!0,actionText:a},msg:h._("__JHASH__ettcSfVSOyY__JHASH__"),id:d("WAWebToast.react").genId()}))},a)||babelHelpers.assertThisInitialized(f)}var f=a.prototype;f.componentDidMount=function(){var a=this,b=this.props,e=b.catalogOwnerJid,f=b.orderId,g=b.product,h=b.productInfo,i=b.productListId,j=b.collection,k=b.collectionId,l=b.isAllItems,m=b.token,n=b.sellerJid,o=b.userIsCartOwner,p=b.orderMessage,q=b.chat;b=b.orderInfo;d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"isCommerceViewed",ts:d("WATimeUtils").unixTime(),chatId:q.id}]);if(e!=null)j!=null||l===!0?this.pushCollectionContent(d("WAWebWidFactory").createWid(e)):i!=null?this.$ProductDetailsFlowWithContext1(i,d("WAWebWidFactory").createWid(e)):void this.pushProductCatalog(d("WAWebWidFactory").createWid(e));else if(g)this.$ProductDetailsFlowWithContext2(g,k);else if(h)this.$ProductDetailsFlowWithContext3(h);else if(f!=null)m!=null&&n!=null&&o!=null&&(d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()?d("WAWebOrderCollection").OrderCollection.findOrder(f,n,m).then(function(b){a.$ProductDetailsFlowWithContext4(c("WANullthrows")(b),a.$ProductDetailsFlowWithContext5)})["catch"](function(){a.$ProductDetailsFlowWithContext6()}):this.$ProductDetailsFlowWithContext7(f,m,n,o,!1,p,q));else if(b!=null&&n!=null)this.$ProductDetailsFlowWithContext8(q,b,d("WAWebWidFactory").createWid(n));else throw c("err")("ProductDetailsFlow:no-product")};f.pushCollectionContent=function(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a);this.push(k.jsx(d("WAWebProductCollectionCollectionContentDrawer.react").CollectionContentDrawer,{contact:b,onProductDetail:this.$ProductDetailsFlowWithContext12,catalogId:a,onBack:this.$ProductDetailsFlowWithContext18,onCatalogLinkClick:this.$ProductDetailsFlowWithContext19,onCartClick:this.$ProductDetailsFlowWithContext16,scrollOffset:this.scrollOffset,setScrollOffset:this.setScrollOffset,collection:this.props.collection}))};f.$ProductDetailsFlowWithContext21=function(a,b){var d,e=this;b===void 0&&(b=null);this.push(k.jsx(c("WAWebOrderCreationFlowLoadable"),{entryPoint:(d=this.props.entryPoint)!=null?d:c("WAWebBizEntryPoint").FROM_CART,onBack:this.$ProductDetailsFlowWithContext18,order:a,chat:this.props.chat,onDeclineOrder:b,onSend:function(){return m(e.props.orderMessage)}}))};f.$ProductDetailsFlowWithContext22=function(a){this.push(k.jsx(c("WAWebOrderDetailProductListDrawer.react"),{onBack:this.$ProductDetailsFlowWithContext18,productItems:a}))};f.$ProductDetailsFlowWithContext8=function(a,b,d){this.push(k.jsx(c("WAWebOrderDetailDrawer.react"),{entryPoint:this.props.entryPoint,onBack:this.$ProductDetailsFlowWithContext18,orderInfo:b,sellerWid:d,chat:a,onProductSummaryClick:this.$ProductDetailsFlowWithContext23,onOrderStatusUpdateClick:this.$ProductDetailsFlowWithContext24}))};f.$ProductDetailsFlowWithContext25=function(){var a=this.props,b=a.orderInfo;a=a.sellerJid;b!=null&&a!=null&&this.push(k.jsx(c("WAWebOrderStatusUpdateDrawer.react"),{entryPoint:this.props.entryPoint,chat:this.props.chat,onBack:this.$ProductDetailsFlowWithContext18,orderInfo:b,sellerJid:a}))};return a}(c("WAWebFlowComponent_DEPRECATED.react")),o=e(function(a,b){var c=l(d("WAWebDrawerContext").DrawerContext);return k.jsx(n,babelHelpers["extends"]({ref:b,context:c},a))});f=o;g["default"]=f}),226);
__d("WAWebBizSendProductModal.react",["fbt","Promise","WAWebBizProductMessageSendQpl","WAWebBlockContactAction","WAWebCmd","WAWebDrawerManager","WAWebFrontendConstants","WAWebModalManager","WAWebSelectModal.react","WAWebServerPropConstants","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(j||(j=d("react"))).useEffect;function a(a){m(function(){d("WAWebCmd").Cmd.closeContextMenu(),d("WAWebCmd").Cmd.closeTooltip()},[]);var c=function(c){var e=a.product;return new(i||(i=b("Promise")))(function(a,b){d("WAWebCmd").Cmd.once("ui_idle",function(){c.sendProductMessage(e).then(function(){return a()})["catch"](function(a){return b(a)})})})},e=function(e){d("WAWebBizProductMessageSendQpl").qplStartProductSendMessage("Forward",void 0,e.length);var f=e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.isUser&&a.contact.isContactBlocked&&(yield d("WAWebBlockContactAction").unblockContact(a.contact));return c(a)});return function(b){return a.apply(this,arguments)}}());d("WAWebBizProductMessageSendQpl").qplEndProductMessageSend((i||(i=b("Promise"))).all(f));d("WAWebModalManager").ModalManager.close();e.length===1&&(d("WAWebCmd").Cmd.openChatFromUnread(e[0]),window.innerWidth<=d("WAWebFrontendConstants").LAYOUT_2COLUMNS_MAX_WIDTH&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight());a.onSend==null?void 0:a.onSend()},f=function(){d("WAWebModalManager").ModalManager.close()};return l.jsx(d("WAWebSelectModal.react").SelectModal,{onConfirm:e,maxItems:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,title:h._("__JHASH__Pz11_y6jv6u__JHASH__"),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,onCancel:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCatalogIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="catalog";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsxs("g",{id:"catalog_web",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[j.jsx("path",{d:"M3.25,15 L3.25,19 C3.25,19.9664983 4.03350169,20.75 5,20.75 L15,20.75 C15.9664983,20.75 16.75,19.9664983 16.75,19 L16.75,15 C16.75,14.5857864 16.4142136,14.25 16,14.25 C15.5857864,14.25 15.25,14.5857864 15.25,15 L15.25,19 C15.25,19.1380712 15.1380712,19.25 15,19.25 L5,19.25 C4.86192881,19.25 4.75,19.1380712 4.75,19 L4.75,15 C4.75,14.5857864 4.41421356,14.25 4,14.25 C3.58578644,14.25 3.25,14.5857864 3.25,15 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),j.jsx("path",{d:"M20.75,20 L20.75,15 C20.75,14.5857864 20.4142136,14.25 20,14.25 C19.5857864,14.25 19.25,14.5857864 19.25,15 L19.25,20 C19.25,20.4142136 19.5857864,20.75 20,20.75 C20.4142136,20.75 20.75,20.4142136 20.75,20 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),j.jsx("path",{d:"M19.0596875,4 L5.51793438,4 C4.40802085,4 3.43383032,4.73889996 3.13458536,5.80771262 L2.05872453,9.65036257 C1.82420376,10.488 2.31312637,11.3571559 3.15076375,11.5916766 C3.2889905,11.6303772 3.43185897,11.65 3.57540118,11.65 L21.0022207,11.65 C21.8720692,11.65 22.5772207,10.9448485 22.5772207,10.075 C22.5772207,9.93145779 22.557598,9.78858932 22.5188974,9.65036257 L21.4430366,5.80771262 C21.1437916,4.73889996 20.1696011,4 19.0596875,4 Z M19.0596875,5.35 C19.5641937,5.35 20.0070076,5.68586362 20.143028,6.17168755 L21.2188888,10.0143375 C21.2244175,10.0340842 21.2272207,10.054494 21.2272207,10.075 C21.2272207,10.1992641 21.1264848,10.3 21.0022207,10.3 L3.57540118,10.3 C3.55489515,10.3 3.53448537,10.2971967 3.51473869,10.2916681 C3.39507621,10.2581651 3.32523012,10.134 3.35873309,10.0143375 L4.43459391,6.17168755 C4.57061435,5.68586362 5.01342823,5.35 5.51793438,5.35 L19.0596875,5.35 Z",id:"Path",fill:"#000000",fillRule:"nonzero"}),j.jsx("path",{d:"M22.188811,10.975 L22.188811,11.3296105 C22.188811,12.1278748 21.2949411,13.225 20.1923038,13.225 C19.1592556,13.225 18.3198702,12.2052018 18.2168352,11.4776253 C18.1127212,12.2052018 17.2733358,13.225 16.2408271,13.225 C15.2072395,13.225 14.3683936,12.2052018 14.264819,11.4776253 C14.1612445,12.2052018 13.3218591,13.225 12.288811,13.225 C11.2552233,13.225 10.4163774,12.2052018 10.3128029,11.4776253 C10.2097678,12.2052018 9.369843,13.225 8.33679483,13.225 C7.30374666,13.225 6.46490076,12.2052018 6.36132621,11.4776253 C6.25775167,12.2052018 5.41782687,13.225 4.38531815,13.225 C3.28268083,13.225 2.38881096,12.1278748 2.38881096,11.3296105 L2.38881096,10.975 L22.188811,10.975 Z",id:"Fill-9",fill:"#000000"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CatalogIcon=a}),98);
__d("WAWebProductCatalogSendCatalogButton.react",["fbt","WAWebCatalogIcon","WAWebCellFrame.react","WAWebRoundShape.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.disabled;a=a.onClick;var e=b?"xt0e3qv":"",f=b?"x40yjcy":"";a=b?null:a;f=j.jsx("span",{className:f,children:h._("__JHASH__QT2MGtjFadE__JHASH__")});b=j.jsx(c("WAWebRoundShape.react"),{theme:"compact",disabled:b,children:j.jsx(d("WAWebCatalogIcon").CatalogIcon,{})});return j.jsx(c("WAWebCellFrame.react"),{image:b,onClick:a,primary:f,theme:"list-button-compact",className:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogSelectProductsModal.react",["fbt","WANullthrows","WAWebCatalogCollection","WAWebProductCatalogSendCatalogButton.react","WAWebSelectModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;b=k.forwardRef(a);function a(a,b){var e=a.onCancel,f=a.onConfirm,g=a.onShare;a=l(!1);var i=a[0],j=a[1];a=l([]);var m=a[0],n=a[1];a=function(a,b,c){j(c.length===0)};var o=function(a){a=a;n(a);j(a.length>0)},p=function(){var a;a=c("WANullthrows")((a=m[0])==null?void 0:a.catalogWid);a=c("WANullthrows")(d("WAWebCatalogCollection").CatalogCollection.get(a));g(a)};i=k.jsx(c("WAWebProductCatalogSendCatalogButton.react"),{disabled:!i,onClick:p});return k.jsx(d("WAWebSelectModal.react").SelectModal,{ref:b,title:h._("__JHASH__g_Xg1UUzHmM__JHASH__"),onCancel:e,onConfirm:f,listType:d("WAWebSelectModal.react").ListType.ProductSelectModal,enableSearchBox:!1,customHeader:i,onSelectionChanged:a,onDataLoaded:o})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebBizAttachProductModal.react",["fbt","Promise","WAWebBizProductMessageSendQpl","WAWebCatalogShortLinkUtils","WAWebComposeBoxActions","WAWebModalManager","WAWebProductCatalogLogEvents","WAWebProductCatalogSelectProductsModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a){var e=function(c){var e=a.chat,f=a.sessionId,g=a.onSend;d("WAWebBizProductMessageSendQpl").qplStartProductSendMessage("Attachment",c.length);c=c.map(function(a,b){b=b===0?e.composeQuotedMsg:null;return e.sendProductMessage(a,b).then(function(){d("WAWebProductCatalogLogEvents").logProductMessageSent({product:a,catalogSessionId:f})})});d("WAWebBizProductMessageSendQpl").qplEndProductMessageSend((i||(i=b("Promise"))).all(c));e.composeQuotedMsg=null;g==null?void 0:g();d("WAWebModalManager").ModalManager.close()},f=function(b){var c=a.chat,e=a.sessionId,f=d("WAWebCatalogShortLinkUtils").createCatalogLink(b.id.user);f=h._("__JHASH__CGjr4vQ7WJh__JHASH__",[h._param("catalogUrl",f)]).toString();d("WAWebComposeBoxActions").ComposeBoxActions.paste(c,f);d("WAWebProductCatalogLogEvents").logSendCatalogClick({catalogOwnerWid:b.id,catalogSessionId:e});d("WAWebModalManager").ModalManager.close()},g=function(){a.onCancel==null?void 0:a.onCancel(),d("WAWebModalManager").ModalManager.close()};return k.jsx(c("WAWebProductCatalogSelectProductsModal.react"),{onCancel:g,onConfirm:e,onShare:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebChatAgentMsgInfoCell.react",["WAWebChatCell.react","WAWebClock","WAWebDetailImage.react","WAWebEmojiText.react","WAWebMsgGetters","react","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.agentName,e=a.msg;a=a.theme;e=d("useWAWebMsgValues").useMsgValues(e.id,[d("WAWebMsgGetters").getFrom,d("WAWebMsgGetters").getT]);var f=e[0];e=e[1];e=d("WAWebClock").Clock.relativeDateAndTimeStr(e);var g=d("WAWebDetailImage.react").getSize(d("WAWebDetailImage.react").DetailImageSize.Small);return i.jsx(c("WAWebChatCell.react"),{contextEnabled:function(){return!1},image:i.jsx("div",{className:"x1n2onr6",style:{height:g,width:g},children:i.jsx(d("WAWebDetailImage.react").DefaultIcon,{id:f})}),primary:i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:b,titlify:!0,ellipsify:!0}),secondary:i.jsx("span",{title:e,children:e}),className:"x1sqbtui x1bnvlk4",theme:a,idle:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatContactMsgInfoCell.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={title:"_ahhp"};b=a;g["default"]=b}),98);
__d("WAWebChatContactMsgInfoCell.react",["WAWebCellFrame.react","WAWebChatContactMsgInfoCell.scss","WAWebClock","WAWebEmojiText.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.icon,e=a.t;a=a.title;e=e!=null?d("WAWebClock").Clock.relativeDateAndTimeStr(e):"-";b=i.jsxs("div",{className:c("WAWebChatContactMsgInfoCell.scss").title,"data-testid":void 0,children:[b,i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:a,titlify:!0,ellipsify:!0})]});return i.jsx(c("WAWebCellFrame.react"),{primary:b,secondary:e,theme:"plain",idle:!0,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatKeptByMsgInfoCell.react",["WAWebChatCell.react","WAWebClock","WAWebContactGetters","WAWebDetailImage.react","WAWebEmojiText.react","WAWebFrontendContactGetters","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.contact,e=a.kicTimestampMs;a=a.theme;b=d("useWAWebContactValues").useContactValues(b.id,[d("WAWebContactGetters").getId,d("WAWebContactGetters").getName,d("WAWebFrontendContactGetters").getFormattedName,d("WAWebContactGetters").getNotifyName]);var f=b[0],g=b[1],h=b[2];b=b[3];f=i.jsx(d("WAWebDetailImage.react").DetailImage,{id:f});var j;e!=null&&(j=d("WAWebClock").Clock.relativeDateAndTimeStr(e/1e3));e=i.jsx("span",{title:j,children:j});var k;!g&&b&&(k=i.jsx(d("WAWebEmojiText.react").EmojiText,{className:"xxayilr",direction:"auto",text:b}));return i.jsx(c("WAWebChatCell.react"),{contextEnabled:function(){return!1},image:f,primary:i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:h,titlify:!0,ellipsify:!0}),secondary:e,secondaryDetail:k,style:"x1sqbtui x1bnvlk4",theme:a,idle:!0,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAvatarOverlay.react",["$InternalEnum","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react");a=(h||(h=d("react"))).forwardRef;var l=b("$InternalEnum").Mirrored(["DEFAULT","COMMUNITY"]),m={overlay:{position:"x10l6tqk",top:"x13vifvy",start:"x17qophe",zIndex:"xfo81ep",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",height:"x5yr21d",paddingTop:"xqy66fx",fontSize:"x1nxh6w3",lineHeight:"x1u7k74",color:"x1j16vfr",textTransform:"xtvhhri",backgroundColor:"x146q241",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},noBorderRadius:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};e=a(function(a,b){return k.jsxs("div",{ref:b,className:(i||(i=c("stylex")))([m.overlay,a.theme===l.COMMUNITY&&m.noBorderRadius]),children:[k.jsx("div",{className:"x7o08j2",children:a.icon}),k.jsx("div",{"data-testid":void 0,className:"x1exxlbk x1anpbxc x2b8uid x1mzt3pk",children:a.text})]},"avatar-overlay")});g.AvatarOverlayTheme=l;g.AvatarOverlay=e}),98);
__d("WAWebImageGallery.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={imageGallery:"_ak40",imageGalleryList:"_ak41",imageGalleryItem:"_ak3y",imageGalleryItemSpacer:"_ak42",imageGalleryItemImage:"_ak3-",imageGalleryItemOverlay:"_ak3w",selected:"_ak3z",imageGalleryFooter:"_ak3_",focusAnimation:"_ak3x"};b=a;g["default"]=b}),98);
__d("WAWebImageGallery.react",["fbt","WALogger","WANullthrows","WAWebClassnames","WAWebDomScroll","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendConstants","WAWebImageGallery.scss","WAWebKeyboardHotKeys.react","WAWebSetRefCache","WAWebSingleSelection","WAWebSpinner.react","WAWebTabOrder","WAWebUnstyledButton.react","err","lodash","react","useWAWebLazyRef","useWAWebThrottledCallback"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);k=function(){return a};return a}b=j||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useEffect,o=b.useImperativeHandle,p=b.useRef,q=b.useState,r=3;e=l.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onImageClick,f=a.isLoadingMore,g=a.canLoadMore,i=a.onRequestMoreImages,j=a.onFocusPrev,s=a.thumbnails,t=p(null),u=c("useWAWebLazyRef")(function(){return new Map()}),v=p(null),w=c("useWAWebLazyRef")(function(){return new(c("WAWebSingleSelection"))(s,function(a){return a.id})}),x=q(null),y=x[0],z=x[1],A=m(function(a,b){a===void 0;b===void 0&&(b=!1);a=w.current;var e=a.getVal();if(e&&y!==e){z(e);if(a.index>-1){e=u.current.get(""+a.index);c("WAWebFocusTracer").focus(e);b&&e&&d("WAWebDomScroll").scrollIntoViewIfNeeded(e,!1)}}},[u,y,w]);x=function(a,b){b?u.current.set(a,b):u.current["delete"](a)};var B=new(c("WAWebSetRefCache"))(x);x=function(a){a.preventDefault(),a.stopPropagation()};var C=function(a){a=a.target;e&&a.nodeType===1&&a.tagName==="IMG"&&e(a.src)},D=function(a){a=w.current.getVal();a||d("WALogger").ERROR(k()).sendLogs("No value selected, but enter clicked");e&&a&&e(a.thumbUrl)},E=m(function(){if(f)return;if(!g||!i)return;if(!t.current)throw c("err")("Requesting more images when body not rendered");t.current.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>t.current.scrollHeight-t.current.clientHeight&&i()},[g,f,i]),F=c("useWAWebThrottledCallback")(E,100),G=function(a){a.preventDefault(),a.stopPropagation(),w.current.setPrev(!1),A(!0,!0)},H=function(a){a.preventDefault(),a.stopPropagation(),w.current.setNext(!1),A(!0,!0)},I=function(a){a.preventDefault();a.stopPropagation();if(w.current.index===0&&j)j();else{a=Math.max(w.current.index-r,0);w.current.set(a,!1,!1);A(!0,!0)}},J=function(a){a.preventDefault(),a.stopPropagation(),w.current.set(w.current.index+r,!1,!1),A(!0,!0)},K=function(a){a.stopPropagation();a.preventDefault();(w.current.index==null||w.current.index<0)&&w.current.setFirst(!1);A(!0,!1);a=c("WANullthrows")(u.current.get(""+w.current.index));a=a.getElementsByClassName(c("WAWebImageGallery.scss").imageGalleryItemOverlay);if(a.length!==1)throw c("err")("Unexpected number of overlay elements "+a.length);c("WAWebFocusIndicator").maybeIndicateFocus(a[0],c("WAWebImageGallery.scss").focusAnimation)},L=function(){w.current.unset(),z(void 0)};n(function(){E(),w.current.init(s,!1),A()},[E,w,s,A]);var M=function(){v.current&&v.current.focus()};o(b,function(){return{focus:M,handleRequestDismiss:L}});b={down:J,enter:D,left:G,right:H,up:I};J=c("lodash").map(a.thumbnails,function(a,b){var e,f=a.id,g=a.name;a=a.thumbUrl;var i=y?y.id===f:!1;i=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebImageGallery.scss").selected]=i,e[c("WAWebImageGallery.scss").imageGalleryItem]=!0,e));e=l.jsx("div",{className:c("WAWebImageGallery.scss").imageGalleryItemOverlay});return l.jsxs("div",{ref:B.getRefSetter(""+b),className:i,tabIndex:-1,children:[e,l.jsx(c("WAWebUnstyledButton.react"),{onClick:C,children:l.jsx("img",{alt:h._("__JHASH__A6A8fFeKsoD__JHASH__",[h._param("name",g)]),className:c("WAWebImageGallery.scss").imageGalleryItemImage,src:a})})]},f)});D=a.isLoadingMore?l.jsx("div",{tabIndex:-1,className:c("WAWebImageGallery.scss").imageGalleryFooter,children:l.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24})}):null;return l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{className:c("WAWebImageGallery.scss").imageGallery,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_IMAGE_GALLERY,handlers:b,onFocus:K,onMouseDown:x,ref:v,children:l.jsxs("div",{ref:t,className:c("WAWebImageGallery.scss").imageGalleryList,onScroll:F,children:[J,l.jsx("div",{tabIndex:-1,className:c("WAWebImageGallery.scss").imageGalleryItemSpacer}),l.jsx("div",{tabIndex:-1,className:c("WAWebImageGallery.scss").imageGalleryItemSpacer}),l.jsx("div",{tabIndex:-1,className:c("WAWebImageGallery.scss").imageGalleryItemSpacer}),D]})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebCameraIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="camera";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M21.317,4.381H10.971L9.078,2.45C8.832,2.199,8.342,1.993,7.989,1.993H4.905 c-0.352,0-0.837,0.211-1.078,0.468L1.201,5.272C0.96,5.529,0.763,6.028,0.763,6.38v1.878c0,0.003-0.002,0.007-0.002,0.01v11.189 c0,1.061,0.86,1.921,1.921,1.921h18.634c1.061,0,1.921-0.86,1.921-1.921V6.302C23.238,5.241,22.378,4.381,21.317,4.381z  M12.076,18.51c-3.08,0-5.577-2.497-5.577-5.577s2.497-5.577,5.577-5.577s5.577,2.497,5.577,5.577 C17.654,16.013,15.157,18.51,12.076,18.51z M12.076,9.004c-2.17,0-3.929,1.759-3.929,3.929s1.759,3.929,3.929,3.929 s3.929-1.759,3.929-3.929C16.004,10.763,14.245,9.004,12.076,9.004z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CameraIcon=a}),98);
__d("WAWebCheckmarkLargeIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="checkmark-large";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=30;m=30;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 30 30",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 30 30",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M9.9,21.25l-6.7-6.7L1,16.75l8.9,8.9L29,6.55l-2.2-2.2L9.9,21.25z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckmarkLargeIcon=a}),98);
__d("WAWebUtilsGetColor",["WANullthrows","err"],(function(a,b,c,d,e,f,g){var h=new Map([["sand-200","rgb(234, 224, 214)"],["sand-300","rgb(170, 148, 125)"],["sand-600","rgb(94, 83, 72)"]]),i=function(a){return getComputedStyle(c("WANullthrows")(document.body)).getPropertyValue(a)};function a(a,b){var d=a==="sand"?c("WANullthrows")(h.get(a+"-"+b)):i("--wds-"+a+"-"+b);if(d==="")throw c("err")("Get color failed (color="+a+" depth="+b+"). Please check whether wds color changed or there is a typo in color name.");return d}g["default"]=a}),98);
__d("WAWebEditGroupProfileDrawerColorPanel.react",["WAWebClassnames","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebThemeContext","WAWebUtilsGetColor","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useContext,m=b.useRef,n={btn:{width:"x1td3qas",height:"x10w6t97",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",":focus_borderTopStartRadius":"x80oadr",":focus_borderTopEndRadius":"xwq6b5d",":focus_borderBottomEndRadius":"xtm992s",":focus_borderBottomStartRadius":"xc4qb57",$$css:!0},btnSelected:{width:"x1ksvffz",height:"xqaafxp",$$css:!0}};function a(a){var b=a.className,e=a.colors,f=a.onSelect,g=a.selectedIndex;a=l(d("WAWebThemeContext").ThemeContext);var h=a.theme,j=m(g),o=m([]),p={rows:e,getNum:function(){return p.rows.reduce(function(a,b){return a+b.length},0)}};a={right:function(){var a=j.current===p.getNum()-1?0:j.current+1;(a=o.current[a])==null?void 0:a.focus()},left:function(){var a=j.current===0?p.getNum()-1:j.current-1;(a=o.current[a])==null?void 0:a.focus()}};var q=0;return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{role:"tablist",handlers:a,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(b),children:p.rows.map(function(a,b){return k.jsx(d("WAWebFlex.react").FlexRow,{className:"xzbgwbi",justify:"center",children:a.map(function(a){var b=q++,e=g===b;return k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",children:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",className:"x9f619 x1n7h9c3 x1s1d1n7 x14yjl9h xudhj91 x18nykt9 xww2gxu x1hiyaco x1cd8eua",style:{border:e?"1.5px solid "+c("WAWebUtilsGetColor")(a,h==="light"?600:300):""},children:k.jsx("button",{role:"tab",ref:function(a){return o.current[b]=a},tabIndex:e?0:-1,"aria-selected":e,className:(i||(i=c("stylex")))(n.btn,e&&n.btnSelected),style:{backgroundColor:c("WAWebUtilsGetColor")(a,200)},onClick:function(){return f(b)},onFocus:function(){return j.current=b}})})},b)})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorStickerIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-sticker";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M22.492 10.0663C22.4899 9.87314 22.4875 9.67478 22.4823 9.4911C22.4613 8.68504 22.42 8.07629 22.3069 7.456C22.1771 6.74019 21.882 5.9027 21.5721 5.30025C21.2569 4.68415 20.8413 4.12354 20.3429 3.63024C19.8476 3.138 19.2816 2.72605 18.6554 2.41119C18.0523 2.10576 17.2104 1.81134 16.4869 1.68329C15.8691 1.57203 15.2575 1.52999 14.4335 1.50795C14.1005 1.49955 10.6565 1.49535 9.58425 1.50795C8.74865 1.52894 8.13609 1.57203 7.51619 1.68329C6.79473 1.81238 5.95342 2.1053 5.34714 2.41177C4.72306 2.72559 4.15656 3.13806 3.65918 3.63136C3.16389 4.1215 2.74885 4.68159 2.43053 5.30084C2.12268 5.90119 1.82571 6.7381 1.69482 7.4539C1.58277 8.07419 1.54148 8.69868 1.51949 9.4911C1.51111 9.78183 1.5 12.5159 1.5 12.5159C1.5 13.0617 1.5111 14.2446 1.51948 14.5364C1.54042 15.3288 1.58383 15.9522 1.69482 16.5704C1.82676 17.2915 2.12344 18.1266 2.43129 18.7259C2.74857 19.3451 3.15777 19.9121 3.65515 20.4043C4.15044 20.8966 4.72435 21.3016 5.34948 21.6165C5.95471 21.9219 6.79473 22.215 7.51724 22.3441C7.60624 22.3599 7.6963 22.3705 7.78844 22.3831C8.29001 22.4544 8.66069 22.4779 9.49839 22.5C9.53504 22.501 11.7162 22.4726 12.1979 22.461C13.9434 22.419 15.71 21.8418 16.9938 20.659C18.1749 19.5695 19.2233 18.5885 20.06 17.7856C21.3605 16.5366 22.3215 14.4713 22.4336 12.6639L22.5018 11.5598C22.5028 11.2491 22.5018 11.0361 22.5018 10.8587C22.5028 10.8345 22.4931 10.0841 22.492 10.0663ZM18.8541 16.2428C18.0269 17.0373 16.9702 18.0273 15.7953 19.1104C15.1796 19.6782 14.4806 20.0586 13.6931 20.3052C13.7465 20.1552 13.8146 20.0518 13.845 19.887C13.889 19.6414 13.9078 19.4032 13.9151 19.1104C13.9183 19.0002 13.9246 18.2822 13.9246 18.2822C13.9382 17.7753 13.9685 17.3744 14.0366 17.0018C14.1089 16.604 14.224 16.2576 14.3884 15.9354C14.556 15.609 14.7748 15.3109 15.0387 15.0496C15.3047 14.7851 15.6062 14.5689 15.9382 14.402C16.267 14.2362 16.6188 14.1207 17.024 14.0483C17.3999 13.9811 17.7916 13.9507 18.3361 13.9371C18.3361 13.9371 18.7371 13.9381 19.0701 13.9339C19.3853 13.9255 19.6177 13.9077 19.8607 13.8646C20.0554 13.8289 20.1895 13.7544 20.3644 13.6873C20.0995 14.6686 19.5944 15.5312 18.8541 16.2428ZM20.5842 11.0445C20.5549 11.2019 20.5102 11.317 20.46 11.4146C20.3972 11.5364 20.3335 11.6337 20.2497 11.7166C20.1575 11.8079 20.0879 11.8537 19.9738 11.9114C19.8596 11.9691 19.735 12.0021 19.5853 12.0283C19.4376 12.0546 19.2732 12.0707 19.0408 12.077C18.7172 12.0812 18.3214 12.077 18.3214 12.077C17.6795 12.0938 17.2188 12.1294 16.7486 12.2134C16.1968 12.3121 15.6994 12.4751 15.2335 12.7102C14.7549 12.9505 14.1203 13.3553 13.7371 13.7353C13.357 14.111 13.0302 14.5688 12.7863 15.0442C12.5486 15.5081 12.3049 16.1716 12.2054 16.7194C12.1206 17.1886 12.0848 17.6588 12.0691 18.2529C12.0691 18.2529 12.0614 18.9708 12.0593 19.0684C12.053 19.2867 12.0368 19.4567 12.0106 19.6047C11.9844 19.7474 11.9503 19.8681 11.8937 19.9783C11.8351 20.0917 11.7792 20.1778 11.6892 20.267C11.597 20.3583 11.5111 20.41 11.3969 20.4677C11.3215 20.5055 11.2285 20.5362 11.017 20.5729C10.9888 20.5781 10.747 20.5974 10.5397 20.6016C10.5177 20.6016 9.57587 20.6122 9.53922 20.6111C8.76226 20.5912 8.21671 20.5613 7.79263 20.4773C7.21567 20.3744 6.69412 20.2355 6.2271 19.9994C5.74857 19.759 5.31574 19.4479 4.93668 19.0722C4.55658 18.6964 4.29917 18.2843 4.05728 17.8131C3.82168 17.3555 3.65538 16.859 3.55067 16.2881C3.45643 15.7685 3.41763 15.2123 3.39773 14.4933C3.3904 14.2141 3.39878 13.9234 3.39773 13.6043C3.39459 13.2979 3.3904 9.81122 3.39773 9.53308C3.41867 8.81413 3.45643 8.25891 3.55067 7.73623C3.65329 7.16947 3.82168 6.67407 4.05728 6.21436C4.29917 5.74311 4.57483 5.35737 4.95389 4.98268C5.334 4.60483 5.7675 4.28628 6.24499 4.04593C6.71305 3.80977 7.21567 3.65068 7.79158 3.54887C8.31828 3.45441 8.86174 3.40737 9.61357 3.38638C10.6691 3.37378 14.0743 3.37798 14.3895 3.38638C15.1403 3.40632 15.6837 3.45441 16.2083 3.54887C16.7863 3.65173 17.289 3.81082 17.7539 4.04593C18.2335 4.28732 18.667 4.59737 19.046 4.97312C19.4272 5.34991 19.704 5.74206 19.9438 6.21121C20.1826 6.67407 20.3489 7.16947 20.4504 7.73623C20.5457 8.25996 20.5835 8.79944 20.6034 9.53308C20.6117 9.81752 20.6225 10.4428 20.6225 10.5866C20.6172 10.7703 20.6073 10.9185 20.5842 11.0445Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorStickerIcon=a}),98);
__d("WAWebMediaEditorUtilsCreateCanvasAndImage",["Promise","WAWebCopyStickerToClipboard","WAWebEmoji","WAWebFeatureDetectionDetectWebpSupport","WAWebFileUtils","WAWebInMemoryLottieStickerCache","WAWebMediaInMemoryBlobCache","WAWebWebpToAnimationFrames","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.rgbaBuffer;if(!b){var e=d("WAWebMediaInMemoryBlobCache").InMemoryMediaBlobCache.get(a.filehash);if(!e)throw c("err")("Failed to get media blob");e=(yield d("WAWebFileUtils").blobToArrayBuffer(e));e=(yield c("WAWebWebpToAnimationFrames")(e)).frames[0];if(!e)throw c("err")("Failed to get sticker first frame.");b=e.rgbaBuffer}e=a.fullWidth;a=a.fullHeight;var f=document.createElement("canvas");f.width=e;f.height=a;var g=f.getContext("2d");e=g.createImageData(e,a);e.data.set(new Uint8Array(b));g.putImageData(e,0,0);return f});return j.apply(this,arguments)}function k(a){return new(h||(h=b("Promise")))(function(b,c){var d=new Image();d.crossOrigin="anonymous";d.onload=function(){b(d)};d.onerror=c;d.src=a})}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebEmoji").EmojiUtil.getGlyphPath(a,160);if(a==null)return;a=(yield k(a));return a});return l.apply(this,arguments)}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.mediaData.isLottie===!0){var b=d("WAWebInMemoryLottieStickerCache").InMemoryLottieStickerCache.get(a.filehash);b=(yield d("WAWebCopyStickerToClipboard").createCanvasFromLottieSticker(b))}else if(yield d("WAWebFeatureDetectionDetectWebpSupport").detectWebpSupport()){var c=a.mediaData.filehash;c=d("WAWebMediaInMemoryBlobCache").InMemoryMediaBlobCache.getOrCreateURL(c);b=(yield k(c))}else b=(yield i(a.mediaData));return b});return m.apply(this,arguments)}g.createCanvasFromSticker=i;g.createImageFromEmoji=a;g.createImageFromSticker=e}),98);
__d("WAWebProfileCropConstants",[],(function(a,b,c,d,e,f){a=192;b=640;c=96;f.PROF_PIC_MIN_SIDE=a;f.PROF_PIC_MAX_SIDE=b;f.PROF_PIC_THUMB_SIDE=c}),66);
__d("WAWebUtilsSharpenFilter",[],(function(a,b,c,d,e,f){function a(a){var b=[0,-1,0,-1,5,-1,0,-1,0],c=Math.round(Math.sqrt(b.length)),d=c*.5|0,e=a.data,f=a.width;a=a.height;var g=new Uint8ClampedArray(e);for(var h=0;h<a;h++)for(var i=0;i<f;i++){var j=i,k=h,l=(h*f+i)*4,m=[0,0,0];for(var n=0;n<c;n++)for(var o=0;o<c;o++){var p=k+n-d,q=j+o-d;if(p>=0&&p<a&&q>=0&&q<f){p=(p*f+q)*4;q=b[n*c+o];m[0]+=g[p]*q;m[1]+=g[p+1]*q;m[2]+=g[p+2]*q}}e[l]=m[0];e[l+1]=m[1];e[l+2]=m[2]}}f["default"]=a}),66);
__d("WAWebEditGroupProfileDrawer.react",["fbt","$InternalEnum","WANullthrows","WAWebCheckmarkLargeIcon","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEditGroupProfileDrawerColorPanel.react","WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react","WAWebFlex.react","WAWebFlexItem.react","WAWebIconTabs.react","WAWebMediaEditorEmojiIcon","WAWebMediaEditorStickerIcon","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebMediaEditorUtilsReactKonvaCore","WAWebProfileCropConstants","WAWebRound.react","WAWebToast.react","WAWebToastManager","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","asyncToGeneratorRuntime","err","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=64,p=b("$InternalEnum").Mirrored(["EMOJI","STICKER"]),q={body:{flexGrow:"x1iyjqo2",$$css:!0},footer:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",height:"xwvwv9b",zIndex:"xhtitgo",alignItems:"x7a106z",justifyContent:"xl56j7k",backgroundColor:"x1sapvj0",$$css:!0}},r={emojiIcon:{width:"x17z2i9w",height:"x17rw0jw",$$css:!0},stickerIcon:{width:"x1ig0tib",height:"x1pwvq5b",$$css:!0}},s=[["purple","sky-blue","green","yellow","orange","pink"],["cool-gray","cobalt","teal","red","sand"]],t=(e=[]).concat.apply(e,s),u=160,v=104,w={width:90,height:48};function x(a){var b=[];a=a.split(" ");for(var c=0;c<a.length;c++)a[c].length>0&&b.push(a[c]);return b}function y(a,b){var c="";for(var d=0;d<b.length;d++)c+=(d===0?"":" ")+b[d].text;d=x(c);if(a.length!==d.length)return!0;for(b=0;b<a.length;b++)if(a[b]!==d[b])return!0;return!1}function a(a){var e=a.onCancel,f=a.onFinished,g=a.sendEmojiStickerPanelOpenLoggingEvent;a=a.title;var i=n(null),j=i[0],z=i[1];i=n(null);var A=i[0],B=i[1];i=n(null);var C=i[0],D=i[1];i=n(0);var E=i[0],F=i[1],G=m(null),H=m(null),I=m(!1),J={EMOJI:0,STICKER:1},K=m((i={},i[J.EMOJI]=function(){},i[J.STICKER]=function(){},i));i=m([]);var L=m(null),M=h._("__JHASH__otlA9IrYrsx__JHASH__").toString();l(function(){var a;(a=H.current)==null?void 0:a.cache()},[j]);l(function(){var a=L.current;if(a==null)return;var b=x(M),c=y(b,a.textArr);while(a.getHeight()>w.height||c)a.fontSize(a.fontSize()-1),c=y(b,a.textArr)},[M]);var N=k.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Stage,{width:u,height:u,className:"xqui205 xqmxbcd x1hq5gj4 xmupa6y x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 xc8icb0",ref:G,onClick:function(){j==null&&C==null&&D(0)},children:k.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,{children:[k.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{width:u,height:u,fill:c("WAWebUtilsGetColor")(t[E],200)}),j==null?k.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Text,{ref:L,x:u/2,y:u/2,width:w.width,height:w.height,offset:{x:w.width/2,y:w.height/2},lineHeight:1.14,align:"center",verticalAlign:"middle",text:M,fontSize:14,fontFamily:'"SF Pro Text", "SF Pro Icons", system, -apple-system, system-ui, "system-ui", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "Kohinoor Devanagari", sans-serif',fill:c("WAWebUtilsGetColor")("cool-gray-alpha",50)}):k.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Image,{ref:H,width:v,height:v,offset:{x:v/2,y:v/2},x:u/2,y:u/2,image:j,filters:A===p.EMOJI&&I.current?[c("WAWebUtilsSharpenFilter")]:[]})]})});Object.values(J).forEach(function(a){typeof a==="number"&&(K.current[a]=function(){C===a&&D(null)})});var O=function(a){g!=null&&g(a)},P=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{if(a!=null){a=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(a));a&&(z(a),I.current=a.naturalWidth<=o&&a.naturalHeight<=o,B(p.EMOJI))}else if(b!=null){a=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromSticker(b));z(a);B(p.STICKER)}else throw c("err")("Neither emoji nor sticker is provided in handleEmojiStickerSelect()")}catch(a){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__C9w8O5X_0tX__JHASH__")}))}});return function(b,c){return a.apply(this,arguments)}}(),Q=function(){if(j==null)d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__hMxSdmwM_-a__JHASH__"),id:"ChooseAnEmojiOrStickerToContinueToast"}),d("WAWebToastManager").ToastPosition.CENTER);else{var a,b;a=(a=(a=G.current)==null?void 0:a.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/u,quality:0,width:u,height:u}))!=null?a:"";b=(b=(b=G.current)==null?void 0:b.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/u,quality:1,width:u,height:u}))!=null?b:"";f(a,b,c("WANullthrows")(A))}};Q=k.jsx("div",{className:"x1cb1t30",children:k.jsx(d("WAWebRound.react").Round,{large:!0,onClick:Q,theme:j==null?d("WAWebRound.react").RoundTheme.Disabled:void 0,label:h._("__JHASH__gW0TpUvEri4__JHASH__"),children:k.jsx(d("WAWebCheckmarkLargeIcon").CheckmarkLargeIcon,{})})},"btn-submit");return k.jsxs(c("WAWebDrawer.react"),{theme:"products",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:"multiMediaGallery",onCancel:e}),k.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[k.jsxs(d("WAWebFlex.react").FlexColumn,{className:"xa03szm x1n2onr6 xh8yej3 x5yr21d",align:"center",justify:"center",children:[k.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:q.body,children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{children:N}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebIconTabs.react").IconTabs,{refs:i.current,selectedIndex:C,onSelect:function(a){a!==C&&(D(a),O(a===J.EMOJI?p.EMOJI:p.STICKER))},tabConfigs:[{Icon:d("WAWebMediaEditorEmojiIcon").MediaEditorEmojiIcon,iconStyle:r.emojiIcon,ariaLabel:h._("__JHASH__tJd2_iASRmu__JHASH__")},{Icon:d("WAWebMediaEditorStickerIcon").MediaEditorStickerIcon,iconStyle:r.stickerIcon,ariaLabel:h._("__JHASH__Lgi_15kaHGu__JHASH__")}],popupAtLaunch:!0})}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(c("WAWebEditGroupProfileDrawerColorPanel.react"),{className:"x1yl842u",colors:s,selectedIndex:E,onSelect:function(a){F(a)}})})]})}),k.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:q.footer,children:Q})]}),C===J.EMOJI&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").EmojiPanelPopup,{anchor:c("WANullthrows")((a=i.current[J.EMOJI])==null?void 0:a.current),onSelect:P,onClose:function(){return K.current[J.EMOJI]()}}),C===J.STICKER&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").StickerPanelPopup,{anchor:c("WANullthrows")((e=i.current[J.STICKER])==null?void 0:e.current),onSelect:function(a){return P(null,a)},onClose:function(){return K.current[J.STICKER]()}})]})]},"attach-edit-group-profile-modal")}a.displayName=a.name+" [from "+f.id+"]";g.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=o;g.ImageType=p;g.COLOR_OPTIONS=t;g.PHOTO_SIZE=u;g.IMAGE_SIZE=v;g.EditGroupProfileDrawer=a}),226);
__d("WAWebEditImageDrawer.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={btnSend:"_alhy",attributionLink:"_ali1",mediaBody:"_ali4",attribution:"_ali0",footer:"_ali3",containerBackground:"_ali5",retake:"_alh-",retakeIcon:"_alh_",mediaElementBase:"_alis",mediaElement:"_alhz",hintText:"_ali2"};b=a;g["default"]=b}),98);
__d("WAWebEditedMedia",["WAWebFileUtils","WAWebURLUtils","lodash"],(function(a,b,c,d,e,f,g){a=function a(b,e,f,g){var h=this;this.updateEditData=function(a){h.saveEdits(),h.editData=c("lodash").merge({},h.editData,a)};this.updateEditItems=function(a,b){h.saveEdits();var c=[];h.editData.items&&h.editData.items.forEach(function(a){a!==b&&c.push(a)});c.push(a);h.editData.items=c};this.saveEdits=function(){var b=new a(h.media,h.originalImage,h.editData,h.previous);h.previous=b};this.revertEdit=function(){h.previous&&(h.editData=h.previous.editData,h.previous=h.previous.previous)};this.saveEditsFromCanvas=function(a){a=a.toDataURL();h.editedImage||(h.editedImage=new Image());h.editedImage.src=a};this.exportEditedMedia=function(){if(h.hasEdits()&&h.editedImage){var a=h.editedImage.src;return c("WAWebURLUtils").dataURLtoFile(a)}else if(h.media instanceof File)return h.media;return d("WAWebFileUtils").createFile([h.media],"",{type:h.media.type})};this.hasEdits=function(){return!!h.previous&&h.editedImage};this.cleanUp=function(){window.URL.revokeObjectURL(h.originalImage.src)};this.media=b;e?this.originalImage=e:(this.originalImage=new Image(),this.originalImage.src=window.URL.createObjectURL(b));this.previous=g;this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null};c("lodash").merge(this.editData,f)};g["default"]=a}),98);
__d("WAWebStaticCanvas.react",["react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react");e=(h||(h=d("react"))).memo;c=j.forwardRef(a);function a(a,b){a=a.className;return j.jsx("canvas",{className:a,ref:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.className===b.className}d=e(c,b);g["default"]=d}),98);
__d("WAWebMediaEditCanvas.react",["WAWeb-easeljs","WAWebObjectFit.react","WAWebStaticCanvas.react","isNonZeroNumber","react","useWAWebForceUpdate","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState;e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.mediaEditController,f=a.editedMedia,g=a.mediaPickerStatsLogger,h=a.activeMediaId,i=m(null),o=m(null),p=m(null),q=m(null),r=n({height:1,width:1}),s=r[0],t=r[1];r=n(null);var u=r[0],v=r[1],w=c("useWAWebForceUpdate")(),x=function(a){var b;u?b=u:(b=new(d("WAWeb-easeljs").Easel.Stage)(a),b.enableMouseOver());e.stage=b;return b},y=function(a,b){if(!i.current)return;var c=i.current;b&&g&&h!=null&&g.logChange(h,b);b=f.editData;var e=x(c);a&&(c.width=b.width,c.height=b.height);e.removeAllChildren();b.baseItem!=null&&e.addChild(b.baseItem);b.items&&e.addChild.apply(e,b.items);a=f.originalImage.naturalWidth;var j=f.originalImage.naturalHeight;e.regX=a/2;e.regY=j/2;e.rotation=b.rotation;d("isNonZeroNumber").isNonZeroNumber(b.width)&&d("isNonZeroNumber").isNonZeroNumber(b.height)&&(e.x=b.width/2+b.scale*b.offsetX,e.y=b.height/2+b.scale*b.offsetY);e.scaleX=b.scale;e.scaleY=b.scale;e.update();t({width:c.width,height:c.height});v(e)},z=function(){var a=f.editData;f.editedImage=null;var b=f.originalImage;!a.width&&!a.height&&(a.width=b.naturalWidth,a.height=b.naturalHeight);if(!a.baseItem){b=new(d("WAWeb-easeljs").Easel.Bitmap)(b);a.baseItem=b}y(!0)},A=function(){var a=f.originalImage;!a.complete?a.onload=z:z()},B=function(){y(!0);var a=i.current;a&&f.saveEditsFromCanvas(a)},C=function(a){if(!a)return;a.children.forEach(function(a){a.removeAllEventListeners()});a.removeAllEventListeners();a.removeAllChildren();a.enableMouseOver(0);a.clear()};k(function(){A(),w,q.current=new(d("WAWeb-easeljs").Easel.Stage)(p.current),q.current.autoClear=!1,q.current.enableMouseOver(),o.current&&(e.mediaContainer=o.current),e.cropOverlay=q.current},[]);c("useWAWebOnUnmount")(function(){var a=f.originalImage;a.complete||(a.onload=void 0);B();C(u);C(q.current)});var D=function(a,b){t({width:a,height:b})};l(b,function(){return{saveCanvas:B,drawCanvas:y,updateCanvasSize:D}});r=j.jsx("canvas",{ref:p,className:"x10l6tqk xzkaem6 x1s85apg x1qrby5j x3igimt"});b=j.jsx("div",{className:a.className,ref:o,children:j.jsxs(c("WAWebObjectFit.react"),{type:a.fitType||"scaleDown",size:s,children:[r,j.jsx(c("WAWebStaticCanvas.react"),{ref:i,className:"xhtitgo xh8yej3 x5yr21d"})]})});return b}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebMediaEditControllerModel",["WAWebBaseModel"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.id=d("WAWebBaseModel").prop(),c.stage=d("WAWebBaseModel").prop(),c.cropOverlay=d("WAWebBaseModel").prop(),c.mediaContainer=d("WAWebBaseModel").prop(),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.clearStage=function(a){if(!a)return;a.children.forEach(function(a){a.removeAllEventListeners()});a.removeAllEventListeners();a.removeAllChildren();a.clear()};return b}(d("WAWebBaseModel").BaseModel);b=d("WAWebBaseModel").defineModel(a);g["default"]=b}),98);
__d("WAWebMinusIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="minus";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=28;m=28;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 28 28",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 28 28",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M8.381,14.803v-1.605h11.237v1.605C19.618,14.803,8.381,14.803,8.381,14.803z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MinusIcon=a}),98);
__d("WAWebProfileCropTool.react",["fbt","$InternalEnum","WAWeb-easeljs","WAWebImageUtils","WAWebKeyboardHotKeys.react","WAWebMinusIcon","WAWebPlusIcon","WAWebProfileCropConstants","WAWebUnstyledButton.react","asyncToGeneratorRuntime","err","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o={scalerButton:{color:"xt16idv",cursor:"x1ypdohk",$$css:!0}},p="rgba(0, 0, 0, 0.5)",q=1.1,r=1.02,s=361,t=500,u=9/16,v=2+u,w="M90 0C0 0 0 0 0 90s0 90 90 90 90 0 90-90 0-90-90-90Z",x=b("$InternalEnum").Mirrored(["CIRCLE","RECT","SQUIRCLE"]);e=k.forwardRef(a);function a(a,e){var f=babelHelpers["extends"]({},a),g=f.editedMedia,i=f.cropOverlay,j=f.drawCanvas,y=n(0),z=function(a,b){var c=g.editData,d=y.current*v,e=(a-c.width/2)*c.scale;a=(a+c.width/2)*c.scale;var f=(b+c.height/2)*c.scale;b=(b-c.height/2)*c.scale;var h=d/2;d=d/2*u;return{overlapLeft:Math.min(0,-h-e)/c.scale,overlapRight:Math.min(0,a-h)/c.scale,overlapTop:Math.min(0,-d-b)/c.scale,overlapBottom:Math.min(0,f-d)/c.scale,x:e<-h&&a>h,y:b<-d&&f>d}},A=function(a,b){var c=g.editData,d=y.current,e=(a-c.width/2)*c.scale;a=(a+c.width/2)*c.scale;var f=(b+c.height/2)*c.scale;b=(b-c.height/2)*c.scale;return{x:e<-d&&a>d,y:b<-d&&f>d}},B=function(a,b){var c=g.editData;a=c.offsetX+a/c.scale;b=c.offsetY+b/c.scale;var d=f.cropShape===x.RECT?z(a,b):A(a,b);d.x&&(c.offsetX=a);d.y&&(c.offsetY=b);j()},C=function(a,b){var c=a.stageX-b.x,d=a.stageY-b.y;B(c,d);b.x=a.stageX;b.y=a.stageY;return},D=function(a){var b=y.current,c=g.editData;b=b*v;b=Math.max(a,b/c.width);a=Math.max(a,b);c.scale=a;b=z(c.offsetX,c.offsetY);return{scale:c.scale,offsetX:c.offsetX+b.overlapLeft-b.overlapRight,offsetY:c.offsetY+b.overlapTop-b.overlapBottom}},E=function(a){var b=y.current,c=g.editData,d=Math.max(2*b/c.width,2*b/c.height);d=Math.max(a,d);if(c.width*a<b||c.height*a<b)return!1;a=-b/d+c.width/2;var e=b/d-c.width/2,f=-b/d+c.height/2;b=b/d-c.height/2;return{scale:d,offsetX:Math.min(Math.max(c.offsetX,e),a),offsetY:Math.min(Math.max(c.offsetY,b),f)}},F=function(a){return f.cropShape===x.RECT?D(a):E(a)},G=function(a){a===void 0&&(a=q);var b=g.editData;a=a!==0?a:q;a=F(b.scale*a);a&&(b.scale=a.scale,b.offsetX=a.offsetX,b.offsetY=a.offsetY,j())},H=function(a){a===void 0&&(a=q);var b=g.editData;a=a!==0?a:q;a=F(b.scale/a);a&&(b.scale=a.scale,b.offsetX=a.offsetX,b.offsetY=a.offsetY,j())};d("useWAWebListener").useListener(i.canvas,"mousewheel",function(a){a.deltaY>0?G(r):H(r)});l(function(){g.saveEdits();var a=g.editData,b=i.canvas;a.baseItem?a=a.baseItem.getBounds():a={width:0,height:0};b.style.display="block";b.width=a.width;b.height=a.height;var c=new(d("WAWeb-easeljs").Easel.Shape)();c.graphics.beginFill("rgba(0, 0, 0, 0.1)");c.graphics.drawRect(0,0,a.width,a.height);c.regX=a.width/2;c.regY=a.height/2;c.x=a.width/2;c.y=a.height/2;c.on("mousedown",function(a){a={x:a.stageX,y:a.stageY};var b=c.on("pressmove",C,null,!1,a);c.on("pressup",function(){c.off("pressmove",b)},null,!0)});c.cursor="move";a=b.getContext("2d");var e=b.width;b=b.height;var h=e/b>t/s?b/s:e/t;y.current=Math.min(s,t)/2*.9*h;var j=y.current,k;a.fillStyle=p;a.fillRect(0,0,e,b);a.globalCompositeOperation="destination-out";a.beginPath();if(f.cropShape===x.CIRCLE)a.arc(e/2,b/2,j,0,2*Math.PI,!0);else if(f.cropShape===x.RECT){var l=j*v,m=j*v*u;a.fillRect(e/2-l/2,b/2-m/2,l,m)}else if(f.cropShape===x.SQUIRCLE){k=new Path2D(w);a.translate(e/2-j,b/2-j);l=h*2*.9;a.scale(l,l)}a.fillStyle="#ffffff";k?a.fill(k):a.fill();i.addChild(c);i.update()},[]);var I=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=g.editData;a=(a=g.editedImage)==null?void 0:a.src;var e=y.current;if(!a)throw c("err")("empty image");var f=e*2,h=f;f>d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE?h=d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE:f<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE&&(h=d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE);f=e*v;e=e*v*u;a=(yield d("WAWebImageUtils").crop(a,b.width/2-f/2,b.height/2-e/2,f,e,h,h*u,d("WAWebImageUtils").DATA_URL|d("WAWebImageUtils").CANVAS));b=a;f=a.images.dataUrl;return{thumb:b.images.dataUrl,full:f}});return function(){return a.apply(this,arguments)}}(),J=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=g.editData;a=(a=g.editedImage)==null?void 0:a.src;var e=y.current;if(!a)throw c("err")("empty image");e=e*2;var f=e;e>d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE?f=d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE:e<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE&&(f=d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE);a=(yield d("WAWebImageUtils").crop(a,(b.width-e)/2,(b.height-e)/2,e,e,f,f,d("WAWebImageUtils").DATA_URL|d("WAWebImageUtils").CANVAS));b=(yield d("WAWebImageUtils").crop(a.images.canvas,0,0,d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE,d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE));e=a.images.dataUrl;return{thumb:b.images.dataUrl,full:e}});return function(){return a.apply(this,arguments)}}(),K=function(){return f.cropShape===x.RECT?I():J()};m(e,function(){return{crop:K}});var L=n(null);a=function(a){if(!L.current)return;a=a?a.target:document.activeElement;if(a!==L.current)return};e={pageup:function(){return G()},pagedown:function(){return H()},down:function(){return B(0,-10)},up:function(){return B(0,10)},left:function(){return B(10,0)},right:function(){return B(-10,0)}};return k.jsxs("div",{className:"x10l6tqk xeo10n6 xoegz02 xgd8bvy x14ju556 x150wa6m x7s94mv xlqs5a9 x1v92rno x1zj97q x1ctnl55",children:[k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:e,onFocus:a,ref:L,"aria-label":h._("__JHASH__Nbqos_9YjzD__JHASH__"),tabIndex:0}),k.jsx(c("WAWebUnstyledButton.react"),{xstyle:o.scalerButton,onClick:function(){return G()},"aria-label":h._("__JHASH__SQc8zEZS_oj__JHASH__"),testid:void 0,children:k.jsx(d("WAWebPlusIcon").PlusIcon,{})}),k.jsx(c("WAWebUnstyledButton.react"),{xstyle:o.scalerButton,onClick:function(){return H()},"aria-label":h._("__JHASH__LrMHYfVC0Hm__JHASH__"),testid:void 0,children:k.jsx(d("WAWebMinusIcon").MinusIcon,{})})]})}a.displayName=a.name+" [from "+f.id+"]";a=e;g.CropShapeType=x;g.WrappedProfileCropTool=a}),226);
__d("WAWebReturnIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="return";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M19.77,11.73c0,1.64-0.5,2.95-1.48,3.89c-1.38,1.32-3.26,1.41-3.75,1.41c-0.07,0-0.11,0-0.12,0l-5.41,0v-2.1 h5.46c0.05,0,1.47,0.04,2.38-0.84c0.55-0.53,0.82-1.32,0.82-2.37c0-1.27-0.33-2.23-0.99-2.84c-0.98-0.92-2.43-0.85-2.44-0.85 l-4.23,0v3.1L4,7.07L10.01,3v2.93h4.16c0.03,0,2.29-0.13,3.95,1.42C19.21,8.38,19.77,9.85,19.77,11.73z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ReturnIcon=a}),98);
__d("useWAWebMediaEditControllerValues",["useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useModelGetterValues(a,b)}g.useMediaEditControllerValues=a}),98);
__d("WAWebEditImageDrawer.react",["fbt","WAHex","WAWebCheckmarkLargeIcon","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEditImageDrawer.scss","WAWebEditedMedia","WAWebExternalLink.react","WAWebMediaEditCanvas.react","WAWebMediaEditControllerGetters","WAWebMediaEditControllerModel","WAWebObjectFit.react","WAWebProfileCropTool.react","WAWebReturnIcon","WAWebRound.react","WAWebTosUrl","WAWebURLUtils","WAWebVelocityTransitionGroup","react","useWAWebLazyRef","useWAWebMediaEditControllerValues"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react"));b=a.forwardRef;var l=a.useRef,m=a.useState,n=361,o=500,p={NONE:"none",RETAKE:"retake",RESTART:"restart"};e=b(function(a,b){var e=a.attributionUrl,f=a.onRetake,g=a.retryText,i=a.onFinished,j=a.cropShape,q=l(),r=l(null),s=c("useWAWebLazyRef")(function(){return new(c("WAWebMediaEditControllerModel"))({id:d("WAHex").randomHex(8)})}),t=d("useWAWebMediaEditControllerValues").useMediaEditControllerValues(s.current,[d("WAWebMediaEditControllerGetters").getIsInitialized]);t=t[0];var u=m(!1),v=u[0],w=u[1];u=m({width:o,height:n});var x=u[0],y=u[1];u=m(function(){return new(c("WAWebEditedMedia"))(a.img)});var z=u[0],A=function(){var a;(a=q.current)==null?void 0:a.saveCanvas()};u=function(){var a;A();(a=r.current)==null?void 0:a.crop().then(function(a){var b=a.thumb;a=a.full;i(b,a);z.cleanUp()})};var B=function(a){if(a==null||!(a instanceof HTMLElement))return;x&&(x.width!==a.clientWidth||x.height!==a.clientHeight)&&y({width:a.clientWidth,height:a.clientHeight});v||w(!0)},C=function(a,b){var c;(c=q.current)==null?void 0:c.drawCanvas(a,b)};u=v?k.jsx("div",{className:c("WAWebEditImageDrawer.scss").btnSend,children:k.jsx(d("WAWebRound.react").Round,{large:!0,onClick:u,label:h._("__JHASH__dLplmpLrlRz__JHASH__"),children:k.jsx(d("WAWebCheckmarkLargeIcon").CheckmarkLargeIcon,{})})},"btn-send"):null;var D;t&&(D=k.jsx(d("WAWebProfileCropTool.react").WrappedProfileCropTool,{editedMedia:z,stage:s.current.stage,cropOverlay:s.current.cropOverlay,mediaContainer:s.current.mediaContainer,drawCanvas:C,ref:r,cropShape:j||d("WAWebProfileCropTool.react").CropShapeType.CIRCLE}));t=k.jsx(c("WAWebMediaEditCanvas.react"),{className:c("WAWebEditImageDrawer.scss").mediaElement,editedMedia:z,mediaEditController:s.current,fitType:"cover",ref:q});var E;if(f){var F;switch(g){case p.NONE:F=null;break;case p.RETAKE:F=h._("__JHASH__gzo29kra-Qa__JHASH__");break;case p.RESTART:default:F=h._("__JHASH__eHzEa7bXd6B__JHASH__")}E=k.jsxs("button",{className:c("WAWebEditImageDrawer.scss").retake,onClick:f,children:[k.jsx("div",{className:c("WAWebEditImageDrawer.scss").retakeIcon,children:k.jsx(d("WAWebReturnIcon").ReturnIcon,{})}),F]})}C=e?k.jsxs("div",{className:c("WAWebEditImageDrawer.scss").attribution,children:[k.jsx(d("WAWebExternalLink.react").ExternalLink,{className:c("WAWebEditImageDrawer.scss").attributionLink,href:e,children:c("WAWebURLUtils").hostname(e)}),k.jsxs("span",{children:[h._("__JHASH__ovJpHh9wQJM__JHASH__"),k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebTosUrl").getTosUrl(),children:h._("__JHASH__4s3CMFOZwtI__JHASH__")})]})]}):null;s=j===d("WAWebProfileCropTool.react").CropShapeType.RECT?k.jsx("div",{className:c("WAWebEditImageDrawer.scss").hintText,children:h._("__JHASH__tXW5QPfMfBd__JHASH__")}):void 0;g=k.jsxs("div",{className:c("WAWebEditImageDrawer.scss").footer,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",children:u}),C,s]});e=(f=a.imageSize)!=null?f:{width:o,height:n};return k.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"edit",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__wQS216Fkk_h__JHASH__"),type:"offset",onCancel:a.onCancel,focusBackOrCancel:!0,children:E}),k.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[k.jsxs("div",{className:c("WAWebEditImageDrawer.scss").mediaBody,children:[D,k.jsx("div",{className:c("WAWebEditImageDrawer.scss").containerBackground,children:k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"capture",children:k.jsx(c("WAWebObjectFit.react"),{type:"cover",size:e,onObjectLoad:B,children:t})})})]}),g]})]},"attach-edit-modal")});g.RETRY_OPTIONS=p;g.EditImageDrawer=e}),226);
__d("WAWebEditImageModal.react",["fbt","WAWebEditImageDrawer.react","WAWebModal.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.cropShape,c=a.img,e=a.onFinished,f=a.onRetake;a=a.theme;var g=function(){d("WAWebModalManager").ModalManager.close()},i=function(a,b){e(a,b),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebModal.react").Modal,{type:a,ariaLabel:h._("__JHASH__wQS216Fkk_h__JHASH__"),testid:void 0,children:j.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onCancel:g,onFinished:i,onRetake:f,retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.RESTART,img:c,cropShape:b||void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebImageSearchDrawerBingImageSearch",["WAWebL10N","WAWebMiscErrors","WAWebURLUtils","WAWebXHR","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h="https://www.bingapis.com/api/v6/images/search",i="D41D8CD98F00B204E9800998ECF8427E4F4A7492",j={SQUARE:"Square",WIDE:"Wide",TALL:"Tall",ALL:"All"},k={SMALL:"Small",MEDIUM:"Medium",LARGE:"Large",WALLPAPER:"Wallpaper",ALL:"All"},l={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW","zh-HK":"zh-HK"},m=30;function a(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e===void 0&&(e=m);e={q:a,SafeSearch:"Strict",appid:i,mkt:l[c("WAWebL10N").getNormalizedLocale()]||l.en,size:k.MEDIUM,aspect:j.SQUARE,count:e,offset:b};b=c("WAWebURLUtils").build(h,e);e=(yield c("WAWebXHR").get(b,c("WAWebXHR").RESP_TYPE.JSON));if(!Object.prototype.hasOwnProperty.call(e.response,"_type"))throw new(d("WAWebMiscErrors").InvalidServerResponseError)(b,e.status.toString(),"Not a valid Bing response: "+JSON.stringify(e.response));if(e.response._type==="ErrorResponse"){var f=e.response;throw new(d("WAWebMiscErrors").BingServerError)(a,e.status,f)}if(e.response._type!=="Images")throw new(d("WAWebMiscErrors").InvalidServerResponseError)(b,e.status.toString(),"Did not receive an image search response, potentially malformed query "+JSON.stringify(e.response));return e.response});return n.apply(this,arguments)}g.search=a}),98);
__d("WAWebImageSearchDrawerSearchImageRetry",["Promise","WABackoffUtils","WAPromiseDelays","WAPromiseLoop","WAWebEventsWaitForBbEvent","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h;function a(a){return d("WAPromiseLoop").promiseLoop(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,e){c=d("WAPromiseDelays").delayMs(d("WABackoffUtils").expBackoff(e,6e4,void 0,.1));try{yield i();e=(yield a());if(e.status>=500&&e.status<600)return c;b(e)}catch(a){return c}});return function(a,b,d){return c.apply(this,arguments)}}())}function i(){return d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.CONNECTED?(h||(h=b("Promise"))).resolve():c("WAWebEventsWaitForBbEvent")(d("WAWebSocketModel").Socket,"change:state",c("lodash").matches({state:d("WAWebSocketConstants").SOCKET_STATE.CONNECTED}))}g["default"]=a}),98);
__d("WAWebImageSearchDrawer.react",["fbt","WAAbortError","WALogger","WAUnicodeUtils","WAWebChatListSearch.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmptyState.react","WAWebFocusIndicator","WAWebFocusTracer","WAWebImageGallery.react","WAWebImageSearchDrawerBingImageSearch","WAWebImageSearchDrawerSearchImageRetry","WAWebKeyboardHotKeys.react","WAWebMiscErrors","WAWebPonyfillsFetch","WAWebToast.react","WAWebToastManager","WAWebUA","err","lodash","react","useWAWebDebouncedCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Image search failed"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Image search failed"]);l=function(){return a};return a}b=j||d("react");var m=i||(i=c("react"));e=b.forwardRef;var n=b.useRef,o=b.useState;function a(a,b){var e=a.onImageSelected,f=c("useWAWebUnmountSignal")(),g=n(null),i=n(null),j=n(null),p=n(!1),q=n(null),r=o({}),s=r[0],t=r[1];r=o(!1);var u=r[0],v=r[1];r=o(0);var w=r[0],x=r[1];r=o("");var y=r[0],z=r[1];r=o([]);var A=r[0],B=r[1];r=o(0);var C=r[0],D=r[1],E=function(a,b){var d=c("lodash").keyBy(b.value,function(a){return a.thumbnailUrl}),e=c("lodash").map(b.value,function(a){return{id:a.imageId,name:a.name,thumbUrl:a.thumbnailUrl}}),f=b.value.length;if(y===a){x(b.nextOffset?b.nextOffset:w+f);B(A.concat(e));D((a=b.totalEstimatedMatches)!=null?a:0);t(Object.assign(d,s))}else{t(d);x(b.nextOffset?b.nextOffset:w+f);z(y);B(e);D((a=b.totalEstimatedMatches)!=null?a:0)}},F=c("useWAWebDebouncedCallback")(function(a,b){p.current=!1;var c=new AbortController(),e=d("WAWebImageSearchDrawerBingImageSearch").search(a,b).then(function(b){var f;if(c.signal.aborted)throw new(d("WAAbortError").AbortError)();e===((f=q.current)==null?void 0:f.promise)&&(E(a,b),v(!1))})["catch"](d("WAAbortError").catchAbort(function(){}))["catch"](function(a){d("WALogger").WARN(l()).verbose().devConsole(a);d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__aa1jmTtqFTn__JHASH__")}));e===((a=q.current)==null?void 0:a.promise)&&v(!1)})["finally"](function(){var a;e===((a=q.current)==null?void 0:a.promise)&&(q.current=null)});q.current={promise:e,controller:c};v(!0)},750),G=function(){F.cancel(),p.current&&(p.current=!1),q.current&&q.current.controller.abort()},H=function(){t({}),v(!1),x(0),z(""),B([]),D(0)},I=function(a,b){b===void 0&&(b=0),p.current=!0,F(a,b)};r=function(a){a=(a||"").trim();if(!a){G();H();return}if(d("WAUnicodeUtils").numCodepoints(a)<2)return;if(a===y)return;G();H();I(a)};var J=function(){if(p.current||q.current)return;if(!C||w>=C)return;I(y,w)},K=function(a){var b=s[a];if(!b)return;var g=b.contentUrl;if(d("WAWebUA").UA.isElectron)a=c("WAWebImageSearchDrawerSearchImageRetry")(function(){return c("WAWebPonyfillsFetch")(g)}).then(function(a){if(a.status!==200)throw new(d("WAWebMiscErrors").ServerStatusError)(null,g,a.status);return a.blob()});else throw c("err")("This call is only supported in non-MD mode");a.then(function(a){if(f.aborted)return;if(a instanceof Blob)e(a,b.hostPageUrl);else throw new(d("WAWebMiscErrors").ImageError)("Server did not respond with image bytes",g)})["catch"](function(a){d("WALogger").WARN(k()).verbose().devConsole(a),d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__cOGcTSVhDKu__JHASH__")}))})},L=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),c("WAWebFocusTracer").focus(g.current)},M=function(a){if(a.repeat)return;if(!j.current)return;if(!g.current||!g.current.cursorIsAtEnd())return;a.preventDefault();a.stopPropagation();c("WAWebFocusIndicator").shouldIndicateFocus();j.current!=null&&c("WAWebFocusTracer").focus(j.current)},N=function(a){c("WAWebFocusIndicator").maybeIndicateFocus(i.current)},O=d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP;M={down:M};var P;A.length===0?u?P=m.jsx(d("WAWebEmptyState.react").SearchingImages,{}):!y?P=m.jsx(d("WAWebEmptyState.react").BeforeImageSearch,{}):P=m.jsx(d("WAWebEmptyState.react").ImageSearchEmpty,{}):P=m.jsx(c("WAWebImageGallery.react"),{ref:j,canLoadMore:w<C,isLoadingMore:u,thumbnails:A,onFocusPrev:L,onImageClick:K,onRequestMoreImages:J});return m.jsxs(c("WAWebDrawer.react"),{ref:b,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__OEP8AVEBJv6__JHASH__"),type:O,onBack:a.onBack,onCancel:a.onCancel}),m.jsxs(c("WAWebDrawerBody.react"),{children:[m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:i,handlers:M,onFocus:N,children:m.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:g,placeholder:h._("__JHASH__9vyekyPc4Yb__JHASH__"),onSearch:r,loading:u})}),P]})]})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("WAWebImageSearchFlow.react",["$InternalEnum","WAWebEditImageDrawer.react","WAWebImageSearchDrawer.react","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["ImageSearch","ImageEdit"]);function a(a){var b=a.onFinished;a=d("useWAWebFlow").useFlow(l.ImageSearch);var e=a[0],f=a[1];a=k();var g=a[0],h=a[1];a=k();var i=a[0],m=a[1];if(f.step==null)return null;var n;switch(f.step){case l.ImageSearch:a=function(a,b){h(a),m(b),f.push(l.ImageEdit)};n=j.jsx(c("WAWebImageSearchDrawer.react"),{onCancel:function(){return f.pop()},onImageSelected:a});break;case l.ImageEdit:if(g&&i!=null){a=function(a,c){b(a,c),f.end()};n=j.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onCancel:function(){return f.end()},attributionUrl:i,onFinished:a,onRetake:function(){return f.pop()},retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.NONE,img:g})}break}return j.jsx(e,{flow:f,children:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebTakePhotoMenuItem.react",["fbt","WAWebDropdownItem.react","WAWebEditCaptureFlowLoadable","WAWebModal.react","WAWebModalManager","WAWebProfileCropTool.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onImageTake,c=a.editCropShape,e=a.modalTheme,f=function(f){a.action!=null&&a.action(f),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebEditCaptureFlowLoadable").EditCaptureFlowLoadable,{onFinished:b,editCropShape:c||d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,modalTheme:e||d("WAWebModal.react").ModalTheme.Box}))};return j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:f,testid:void 0,disabled:a.disabled,children:h._("__JHASH__oIv2srgU-uj__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebPhotoPicker.react",["fbt","WALogger","WAWebAnnouncementSpeakerIcon","WAWebAvatarOverlay.react","WAWebAvatarSpinner.react","WAWebCameraIcon","WAWebClassnames","WAWebCommunityGeneralChatImage.react","WAWebCommunitySquircleIcon","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDataTransfer","WAWebDefaultGroupIcon","WAWebDefaultNewsletterIcon","WAWebDefaultUserIcon","WAWebDropdownItem.react","WAWebEditGroupProfileDrawer.react","WAWebEditImageModal.react","WAWebFileUtils","WAWebFocusTracer","WAWebImageSearchFlow.react","WAWebImg.react","WAWebKeyboardHotKeys.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebMediaEditorUtilsReactKonvaCore","WAWebMediaLoad","WAWebMiscGatingUtils","WAWebModal.react","WAWebModalManager","WAWebNonEmptyString","WAWebObjectFit.react","WAWebPhotoPickType","WAWebPhotoPicker.scss","WAWebPhotoPickerConstants","WAWebPhotoViewerModal.react","WAWebPonyfillsGetUserMedia","WAWebProfileCropConstants","WAWebProfileCropTool.react","WAWebRefreshIcon","WAWebRoundShape.react","WAWebSpinner.react","WAWebTakePhotoMenuItem.react","WAWebUA","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnstyledButton.react","WAWebUseIsKeyboardUser","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","WAWebVelocityTransitionGroup","WAWebWamEnumGroupProfileActionType","WAWebWamEnumProfilePictureType","asyncToGeneratorRuntime","cr:5981","lodash","react","stylex","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["PhotoPicker:onImageReceived failed to load image: ",""]);l=function(){return a};return a}e=k||d("react");var m=i||(i=c("react")),aa=e.useEffect,n=e.useRef,o=e.useState,p=b("cr:5981")==null?void 0:b("cr:5981").InternalStatusWarningImageOverlay,q={communitySquircle:{color:"x1oc2adj",$$css:!0},newsletterAvatar:{color:"x1oc2adj",$$css:!0},dimmed:{opacity:"xavfwda",$$css:!0},newSuggestion:{position:"x10l6tqk",bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,zIndex:"x14g40p9",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x1s0ki91",borderEndColor:"x1mn67wr",borderBottomColor:"x1sik5lz",borderStartColor:"x26ctlz",$$css:!0},focusRing:{":focus_borderTopStartRadius":"xvmu2xp",":focus_borderTopEndRadius":"x16ngqik",":focus_borderBottomEndRadius":"x1vlmnad",":focus_borderBottomStartRadius":"x12oeec4",":focus_boxShadow":"xsbtyp8",$$css:!0},imageBorder:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"xyj1x25",borderEndColor:"x1mh0e9j",borderBottomColor:"x1v2jjsl",borderStartColor:"xa5e9bk",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0}};function a(a){var e,f,g=a.startImage,i=g===void 0?"":g,k=a.type,ba=a.attachToChat,r=a.id;g=a.pending;g=g===void 0?!1:g;var s=a.readOnly,t=s===void 0?!1:s,u=a.onImageSet,v=a.size;s=a.testid;var w=a.theme;s=a.dimmed;s=s===void 0?!1:s;var x=a.sendGroupProfilePictureLoggingEvent,y=a.HoverIcon,z=a.showAddIconOverlay;z=z===void 0?!0:z;a=a.showOutline;a=a===void 0?!1:a;e=o((e=i)!=null?e:"");var A=e[0],B=e[1];e=o(!1);var C=e[0],D=e[1];e=o(null);var E=e[0],F=e[1];e=o();var G=e[0],H=e[1];e=o();var I=e[0],ca=e[1],da=c("useWAWebUIM")();e=c("WAWebUseIsKeyboardUser")();e=e.isKeyboardUser;var J=n(null),K=n(null),L=h._("__JHASH__xEWtUVdPU1r__JHASH__"),M=n(),N=n([].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()));if(((f=i)!=null?f:"")!==A){B((f=i)!=null?f:"");F(i===""?null:E)}var O=!g&&(E!=null||A===""&&!t),P=function(a){k===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&(x==null?void 0:x(a,!!i))},Q=function(a){k===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&x!=null&&x(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.PROFILE_PIC_UPDATED,!!i,a)},ea=function(a){k===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&x!=null&&x(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE[String(a)+"_PANEL_OPEN"],!!i)},fa=function(a){P(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_UPLOAD_PHOTO);a=K.current;if(!a)return;a.click();return!0},R=function(){H(null)};f=function(a){var b=a.currentTarget.clientWidth;a=a.currentTarget.clientHeight;F({width:b,height:a})};var ga=function(a){D(!1)},ha=function(a){D(!0)},ia=function(a){D(!0)},S=function(a,b,c){var e=d("WAWebNonEmptyString").asMaybeNonEmptyString(a),f=d("WAWebNonEmptyString").asMaybeNonEmptyString(b);if(e==null||f==null){B("");F(null);return}d("WAWebMediaLoad").loadImage(e).then(function(a){B(e),u(e,f,c)})["catch"](function(b){d("WALogger").WARN(l(),String(b));var a;switch(k){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._("__JHASH__rk8vmgvs7Sp__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._("__JHASH__zFen_en22lK__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._("__JHASH__Dy__45vbdIC__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._("__JHASH__EzF_YPtIrPH__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})},ja=function(a){var b=URL.createObjectURL(a);d("WAWebMediaLoad").loadImage(b).then(function(b){if(b&&(b.width<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE||b.height<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE))d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__HAKjQo7baxS__JHASH__",[h._plural(d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE,"number_of_pixels")])}));else{b=k===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;var e;k===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?e=d("WAWebProfileCropTool.react").CropShapeType.RECT:k===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?e=d("WAWebProfileCropTool.react").CropShapeType.SQUIRCLE:e=d("WAWebProfileCropTool.react").CropShapeType.CIRCLE;d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebEditImageModal.react"),{img:a,onFinished:function(a,b){Q(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_UPLOAD),S(a,b,d("WAWebPhotoPickType").PhotoPickType.Gallery)},onRetake:fa,cropShape:e,theme:b}))}})["catch"](function(){var a;switch(k){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._("__JHASH__rk8vmgvs7Sp__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._("__JHASH__zFen_en22lK__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._("__JHASH__Dy__45vbdIC__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._("__JHASH__EzF_YPtIrPH__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})["finally"](function(){URL.revokeObjectURL(b)})},ka=function(a){R();var b=a.target.files[0];if(!b)return!1;ja(b);a.target.value="";J.current&&c("WAWebFocusTracer").focus(J.current)},T=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=Math.floor(Math.random()*N.current.length);ca({color:c("WAWebUtilsGetColor")(d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS[Math.floor(Math.random()*d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS.length)],200),emoji:yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(N.current[a])});N.current.splice(a,1);N.current.length===0&&(N.current=[].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()))});return function(){return a.apply(this,arguments)}}(),la=function(a){if(!G)return;var b=new(c("WAWebDataTransfer"))(a.clipboardData);b=c("lodash").filter(b.getFiles(),function(a){return d("WAWebFileUtils").typeFromMimetype(a.type)==="image"});if(!b.length)return;a.preventDefault();a.stopPropagation();R();a=b[0];ja(a)},ma=function(){P(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_WEB_SEARCH),d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,children:m.jsx(c("WAWebImageSearchFlow.react"),{onFinished:function(a,b){Q(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.WEB_SEARCH),S(a,b,d("WAWebPhotoPickType").PhotoPickType.WebSearch)}})}))},U=function(){P(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_VIEW_PHOTO);var a=J.current;if(!a||!r)return;var b=function(b){b(a)},e=d("WAWebContactCollection").ContactCollection.assertGet(r),f={transition:"profile-viewer"};ba&&(f.uim=da);d("WAWebModalManager").ModalManager.openMedia(m.jsx(c("WAWebPhotoViewerModal.react"),{contact:e,profilePicThumb:e.getProfilePicThumb(),animateBorderRadius:k!==d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,animateSquircle:k===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,getZoomNode:b}),f)},na=function(){u(void 0,void 0,d("WAWebPhotoPickType").PhotoPickType.None),d("WAWebModalManager").ModalManager.close(),Q(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.REMOVE_PHOTO)},oa=function(b){P(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_REMOVE_PHOTO);var a;switch(k){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._("__JHASH__8xAhiJ26dK7__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._("__JHASH__EUdCRIvMaPn__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._("__JHASH__ZOCtKXvYSMi__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._("__JHASH__BTeBjirWxaV__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:a=h._("__JHASH__0S3nFTymkbv__JHASH__");break}d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:na,okText:h._("__JHASH__twqDGXuDz6h__JHASH__"),onCancel:function(){return d("WAWebModalManager").ModalManager.close()},cancelText:h._("__JHASH__JomY4EcHzcJ__JHASH__"),children:a}))},pa=function(a){P(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_EMOJI_STICKER);a=h._("__JHASH__Kjw81Ud1sXc__JHASH__");d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,ariaLabel:a,testid:void 0,children:m.jsx(d("WAWebEditGroupProfileDrawer.react").EditGroupProfileDrawer,{title:a,onCancel:function(){return d("WAWebModalManager").ModalManager.close()},onFinished:function(a,b,c){Q(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE[String(c)]),S(a,b,c===d("WAWebEditGroupProfileDrawer.react").ImageType.EMOJI?d("WAWebPhotoPickType").PhotoPickType.Emoji:d("WAWebPhotoPickType").PhotoPickType.Sticker),d("WAWebModalManager").ModalManager.close()},sendEmojiStickerPanelOpenLoggingEvent:ea})}))},qa=function(){var a=[];r!=null&&A!==""&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:U,children:h._("__JHASH__vn1_qJDedgS__JHASH__")},"view"));if(c("WAWebPonyfillsGetUserMedia")){var b=k===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebProfileCropTool.react").CropShapeType.RECT:d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,e=k===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;a.push(m.jsx(c("WAWebTakePhotoMenuItem.react"),{onImageTake:function(a,b){Q(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_CAMERA),S(a,b,d("WAWebPhotoPickType").PhotoPickType.Camera)},editCropShape:b,modalTheme:e,action:function(){P(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_TAKE_PHOTO)}},"take"))}a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:fa,children:h._("__JHASH__xzvwSpv2iRx__JHASH__")},"upload"));d("WAWebMiscGatingUtils").groupProfileEditorEnabled()&&(k===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP||k===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||k===d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER)&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:pa,children:h._("__JHASH__QCijWvBzqVd__JHASH__")},"edit"));d("WAWebUA").UA.isElectron&&((k===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP||k===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY)&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ma,children:h._("__JHASH__h-5-09H19Ia__JHASH__")},"search")));A!==""&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:oa,children:h._("__JHASH__2xIAPFguRuk__JHASH__")},"remove"));return a},ra=function(a){if(!O)return;if(t){A!==""&&U();return}a.stopPropagation();a.preventDefault();var b=qa();H({menu:b,event:a});k===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&x!=null&&x(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.CHANGE_PROFILE_PHOTO,!!i)},sa=function(a){if(!O)return;if(t){A!==""&&U();return}a.stopPropagation();a.preventDefault();a=qa();H({menu:a,anchor:J.current})},ta=function(){return v!=null?{width:v,height:v}:void 0},V;A!==""&&(V=m.jsx(c("WAWebObjectFit.react"),{type:"cover",size:E,children:m.jsx(c("WAWebImg.react"),{src:A,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:f})}));var W;(g||A!==""&&!E)&&(k===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?W=m.jsx("div",{className:"x10l6tqk x13vifvy x17qophe xds687c x1ey2m1c xj4c5ne x1vjfegm",children:m.jsx("div",{className:"x10l6tqk x16q8cke xomnu4r x1355qak x47corl",children:m.jsx(d("WAWebSpinner.react").Spinner,{size:24,stroke:3,color:"solidwhite"})})}):W=m.jsx(c("WAWebAvatarSpinner.react"),{}));f=null;if(!g&&!t&&(A===""||E)&&(A===""||G||C)){var X="";switch(k){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:X=A!==""?h._("__JHASH__6rg9NZiv5UL__JHASH__"):h._("__JHASH__3UKVAWU6L-u__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:X=A!==""?h._("__JHASH__xqDdEkOgXvD__JHASH__"):h._("__JHASH__spct1VzJ6Lk__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:X=A!==""?h._("__JHASH__-mV8YWbPJT9__JHASH__"):h._("__JHASH__q3konMVr11r__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:X=A!==""?h._("__JHASH__tTnGRfZUExy__JHASH__"):h._("__JHASH___hBloUW7zR1__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}k!==d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO&&z&&(f=m.jsx(d("WAWebAvatarOverlay.react").AvatarOverlay,{icon:m.jsx(d("WAWebCameraIcon").CameraIcon,{}),text:X,theme:k===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?d("WAWebAvatarOverlay.react").AvatarOverlayTheme.COMMUNITY:d("WAWebAvatarOverlay.react").AvatarOverlayTheme.DEFAULT}));L=X}aa(function(){if(w===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS&&I){var a,b,c={mimeType:"image/jpeg",width:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,height:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE};a=(a=(a=M.current)==null?void 0:a.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:0})))!=null?a:"";c=(b=(b=M.current)==null?void 0:b.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:1})))!=null?b:"";S(a,c,d("WAWebPhotoPickType").PhotoPickType.Emoji)}},[I]);var ua,va;if(w===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS){z=I||{};X=z.color;z=z.emoji;ua=m.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,xstyle:q.newSuggestion,onClick:T,"aria-label":h._("__JHASH__TUApnaWfGnz__JHASH__"),children:m.jsx(c("WAWebRoundShape.react"),{children:m.jsx(d("WAWebRefreshIcon").RefreshIcon,{width:30,height:30})})});if(X!=null&&z){var Y;va=m.jsx((T=d("WAWebMediaEditorUtilsReactKonvaCore")).Stage,{ref:M,width:(Y=d("WAWebEditGroupProfileDrawer.react")).PHOTO_SIZE,height:Y.PHOTO_SIZE,className:"x1s85apg",children:m.jsxs(T.Layer,{children:[m.jsx(T.Rect,{width:Y.PHOTO_SIZE,height:Y.PHOTO_SIZE,fill:X}),m.jsx(T.Image,{width:Y.IMAGE_SIZE,height:Y.IMAGE_SIZE,offset:{x:Y.IMAGE_SIZE/2,y:Y.IMAGE_SIZE/2},x:Y.PHOTO_SIZE/2,y:Y.PHOTO_SIZE/2,image:z,filters:z.naturalWidth<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD&&z.naturalHeight<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD?[c("WAWebUtilsSharpenFilter")]:[]})]})})}}var wa;G&&(wa=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:R,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:G})}));var Z;if(g||A===""||!E){var $;switch(k){case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:$=m.jsx(d("WAWebDefaultUserIcon").DefaultUserIcon,{});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:$=m.jsx(d("WAWebCommunitySquircleIcon").CommunitySquircleIcon,{iconXstyle:q.communitySquircle});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:$=m.jsx(d("WAWebDefaultNewsletterIcon").DefaultNewsletterIcon,{iconXstyle:q.newsletterAvatar});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:$=m.jsx(d("WAWebAnnouncementSpeakerIcon").AnnouncementSpeakerIcon,{directional:!0});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:Z=m.jsx(d("WAWebCommunityGeneralChatImage.react").CommunityGeneralChatImage,{});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:$=null;break;default:$=m.jsx(d("WAWebDefaultGroupIcon").DefaultGroupIcon,{});break}if($!=null){Z=m.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((X={},X[c("WAWebPhotoPicker.scss").defaultAnnouncementGroupIcon]=k===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP,X[c("WAWebPhotoPicker.scss").defaultIcon]=!0,X)),children:$})}}T=document.activeElement===J.current?{space:sa,enter:sa}:{};return m.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((Y={},Y[c("WAWebPhotoPicker.scss").coverPhoto]=w===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.COVER_PHOTO,Y[c("WAWebPhotoPicker.scss").container]=!0,Y),(j||(j=c("stylex")))(C&&A!==""&&t&&q.dimmed,a&&V!=null&&q.imageBorder)),style:ta(),handlers:T,"aria-label":L.toString(),role:"button",children:[m.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((z={},z[c("WAWebPhotoPicker.scss").squircleBackground]=k===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||k===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP,z[c("WAWebPhotoPicker.scss").clickable]=O,z[c("WAWebPhotoPicker.scss").body]=!0,z),j(e&&O&&q.focusRing)),onClick:ra,onMouseOver:ia,onMouseEnter:ha,onMouseLeave:ga,onPaste:la,onFocus:ha,onBlur:ga,ref:J,title:L,dir:"ltr",tabIndex:O?0:-1,role:O?"button":"none","data-testid":void 0,children:[m.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((g={},g[c("WAWebPhotoPicker.scss").imageContainer]=!0,g),j(s&&q.dimmed)),children:[V,p&&r?m.jsx(p,{id:r}):null,Z,va]}),m.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[W,f]})]}),y!=null&&!t&&m.jsx("div",{className:"x10l6tqk x1ey2m1c xds687c x1n327nk xg3ugn6 xiv0sok x1xqhb0f x1gmqvdg x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xmn4e3e x10qsr78 x2x41l1 x19jh3bc x1awj2ng x13ase7j x14yjl9h xudhj91 x18nykt9 xww2gxu xxk0z11 xvy4d1p x78zum5 x6s0dn4 xl56j7k x47corl",children:m.jsx(y,{width:16,height:16})}),m.jsx("input",{ref:K,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:ka}),wa,ua]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSlider.react",["WAWebFlex.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef;function a(a){var b=a.displayValue;b=b===void 0?!1:b;var c=babelHelpers.objectWithoutPropertiesLoose(a,["displayValue"]),e=k(!1);a=function(a){e.current=!0};var f=function(a){e.current=!1},g=function(a){a.preventDefault(),c.onChange(parseInt(a.target.value,10),e.current),e.current=!1};return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[j.jsx("input",{type:"range",className:"x1lugfcp x1ailiqk x2pejg6 x1fwsm1s x1npaq5j x1c83p5e x1enjb0b x199158v x1a2a7pz x1hzk0bc x1smax2f xgzf28c x7wbnsr x8oxah8 x1wrwf4b x12lv7o3 x1b3wko3 xwvyaol xjz7cho xm8lljt x15os9c4 xng25hz x1pleqa3 xxxums0 x1mzqtq4 x1vvv04b x13wl5o1 xxmh24j x17q4j2m x1xgilkb x96ga39",min:c.min,max:c.max,value:c.value,onMouseDown:a,onMouseUp:f,onChange:g}),b?j.jsx("span",{className:"xvy4d1p x17adc0v x1ty9z65 x1f6kntn xd9s0q2",children:c.value}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNetworkResourceCache",["WAPromiseCache","err"],(function(a,b,c,d,e,f,g){var h=function(){if(i)throw c("err")("An instance of NetworkResourceCache is already created, use getNetworkResourceCache.");var a=function(a){return self.fetch(a).then(function(a){return a.json()})};this.cache==null&&(this.cache=new(c("WAPromiseCache"))(function(b){return a(b)},{maxCached:100,maxAge:36e4,shouldCache:function(a){return!!a}}))},i;function a(){i||(i=new h());return i}g.NetworkResourceCache=h;g.getNetworkResourceCache=a}),98);
__d("WAWebUseLottie.react",["invariant","$InternalEnum","WALogger","WAWeb-lottie-light","WAWebNetworkResourceCache","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Destroying animation failed"]);l=function(){return a};return a}e=k||d("react");var m=i||(i=c("react")),n=e.useCallback,o=e.useEffect,p=e.useRef,q=e.useState,r=b("$InternalEnum")({SVG:"svg",Canvas:"canvas"});function a(a){var b=a.autoplay,e=b===void 0?!1:b;b=a.data;var f=a.direction,g=f===void 0?1:f;f=a.fallback;f=f===void 0?null:f;var i=a.loop,k=i===void 0?!1:i,s=a.path;i=a.placeholder;i=i===void 0?null:i;var t=a.renderer,u=t===void 0?r.SVG:t;t=a.speed;var v=t===void 0?1:t;t=a.xstyle;var w=a.wrapperXstyle,x=a.onComplete,y=a.onLoopComplete;b==null&&s!=null||b!=null&&s==null||h(0,56323);var z=p(),A=p(),B=d("WAWebNetworkResourceCache").getNetworkResourceCache().cache;a=q(s!=null&&(B==null?void 0:B.isCached(s))===!1);var C=a[0],D=a[1];a=q(!1);var E=a[0],F=a[1];a=q(b);var G=a[0],H=a[1];b=n(function(){var a;(a=z.current)==null?void 0:a.play()},[]);a=n(function(){var a;(a=z.current)==null?void 0:a.stop()},[]);var I=n(function(){var a;(a=z.current)==null?void 0:a.pause()},[]),J=n(function(a,b){var c;(c=z.current)==null?void 0:c.goToAndPlay(a,b)},[]),K=n(function(a,b){var c;(c=z.current)==null?void 0:c.goToAndStop(a,b)},[]),L=n(function(a){var b;(b=z.current)==null?void 0:b.getDuration(a)},[]),M=n(function(a){z.current!=null&&(z.current.loop=a)},[]),N=n(function(a){var b;(b=z.current)==null?void 0:b.addEventListener("loopComplete",a)},[]),O=n(function(){var a;(a=z.current)==null?void 0:a.removeEventListener("loopComplete")},[]);b={play:b,stop:a,pause:I,goToAndPlay:J,goToAndStop:K,getDuration:L,setLoop:M,addOnLoopCompleteHandler:N,removeOnLoopCompleteHandler:O};o(function(){s!=null&&s!==""&&(B==null?void 0:B.getOrRun(s).then(function(a){H(a),D(!1)})["catch"](function(a){return F(!0)}))},[B,s]);o(function(){var a=c("WAWeb-lottie-light").loadAnimation({container:A.current,animationData:G,renderer:u,loop:k,autoplay:e});z.current=a;var b=[{name:"data_failed",handler:function(){return F(!0)}},{name:"complete",handler:function(){x==null?void 0:x()}},{name:"loopComplete",handler:function(){y==null?void 0:y()}}],f=b.map(function(b){a.addEventListener(b.name,b.handler);return function(){return a.removeEventListener(b.name,b.handler)}});return function(){f.forEach(function(a){return a()});try{a.destroy()}catch(a){d("WALogger").DEV(l())}}},[G,u,k,e,x,y]);o(function(){var a;(a=z.current)==null?void 0:a.setSpeed(v)},[v]);o(function(){var a;(a=z.current)==null?void 0:a.setDirection(g)},[g]);a=C&&!E;I=m.jsxs("div",{className:(j||(j=c("stylex")))(w),children:[m.jsx("div",{className:j(t),ref:A}),a?i:null,E?f:null]});return[I,b]}g.Renderer=r;g.useLottie=a}),98);
__d("WAWebLottieAnimation.react",["WAWebUseLottie.react","react"],(function(a,b,c,d,e,f,g){var h;a=h||d("react");b=a.forwardRef;var i=a.useImperativeHandle;c=function(a,b){a=d("WAWebUseLottie.react").useLottie(a);var c=a[0],e=a[1];i(b,function(){return e});return c};e=b(c);g["default"]=e}),98);
__d("WAWebCommunityAdminDarkIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="community-admin-dark";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=157;m=224;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 224 157",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.527 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0477 34.5885 81.5198 38.1422 50.2608 38.1422C26.9784 38.1422 3.27272 49.4959 0.309525 80.193C-1.83832 102.443 6.80145 121.865 38.7733 131.781C96.9612 149.829 151.574 142.238 176.395 133.783Z",fill:"#A6CCC7"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.293 99.6867C27.0535 101.355 30.7418 103.637 31.4074 104.997C32.228 106.674 30.9928 110.9 29.8353 114.37C29.6388 114.958 30.4495 115.336 30.7732 114.808C32.5509 111.908 34.8757 108.32 36.4515 107.751C38.026 107.182 42.3203 108.547 45.6143 109.668C46.2027 109.868 46.5832 109.056 46.0527 108.732C43.0243 106.882 39.2021 104.422 38.6613 102.787C38.151 101.244 39.7028 96.5983 40.8637 93.2422C41.0683 92.6508 40.2467 92.2674 39.9241 92.8033C38.1077 95.8232 35.5519 99.9797 34.0649 100.588C32.4546 101.246 28.1113 99.8943 24.7277 98.7485C24.1378 98.5486 23.7597 99.3643 24.293 99.6867Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M109.286 19.9086L109.286 19.9086C102.842 23.1185 87.3525 30.1026 68.0072 33.804L68.0071 33.804C64.0692 34.5576 61.1751 37.956 61.1751 41.9896V78.4977C61.1751 95.8063 64.3953 110.744 72.2448 122.656C80.1062 134.586 92.541 143.377 110.759 148.511L110.76 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.395 143.377 145.829 134.586 153.691 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.93 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.33 18.7529 111.606 18.7529 109.286 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.003 147.88C113.65 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.262 35.3937 157.754 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.003 147.88 113.003 147.88Z",fill:"#326474",fillOpacity:.24}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.433 56.6242C102.33 50.7596 107.216 45.8638 113.346 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.352 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.461 113.276C105.994 113.258 98.3013 113.143 91.6051 112.528C89.47 112.332 89.1898 110.211 89.1435 108.894C88.5616 92.3891 99.7667 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M88.8634 124.688L88.8654 124.699L88.8677 124.71L90.5779 132.936C90.5808 132.958 90.5772 132.993 90.5574 133.03C90.5443 133.054 90.5327 133.063 90.5293 133.066L86.1695 134.637C85.3298 134.94 84.7883 135.671 84.6077 136.457C84.5266 136.81 84.4268 137.168 84.3132 137.525C84.193 137.904 84.0646 138.263 83.9269 138.606C83.6311 139.344 83.6722 140.219 84.135 140.932L86.722 144.917L86.7298 144.929L86.7379 144.94C86.7548 144.965 86.7559 144.981 86.7544 144.994C86.7529 145.008 86.7451 145.039 86.7061 145.079L80.6257 150.623L80.617 150.631L80.6084 150.639C80.5944 150.652 80.5849 150.657 80.5813 150.658C80.5772 150.66 80.5731 150.661 80.5678 150.661C80.5582 150.661 80.5356 150.658 80.5072 150.637L76.9313 147.535C76.2822 146.971 75.4112 146.822 74.6369 147.052C73.9344 147.262 73.2146 147.416 72.4798 147.507C71.6809 147.606 70.9399 148.087 70.5675 148.865L68.5234 153.133L68.5201 153.14L68.5169 153.147C68.5097 153.162 68.5031 153.17 68.4999 153.173C68.4964 153.176 68.4935 153.178 68.4908 153.179C68.488 153.18 68.4837 153.181 68.4774 153.182C68.4712 153.182 68.4605 153.181 68.4449 153.176L60.6394 150.49C60.6146 150.481 60.5989 150.469 60.5852 150.445C60.5708 150.421 60.5542 150.374 60.5578 150.306L61.3525 145.648C61.4965 144.804 61.182 143.98 60.6149 143.42C60.0761 142.888 59.5864 142.313 59.1316 141.697C58.6567 141.054 57.8837 140.636 57.0324 140.686L52.403 140.958C52.3615 140.954 52.3298 140.939 52.311 140.924C52.3009 140.916 52.2942 140.908 52.2894 140.9C52.2849 140.893 52.2785 140.88 52.2743 140.857L52.2722 140.845L52.2699 140.834L50.5597 132.609C50.5569 132.587 50.5605 132.551 50.5802 132.515C50.5934 132.491 50.605 132.481 50.6084 132.479L54.9682 130.908C55.8074 130.605 56.3496 129.874 56.5304 129.088C56.6131 128.729 56.7141 128.367 56.8245 128.019C56.9285 127.692 57.0629 127.351 57.2144 127.011C57.5519 126.254 57.5218 125.34 57.0378 124.602L54.4336 120.631L54.4209 120.612L54.4072 120.593C54.3996 120.583 54.3979 120.577 54.3974 120.575C54.3967 120.572 54.3959 120.567 54.3969 120.559C54.399 120.543 54.4094 120.512 54.4431 120.481C54.4433 120.481 54.4435 120.48 54.4437 120.48L60.5136 114.921L60.5215 114.913L60.5292 114.906C60.5433 114.892 60.5527 114.888 60.5564 114.886C60.5605 114.885 60.5646 114.884 60.5698 114.884C60.5794 114.884 60.602 114.886 60.6305 114.907L64.2157 118.018C64.8554 118.573 65.7157 118.73 66.4879 118.503C67.1984 118.295 67.925 118.134 68.6619 118.039C69.4572 117.937 70.1977 117.457 70.5701 116.68L72.6077 112.426C72.6333 112.378 72.6577 112.367 72.6611 112.365C72.6639 112.364 72.6657 112.364 72.6678 112.364C72.6697 112.364 72.6776 112.364 72.6928 112.369L80.4983 115.055C80.5268 115.065 80.5483 115.082 80.5635 115.108C80.5783 115.133 80.5892 115.169 80.5837 115.216L79.7852 119.897C79.6412 120.741 79.9557 121.564 80.5228 122.124C81.0616 122.657 81.5512 123.232 82.006 123.847C82.481 124.49 83.2539 124.909 84.1053 124.859L88.7347 124.586C88.7762 124.591 88.8079 124.606 88.8266 124.621C88.8368 124.629 88.8435 124.637 88.8483 124.645C88.8527 124.652 88.8592 124.665 88.8634 124.688ZM90.5334 133.064L90.5331 133.064L90.5334 133.064ZM50.6042 132.48L50.6045 132.48L50.6042 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),j.jsx("circle",{cx:70.569,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.569 132.774)",fill:"#A6CCC7",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M180.569 58.8458C180.569 58.8458 176.96 65.5006 177.039 66.0964C177.118 66.6924 182.278 65.5183 182.772 65.3757C183.265 65.2331 183.897 70.1809 184.73 71.2426C185.562 72.3045 186.593 72.2585 188.611 71.9274C190.629 71.5962 218.325 64.2513 218.325 64.2513C218.325 64.2513 221.971 63.975 221.295 60.6806C220.618 57.3864 216.928 38.503 216.729 37.8987C216.529 37.2945 216.409 34.6885 211.772 35.3087C207.134 35.9291 181.489 42.4728 181.489 42.4728C181.489 42.4728 178.275 43.4878 178.399 46.0349C178.523 48.5821 180.569 58.8458 180.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M195.734 59.8696C196.455 57.2607 199.154 55.7299 201.763 56.4506L211.211 59.0602C213.819 59.7808 215.35 62.48 214.63 65.0889L211.857 75.1268C211.136 77.7357 208.437 79.2664 205.828 78.5458L196.381 75.9362C193.772 75.2155 192.241 72.5164 192.962 69.9075L195.734 59.8696Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.395 72.4404C204.024 73.6143 202.771 74.265 201.597 73.8941C200.423 73.5233 199.772 72.2707 200.143 71.0968C200.513 69.9229 201.766 69.2722 202.94 69.6431C204.114 70.0139 204.766 71.2663 204.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M195.956 59.0666C196.554 56.9012 198.795 55.6306 200.96 56.2288L212.014 59.282C214.179 59.8801 215.45 62.1205 214.851 64.2859C214.253 66.4513 212.013 67.7219 209.847 67.1238L198.794 64.0705C196.628 63.4724 195.358 61.2321 195.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{d:"M200.754 52.7398C201.763 49.0874 205.541 46.9443 209.194 47.9532C212.846 48.9621 214.989 52.7409 213.981 56.3933L212.017 63.503C212.017 63.503 211.274 64.3528 209.856 63.9613C208.439 63.5699 208.238 62.4592 208.238 62.4592L210.162 55.4913C210.595 53.9259 209.676 52.3065 208.111 51.8741C206.546 51.4417 204.926 52.3602 204.494 53.9255L202.569 60.8934C202.569 60.8934 201.826 61.7431 200.409 61.3517C198.992 60.9603 198.79 59.8495 198.79 59.8495L200.754 52.7398Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.5 102.479 197.156 105.943 194.806 105.709C192.457 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.846 103.793C180.271 103.743 179.085 101.079 179.128 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.244 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.291 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.997 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M28.9824 44.2651L31.1808 39.3806C31.4314 38.8239 31.8365 38.3511 32.348 38.0186C33.6901 37.146 32.4959 39.4744 33.3707 40.82L47.1311 61.9843C48.023 63.3561 50.6282 63.2444 49.2601 64.1339C48.778 64.4474 48.2211 64.627 47.6464 64.6544L42.6015 64.8951C39.4188 65.0469 36.2878 65.6667 33.3065 66.7259C32.9225 66.8623 32.8228 67.3539 33.1145 67.6385C34.0807 68.5815 34.9974 69.5032 35.0613 69.5729L37.4241 72.1491C38.7976 73.6465 38.5873 75.9994 36.9709 77.2219C35.8196 78.0927 34.2456 78.1488 33.0313 77.3624C31.9197 76.5933 25.4778 70.8878 24.1959 71.6402C21.3482 73.3116 17.6574 72.4561 15.8343 69.6521L14.0729 66.9429C12.197 64.0577 13.0091 60.2022 15.8866 58.3313C16.2841 58.0728 16.6882 57.82 17.093 57.5667C22.0637 54.4563 26.5731 49.618 28.9824 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{d:"M25.5366 70.553L26.0596 71.3278L26.0596 71.3278L25.5366 70.553ZM42.5182 65.0836L42.5134 64.1489L42.5182 65.0836ZM47.8745 65.0562L47.8793 65.991L47.8745 65.0562ZM49.1936 63.6206L48.8486 64.4894L48.8486 64.4894L49.1936 63.6206ZM14.3181 69.0346L14.9578 70.0184L16.5252 68.9993L15.8855 68.0155L14.3181 69.0346ZM14.9578 70.0184C17.1137 73.3344 21.5454 74.2827 24.8578 72.1291L23.8387 70.5617C21.3959 72.1499 18.1209 71.4536 16.5252 68.9993L14.9578 70.0184ZM24.8578 72.1291C25.2632 71.8655 25.665 71.5942 26.0596 71.3278L25.0135 69.7783C24.6166 70.0463 24.2283 70.3084 23.8387 70.5617L24.8578 72.1291ZM26.0596 71.3278C30.7859 68.1368 36.8602 66.0474 42.523 66.0184L42.5134 64.1489C36.4362 64.18 30.0067 66.4072 25.0135 69.7783L26.0596 71.3278ZM42.523 66.0184L47.8793 65.991L47.8697 64.1214L42.5134 64.1489L42.523 66.0184ZM47.8793 65.991C48.1844 65.9894 48.6818 65.9854 49.1759 65.9349C49.6181 65.8897 50.2582 65.7921 50.7223 65.4903L49.7032 63.9229C49.7068 63.9206 49.6932 63.9298 49.6537 63.945C49.6152 63.9599 49.5626 63.9766 49.4941 63.9934C49.3551 64.0276 49.1823 64.0549 48.9857 64.075C48.5912 64.1154 48.1752 64.1199 47.8697 64.1214L47.8793 65.991ZM50.7223 65.4903C50.9693 65.3297 51.4366 64.9499 51.3904 64.3086C51.3494 63.7413 50.9204 63.4252 50.7644 63.3182C50.5525 63.1728 50.3053 63.0603 50.1091 62.9778C49.9157 62.8965 49.6814 62.8086 49.5387 62.7519L48.8486 64.4894C49.0515 64.57 49.2085 64.6273 49.3847 64.7013C49.5583 64.7743 49.6592 64.8272 49.7067 64.8598C49.7291 64.8752 49.7036 64.8621 49.6647 64.8138C49.6238 64.763 49.5396 64.6366 49.5256 64.443C49.5107 64.2362 49.5846 64.0773 49.6465 63.9908C49.6989 63.9178 49.7384 63.9001 49.7032 63.9229L50.7223 65.4903ZM49.5387 62.7519C48.8913 62.4947 48.4404 62.2828 48.2312 61.9611L46.6638 62.9802C47.2548 63.8892 48.331 64.2838 48.8486 64.4894L49.5387 62.7519Z",fill:"#316474"}),j.jsx("ellipse",{cx:41.4607,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4607 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),j.jsx("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityAdminDarkIcon=a}),98);
__d("WAWebCommunityAdminLightIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="community-admin-light";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=157;m=221;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 221 157",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.526 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0476 34.5885 81.5197 38.1422 50.2607 38.1422C26.9783 38.1422 3.2726 49.4959 0.309402 80.193C-1.83844 102.443 6.80133 121.865 38.7732 131.781C96.9611 149.829 151.574 142.238 176.395 133.783Z",fill:"#DAF7F3"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.2931 99.6867C27.0536 101.355 30.7419 103.637 31.4075 104.997C32.2281 106.674 30.9929 110.9 29.8354 114.37C29.6389 114.958 30.4496 115.336 30.7734 114.808C32.551 111.908 34.8758 108.32 36.4516 107.751C38.0261 107.182 42.3204 108.547 45.6144 109.668C46.2029 109.868 46.5833 109.056 46.0529 108.732C43.0245 106.882 39.2022 104.422 38.6615 102.787C38.1511 101.244 39.703 96.5983 40.8638 93.2422C41.0684 92.6508 40.2468 92.2674 39.9242 92.8033C38.1078 95.8232 35.552 99.9797 34.0651 100.588C32.4547 101.246 28.1114 99.8943 24.7278 98.7485C24.1379 98.5486 23.7598 99.3643 24.2931 99.6867Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M109.285 19.9086L109.285 19.9086C102.842 23.1185 87.3523 30.1026 68.0069 33.804L68.0069 33.804C64.069 34.5576 61.1748 37.956 61.1748 41.9896V78.4977C61.1748 95.8063 64.395 110.744 72.2446 122.656C80.1059 134.586 92.5407 143.377 110.759 148.511L110.759 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.394 143.377 145.829 134.586 153.69 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.929 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.329 18.7529 111.606 18.7529 109.285 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.002 147.88C113.649 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.261 35.3937 157.753 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.002 147.88 113.002 147.88Z",fill:"#326474",fillOpacity:.24}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.432 56.6242C102.33 50.7596 107.215 45.8638 113.345 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.351 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.46 113.276C105.994 113.258 98.301 113.143 91.6049 112.528C89.4697 112.332 89.1896 110.211 89.1433 108.894C88.5614 92.3891 99.7665 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M88.8631 124.688L88.8652 124.699L88.8675 124.71L90.5777 132.936C90.5806 132.958 90.5769 132.993 90.5572 133.03C90.5441 133.054 90.5324 133.063 90.5291 133.066L86.1693 134.637C85.3296 134.94 84.788 135.671 84.6075 136.457C84.5264 136.81 84.4265 137.168 84.3129 137.525C84.1927 137.904 84.0643 138.263 83.9266 138.606C83.6308 139.344 83.672 140.219 84.1348 140.932L86.7217 144.917L86.7295 144.929L86.7377 144.94C86.7546 144.965 86.7557 144.981 86.7542 144.994C86.7526 145.008 86.7448 145.039 86.7059 145.079L80.6255 150.623L80.6167 150.631L80.6082 150.639C80.5941 150.652 80.5847 150.657 80.581 150.658C80.5769 150.66 80.5728 150.661 80.5676 150.661C80.558 150.661 80.5354 150.658 80.5069 150.637L76.9311 147.535C76.282 146.971 75.411 146.822 74.6367 147.052C73.9342 147.262 73.2144 147.416 72.4795 147.507C71.6807 147.606 70.9396 148.087 70.5673 148.865L68.5231 153.133L68.5198 153.14L68.5167 153.147C68.5095 153.162 68.5029 153.17 68.4996 153.173C68.4962 153.176 68.4932 153.178 68.4905 153.179C68.4878 153.18 68.4835 153.181 68.4771 153.182C68.471 153.182 68.4602 153.181 68.4446 153.176L60.6391 150.49C60.6144 150.481 60.5987 150.469 60.5849 150.445C60.5706 150.421 60.554 150.374 60.5576 150.306L61.3523 145.648C61.4962 144.804 61.1818 143.98 60.6147 143.42C60.0758 142.888 59.5862 142.313 59.1314 141.697C58.6565 141.054 57.8835 140.636 57.0321 140.686L52.4027 140.958C52.3613 140.954 52.3296 140.939 52.3108 140.924C52.3006 140.916 52.2939 140.908 52.2892 140.9C52.2847 140.893 52.2783 140.88 52.274 140.857L52.272 140.845L52.2697 140.834L50.5595 132.609C50.5566 132.587 50.5603 132.551 50.58 132.515C50.5931 132.491 50.6048 132.481 50.6081 132.479L54.9679 130.908C55.8072 130.605 56.3494 129.874 56.5302 129.088C56.6129 128.729 56.7139 128.367 56.8242 128.019C56.9282 127.692 57.0626 127.351 57.2142 127.011C57.5517 126.254 57.5216 125.34 57.0375 124.602L54.4334 120.631L54.4206 120.612L54.4069 120.593C54.3994 120.583 54.3977 120.577 54.3971 120.575C54.3964 120.572 54.3957 120.567 54.3967 120.559C54.3988 120.543 54.4092 120.512 54.4429 120.481C54.4431 120.481 54.4433 120.48 54.4435 120.48L60.5133 114.921L60.5212 114.913L60.529 114.906C60.5431 114.892 60.5525 114.888 60.5562 114.886C60.5603 114.885 60.5644 114.884 60.5696 114.884C60.5792 114.884 60.6018 114.886 60.6303 114.907L64.2155 118.018C64.8552 118.573 65.7154 118.73 66.4876 118.503C67.1982 118.295 67.9248 118.134 68.6616 118.039C69.4569 117.937 70.1974 117.457 70.5699 116.68L72.6075 112.426C72.633 112.378 72.6574 112.367 72.6608 112.365C72.6637 112.364 72.6655 112.364 72.6676 112.364C72.6694 112.364 72.6773 112.364 72.6926 112.369L80.4981 115.055C80.5265 115.065 80.548 115.082 80.5633 115.108C80.5781 115.133 80.589 115.169 80.5835 115.216L79.7849 119.897C79.6409 120.741 79.9554 121.564 80.5225 122.124C81.0614 122.657 81.551 123.232 82.0058 123.847C82.4807 124.49 83.2537 124.909 84.1051 124.859L88.7345 124.586C88.7759 124.591 88.8076 124.606 88.8264 124.621C88.8366 124.629 88.8432 124.637 88.848 124.645C88.8525 124.652 88.8589 124.665 88.8631 124.688ZM90.5332 133.064L90.5329 133.064L90.5332 133.064ZM50.604 132.48L50.6043 132.48L50.604 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),j.jsx("circle",{cx:70.5685,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.5685 132.774)",fill:"#DAF7F3",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M177.569 58.8458C177.569 58.8458 173.96 65.5006 174.039 66.0964C174.119 66.6924 179.278 65.5183 179.772 65.3757C180.266 65.2331 180.897 70.1809 181.73 71.2426C182.562 72.3045 183.593 72.2585 185.611 71.9274C187.629 71.5962 215.325 64.2513 215.325 64.2513C215.325 64.2513 218.971 63.975 218.295 60.6806C217.618 57.3864 213.929 38.503 213.729 37.8987C213.529 37.2945 213.409 34.6885 208.772 35.3087C204.134 35.9291 178.489 42.4728 178.489 42.4728C178.489 42.4728 175.275 43.4878 175.399 46.0349C175.523 48.5821 177.569 58.8458 177.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M192.735 59.8696C193.455 57.2607 196.154 55.7299 198.763 56.4506L208.211 59.0602C210.82 59.7808 212.351 62.48 211.63 65.0889L208.857 75.1268C208.137 77.7357 205.438 79.2664 202.829 78.5458L193.381 75.9362C190.772 75.2155 189.241 72.5164 189.962 69.9075L192.735 59.8696Z",fill:"white",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M201.395 72.4404C201.024 73.6143 199.771 74.265 198.597 73.8941C197.423 73.5233 196.772 72.2707 197.143 71.0968C197.514 69.9229 198.766 69.2722 199.941 69.6431C201.115 70.0139 201.766 71.2663 201.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M192.956 59.0666C193.555 56.9012 195.795 55.6306 197.96 56.2288L209.014 59.282C211.179 59.8801 212.45 62.1205 211.852 64.2859C211.254 66.4513 209.013 67.7219 206.848 67.1238L195.794 64.0705C193.629 63.4724 192.358 61.2321 192.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{d:"M197.754 52.7398C198.763 49.0874 202.541 46.9443 206.194 47.9532C209.846 48.9621 211.989 52.7409 210.981 56.3933L209.017 63.503C209.017 63.503 208.274 64.3528 206.856 63.9613C205.439 63.5699 205.238 62.4592 205.238 62.4592L207.162 55.4913C207.595 53.9259 206.676 52.3065 205.111 51.8741C203.546 51.4417 201.926 52.3602 201.494 53.9255L199.569 60.8934C199.569 60.8934 198.826 61.7431 197.409 61.3517C195.992 60.9603 195.79 59.8495 195.79 59.8495L197.754 52.7398Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.499 102.479 197.155 105.943 194.806 105.709C192.456 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.845 103.793C180.27 103.743 179.085 101.079 179.127 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.245 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.292 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.998 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M28.9826 44.2651L31.1811 39.3806C31.4317 38.8239 31.8368 38.3511 32.3482 38.0186C33.6903 37.146 32.4961 39.4744 33.371 40.82L47.1313 61.9843C48.0232 63.3561 50.6285 63.2444 49.2603 64.1339C48.7782 64.4474 48.2214 64.627 47.6466 64.6544L42.6017 64.8951C39.4191 65.0469 36.288 65.6667 33.3067 66.7259C32.9227 66.8623 32.8231 67.3539 33.1147 67.6385C34.081 68.5815 34.9976 69.5032 35.0615 69.5729L37.4244 72.1491C38.7978 73.6465 38.5876 75.9994 36.9712 77.2219C35.8198 78.0927 34.2458 78.1488 33.0315 77.3624C31.92 76.5933 25.4781 70.8878 24.1962 71.6402C21.3485 73.3116 17.6576 72.4561 15.8346 69.6521L14.0731 66.9429C12.1973 64.0577 13.0093 60.2022 15.8868 58.3313C16.2843 58.0728 16.6884 57.82 17.0932 57.5667C22.0639 54.4563 26.5733 49.618 28.9826 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{d:"M25.5367 70.553L26.0597 71.3278L26.0597 71.3278L25.5367 70.553ZM42.5183 65.0836L42.5135 64.1489L42.5183 65.0836ZM47.8746 65.0562L47.8794 65.991L47.8746 65.0562ZM49.1938 63.6206L48.8487 64.4894L48.8487 64.4894L49.1938 63.6206ZM14.3182 69.0346L14.9579 70.0184L16.5253 68.9993L15.8856 68.0155L14.3182 69.0346ZM14.9579 70.0184C17.1139 73.3344 21.5456 74.2827 24.8579 72.1291L23.8388 70.5617C21.3961 72.1499 18.121 71.4536 16.5253 68.9993L14.9579 70.0184ZM24.8579 72.1291C25.2633 71.8655 25.6651 71.5942 26.0597 71.3278L25.0136 69.7783C24.6167 70.0463 24.2284 70.3084 23.8388 70.5617L24.8579 72.1291ZM26.0597 71.3278C30.786 68.1368 36.8603 66.0474 42.5231 66.0184L42.5135 64.1489C36.4363 64.18 30.0068 66.4072 25.0136 69.7783L26.0597 71.3278ZM42.5231 66.0184L47.8794 65.991L47.8698 64.1214L42.5135 64.1489L42.5231 66.0184ZM47.8794 65.991C48.1845 65.9894 48.6819 65.9854 49.176 65.9349C49.6182 65.8897 50.2583 65.7921 50.7224 65.4903L49.7033 63.9229C49.7069 63.9206 49.6933 63.9298 49.6538 63.945C49.6154 63.9599 49.5627 63.9766 49.4942 63.9934C49.3552 64.0276 49.1824 64.0549 48.9858 64.075C48.5913 64.1154 48.1753 64.1199 47.8698 64.1214L47.8794 65.991ZM50.7224 65.4903C50.9694 65.3297 51.4367 64.9499 51.3905 64.3086C51.3496 63.7413 50.9205 63.4252 50.7645 63.3182C50.5526 63.1728 50.3054 63.0603 50.1092 62.9778C49.9158 62.8965 49.6815 62.8086 49.5388 62.7519L48.8487 64.4894C49.0516 64.57 49.2086 64.6273 49.3849 64.7013C49.5584 64.7743 49.6593 64.8272 49.7068 64.8598C49.7292 64.8752 49.7038 64.8621 49.6649 64.8138C49.6239 64.763 49.5397 64.6366 49.5257 64.443C49.5108 64.2362 49.5847 64.0773 49.6467 63.9908C49.699 63.9178 49.7385 63.9001 49.7033 63.9229L50.7224 65.4903ZM49.5388 62.7519C48.8914 62.4947 48.4405 62.2828 48.2314 61.9611L46.664 62.9802C47.255 63.8892 48.3311 64.2838 48.8487 64.4894L49.5388 62.7519Z",fill:"#316474"}),j.jsx("ellipse",{cx:41.4608,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4608 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),j.jsx("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityAdminLightIcon=a}),98);
__d("WAWebCommunityAdminPromotionNotificationPopup.react",["fbt","WAWebButton.react","WAWebCommunityAdminDarkIcon","WAWebCommunityAdminLightIcon","WAWebEmojiText.react","WAWebExternalLink.react","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebModal.react","WAWebThemeContext","WAWebWDSButton","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){var e=a.onContinue,f=a.onDemote;a=function(a){a.stopPropagation(),a.preventDefault(),f()};var g=function(a){a.stopPropagation(),a.preventDefault(),e()},i={enter:g,escape:g};a=j.jsxs(d("WAWebWDSButton").ButtonGroup,{direction:"horizontal",children:[j.jsx(c("WAWebButton.react"),{testid:void 0,type:"secondary",onClick:a,children:h._("__JHASH__RHAEMS1DZKO__JHASH__")},"popup-controls-demote"),j.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:g,children:h._("__JHASH__wdREOvUg_-y__JHASH__")},"popup-controls-continue")]});g=j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:k(),children:h._("__JHASH__GCltFTJq2-k__JHASH__")});g=h._("__JHASH__fvvu6z-bTDA__JHASH__",[h._param("learn-more-link",g)]);return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:b,handlers:i,children:j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Promote,actions:a,children:j.jsxs("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1v8jjaa",children:[j.jsx("div",{className:"x1yztbdb",children:d("WAWebThemeContext").isLightTheme()?j.jsx(d("WAWebCommunityAdminLightIcon").CommunityAdminLightIcon,{width:130}):j.jsx(d("WAWebCommunityAdminDarkIcon").CommunityAdminDarkIcon,{width:130})}),j.jsx("div",{className:"x1yztbdb x2b8uid",children:j.jsx(d("WAWebEmojiText.react").EmojiText,{className:"x1603h9y x1u7k74 xk50ysn",text:h._("__JHASH__QrtI6jEPCg3__JHASH__")})}),j.jsx("div",{className:"xg0cujg",children:j.jsx("div",{className:"x1f6kntn",children:g})})]})})})}a.displayName=a.name+" [from "+f.id+"]";e=b;function k(){return m("communities/learning")}var l="https://www.whatsapp.com";function m(a){return l+"/"+a+"?lang="+c("WAWebL10N").getNormalizedLocale()}g["default"]=e}),226);
__d("WAWebCommunityExistingGroupConfirmationPopup.react",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.communityName,e=a.groupCount,f=a.onContinue;a=b!=null?h._("__JHASH__15SrpYV2OTc__JHASH__",[h._plural(e),h._param("community-name",j.jsx(d("WAWebEmojiText.react").EmojiText,{text:b}))]):h._("__JHASH__kdAMm48oMlX__JHASH__",[h._plural(e)]);b=function(){d("WAWebModalManager").ModalManager.close()};e=function(){f(),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:e,onCancel:b,okText:c("WAWebFbtCommon")("Continue"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityExistingGroupsDrawer.react",["fbt","WAAbortError","WALogger","WANullthrows","WAPromiseRaceAbort","WAWebChatCollection","WAWebChatModel","WAWebChatParticipantList.react","WAWebCheckmarkIcon","WAWebClassnames","WAWebCommunityAddGroupConfirmationPopup.react","WAWebCommunityExistingGroupConfirmationPopup.react","WAWebCommunityGatingUtils","WAWebCommunitySubgroupsLimitReachedPopup.react","WAWebConfirmPopup.react","WAWebContactCollection","WAWebCopyPasteSelectable.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFocusIndicator","WAWebFocusTracer","WAWebGroupMetadataCollection","WAWebGroupType","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebModalManager","WAWebMultiSelectChatList.react","WAWebMultiSelection","WAWebNameGroupModal.react","WAWebRound.react","WAWebSetSubjectGroupAction","WAWebSingleSelection","WAWebSpinner.react","WAWebText_DONOTUSE.react","WAWebTopMenuRedesignGatingUtils","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","asyncToGeneratorRuntime","lodash","react","useWAWebLazyRef","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["name_group_modal:onSetSubject failed"]);k=function(){return a};return a}a=j||d("react");var l=i||(i=c("react"));e=a.forwardRef;var m=a.useEffect,n=a.useRef,o=a.useState,p={drawerSection:{zIndex:"xhtitgo",display:"x78zum5",justifyContent:"x1l1ennw",paddingBottom:"x1gan7if",marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0},paragraph:{paddingTop:"x1p5oq8j",paddingEnd:"xxbr6pl",paddingBottom:"xwxc41k",paddingStart:"xbbxn1n",fontSize:"x1f6kntn",lineHeight:"x37zpob",textAlign:"x2b8uid",color:"x16cd2qt",backgroundColor:"x150wa6m",borderBottom:"x1w7fho5",overflowWrap:"x1mzt3pk",$$css:!0},createNewGroupText:{color:"x1eqckd8",$$css:!0}};f=e(function(a,e){var f=a.onBack,g=a.onSubmit,i=a.onCreateNewGroup,j=a.addedExistingGroups,q=a.groupsSuggestedByMeToCommunity,r=a.communityName,s=a.currentSubgroupCount,t=a.fromInfo,u=a.isCommunityAdmin,v=u===void 0?!1:u,w=a.isCommunityCreation;u=a.isParentGroupClosed;var x=u===void 0?!1:u,y=w===!0?d("WAWebCommunityGatingUtils").getParentGroupLinkLimitCommunityCreation():d("WAWebCommunityGatingUtils").getParentGroupLinkLimit(),z=y-s,A=Array.from((a=j)!=null?a:[]);u=o(!1);s=u[0];var B=u[1];a=o("");u=a[0];var C=a[1],D=c("useWAWebLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})}),E=c("useWAWebLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})});a=n(null);var F=o([]),G=F[0],H=F[1];F=o([]);var I=F[0],J=F[1];F=o(!0);var K=F[0],L=F[1];F=n(new(c("WAWebFlatListController"))());var M=n();m(function(){c("WAWebFocusTracer").focus(M.current)});var N=function(){L(!0);var a=d("WAWebContactCollection").ContactCollection.getGroupContacts();a=a.filter(function(a){var b=d("WAWebChatCollection").ChatCollection.get(a.id.toString());b=b==null?void 0:(b=b.groupMetadata)==null?void 0:b.participants;return b!=null&&b.iAmAdmin()&&!(j==null?void 0:j.has(a.id))});a=a.filter(function(a){a=c("WAWebGroupMetadataCollection").get(a.id.toString());return(a==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.DEFAULT||(a==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP});J(a);L(!1)};m(function(){N()},[]);var O=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),c("WAWebFocusTracer").focus(M.current)},P=function(){B(!0),void g(G)["finally"](function(){return B(!1)})},Q=function(){if(!v){var a=h._("__JHASH__gpV9n23LdCq__JHASH__",[h._plural(G.length,"group-count")]),b=G.length===1?h._("__JHASH__AVU6mJ9x1On__JHASH__"):h._("__JHASH__AqVGrDO_YSQ__JHASH__");d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCommunityAddGroupConfirmationPopup.react"),{title:a,disclaimer:b,onOK:function(){d("WAWebModalManager").ModalManager.close(),P()},onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}))}else x?P():d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCommunityExistingGroupConfirmationPopup.react"),{onContinue:P,communityName:r,groupCount:G.length}))},R=function(a){D.current.setVal(a,!1),H(D.current.getSelected()),C("")},S=function(a,b){R(b)},T=function(a){a==null?void 0:a.preventDefault(),E.current.setFirst(!0)},U=function(a){E.current.unset(),c("WAWebFocusTracer").focus(M.current)},V=c("useWAWebUnmountSignal")(),W=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a;yield c("WAPromiseRaceAbort")(d("WAWebSetSubjectGroupAction").setGroupSubject(b,a),V)["catch"](d("WAAbortError").catchAbort(function(){}))["catch"](function(a){d("WALogger").WARN(k()).devConsole(a)});d("WAWebModalManager").ModalManager.close();H(D.current.getSelected());C("")});return function(b,c){return a.apply(this,arguments)}}(),X=function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._("__JHASH__TRqQJIz5tfr__JHASH__")}))},Y=function(a,b){if(G.length>=z&&b)d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCommunitySubgroupsLimitReachedPopup.react"),{maxSubgroups:y,isCommunityCreation:w}));else{b=c("WAWebGroupMetadataCollection").get(a.id);var e=(b==null?void 0:b.isUnnamed)===!0;if(e){e=c("WANullthrows")(d("WAWebChatCollection").ChatCollection.get(a.id.toString()));var f=c("WANullthrows")(D.current.list.find(function(b){return b.id.toString()===a.id.toString()})),g=h._("__JHASH__RYurgcrM-Ga__JHASH__");d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebNameGroupModal.react"),{chat:e,subtext:g,onCancel:function(){R(f),d("WAWebModalManager").ModalManager.close()},onOK:W,editable:b==null?void 0:b.canSetSubject(),editRestrictionInfo:(b==null?void 0:b.restrict)?X:void 0}))}else H(D.current.getSelected()),C("")}},Z=function(){var a=c("lodash").differenceWith(I,A,function(a,b){return a.id.equals(b)});return a},$;G.length>0&&($=l.jsx(d("WAWebRound.react").Round,{testid:void 0,onClick:Q,label:c("WAWebFbtCommon")("Next"),children:s?l.jsx(d("WAWebSpinner.react").Spinner,{color:"white",size:30}):l.jsx(d("WAWebCheckmarkIcon").CheckmarkIcon,{})}));Q=function(a){var b=c("WAWebGroupMetadataCollection").get(a.id.toString());b=(b==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP;var e=Boolean(q==null?void 0:q.some(function(b){return b.equals(a.id)}));return b||e};s=function(a,b){if(!b||!(a instanceof d("WAWebChatModel").Chat))return;b=c("WAWebGroupMetadataCollection").get(a.id.toString());b=(b==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP;if(b){b=(b=a.groupMetadata)==null?void 0:(b=b.getParentGroupChat())==null?void 0:b.formattedTitle;return h._("__JHASH__TkAYfl948fX__JHASH__",[h._param("community-name",l.jsx(d("WAWebEmojiText.react").EmojiText,{text:b}))])}else if(Boolean(q==null?void 0:q.some(function(b){return b.equals(a.id)})))return h._("__JHASH__JzMN274gz_1__JHASH__")};var aa=Z();Z=l.jsx(c("WAWebMultiSelectChatList.react"),{ref:a,active:E.current,selections:D.current,flatListController:F.current,msgType:"message",onLeaveList:O,searchText:u,maxChats:z,onSelectionChanged:Y,chatFilter:function(a){return aa.some(function(b){return b.id.equals(a.id)})},excludeBroadcast:!0,excludeContacts:!0,isCommunityExistingGroupsDrawer:!0,isDisabled:Q,customItemSecondaryText:s});I.length>0?!v?a=h._("__JHASH__ehGsQNtOkd9__JHASH__"):x?a=h._("__JHASH__8ztYXgjINzG__JHASH__"):a=h._("__JHASH__1Q_cmGMvFRr__JHASH__"):a=l.jsxs(l.Fragment,{children:[h._("__JHASH__3noVCKm6Oz3__JHASH__")," ",l.jsx(c("WAWebUnstyledButton.react"),{xstyle:p.createNewGroupText,onClick:i,children:h._("__JHASH__rNMa5amjd6Y__JHASH__")})]});Y=h._("__JHASH__Pa6QhNQcFVP__JHASH__",[h._implicitParam("=m1",l.jsx("span",{dir:c("WAWebL10N").LR("ltr","rtl"),children:h._("__JHASH__tCcM4ifaOKl__JHASH__",[h._param("groupcount",c("WAWebL10N").n(G.length)),h._param("subgroups-left-to-max",c("WAWebL10N").n(z)),h._implicitParam("=m2",l.jsx("span",{dir:c("WAWebL10N").LR("ltr","rtl"),children:h._("__JHASH__I-4rxNFz7tp__JHASH__")}))])}))]);return l.jsxs(c("WAWebDrawer.react"),{ref:e,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:Y,type:t===!0||d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE,onBack:f}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{xstyle:p.paragraph,children:a}),K?l.jsx("div",{className:"x150wa6m x78zum5 xl56j7k x4i7bpe x4uap5 x1sgudl8 xkhd6sd",children:l.jsx(d("WAWebSpinner.react").Spinner,{})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x9desvi x1gz9zih xsag5q8 x1b9tyad x10wh9bi x1wdrske x8viiok x18hxmgj x150wa6m",children:l.jsxs("div",{className:"x1n2onr6 xh8yej3 xisnujt x1hkcv85 x1yrsyyn x4uap5 x18d9i69 x1h0ha7o x1odjw0f x6prxxf x1fcty0u x132q4wb xjbqb8w x76ihet xwmqs3e xx6wbpl xxxdfa6 x1a2a7pz x1wl3egx",children:[l.jsx("div",{"data-list-scroll-container":!0,children:l.jsx(c("WAWebChatParticipantList.react"),{theme:"list-names",contacts:G,onDelete:S,onFocusSearch:O})}),l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{down:T},onFocus:U,children:l.jsx("input",{"data-testid":void 0,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("x1rg5ohu xh8yej3 xt7dq6l x1nn3v0j x4uap5 x1120s5i xkhd6sd xdj266r x11i5rnm xat24cr x1mh8g0r x6prxxf x37zpob xzsf02u x16dsc37 xjbqb8w x76ihet xwmqs3e x112ta8 xxxdfa6 x1a2a7pz",d("WAWebCopyPasteSelectable.react").SELECTABLE_INPUT_CSS_CLASS),ref:M,placeholder:h._("__JHASH__5dieFWhOI_t__JHASH__"),onChange:function(a){return C(a.target.value)},value:u,type:"text"})}),l.jsx("span",{className:"xixxii4 xlshs6z",children:u})]})}),l.jsx(c("WAWebFlatListContainer.react"),{className:"x1n2onr6 x1iyjqo2 xs83m0k x18xmwgd x6ikm8r x1odjw0f x150wa6m",flatListControllers:[F.current],children:Z})]}),l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",xstyle:p.drawerSection,children:$})]})]})});a=f;g["default"]=a}),226);
__d("WAWebCommunitySubgroupComparator",[],(function(a,b,c,d,e,f){function a(a,b){if(a.announcementGroup===!0)return-1;return b.announcementGroup===!0?1:a.name.toLowerCase().localeCompare(b.name.toLowerCase())}f.SubgroupComparator=a}),66);
__d("WAWebCommunityHomeGroupsManager.react",["fbt","WANullthrows","WAWebAnnouncementSpeakerIcon","WAWebCellFrame.react","WAWebChatCollection","WAWebCommunityCells.react","WAWebCommunityGatingUtils","WAWebCommunityGetParticipantInfoText","WAWebCommunityRemoveSubgroup","WAWebCommunitySubgroupComparator","WAWebCommunitySubgroupsLimitReachedPopup.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEmojiText.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebGroupMetadataCollection","WAWebGroupType","WAWebL10N","WAWebModalManager","WAWebNavigableFlatList.react","WAWebRoundShape.react","WAWebSingleSelection","WAWebSpinner.react","WAWebSquircleIcon.react","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebUnjoinedSubgroupMetadataCollection","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","WAWebWDSText.react","react","useWAWebFocusOnMount","useWAWebLazyRef","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react"));b=a.forwardRef;var l=a.useMemo,m=a.useState,n=d("WAWebCommunityCells.react").RemoveButtonFactory(),o={icon:{height:"x112a4uq",width:"x15jighw",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},announcementIcon:{backgroundColor:"x13vkxft",$$css:!0},announcementSpeaker:{color:"x1o6zcso",$$css:!0},hotKeys:{height:"x5yr21d",$$css:!0},communitySettingsButton:{color:"x1n68mz9",$$css:!0},communitySettingsSection:{backgroundColor:"x15g3fpr",$$css:!0}},p=k.jsx(c("WAWebSquircleIcon.react"),{xstyle:[o.icon,o.announcementIcon],transparent:!0,children:k.jsx(d("WAWebAnnouncementSpeakerIcon").AnnouncementSpeakerIcon,{directional:!0,height:40,width:40,iconXstyle:o.announcementSpeaker})}),q=function(a){var b,e=d("WAWebChatCollection").ChatCollection.get(a.toString());e?(b=c("WANullthrows")(e.groupMetadata),e=e.title()):(b=c("WAWebUnjoinedSubgroupMetadataCollection").assertGet(a.toString()),e=b.subject);return[b,e]};function r(a){var b=a.data,e=b.itemKey,f=b.parentId,g=b.name,i=b.icon,j=b.secondary,l=b.showRemove,o=b.subgroupWid;b=m(!1);var p=b[0],q=b[1];b=d("WAWebChatCollection").ChatCollection.get(e);e=d("useWAWebModelValues").useOptionalModelValues(b,["formattedTitle"]);var r=(e=e==null?void 0:e.formattedTitle)!=null?e:g;(b==null?void 0:(e=b.groupMetadata)==null?void 0:e.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&(r=h._("__JHASH__x2ZQLkFbyM5__JHASH__").toString());g=function(){d("WAWebCommunityRemoveSubgroup").handleRemoveSubgroup({parentId:f,removedSubgroupWid:o,removedSubgroupTitle:r,setLoading:q})};return k.jsx(c("WAWebCellFrame.react"),{primary:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:r,ellipsify:!0}),image:i,secondary:j,detail:l&&(p?k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:k.jsx(d("WAWebSpinner.react").Spinner,{size:18,stroke:6,color:"highlight"})}):k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:k.jsx(n,{onClick:g,active:a.active,subgroup:o,groupName:r})}))})}r.displayName=r.name+" [from "+f.id+"]";e=b(function(a,b){var e=a.joinedSubgroups,f=a.unjoinedSubgroups,g=a.currentSubgroupCount,i=a.onNewGroupFlow,j=a.onExistingGroupFlow,m=a.onCommunitySettingsClick,n=a.onBack,s=a.parentId;a=a.fromInfo;var t=d("WAWebCommunityGatingUtils").getParentGroupLinkLimit(),u=c("useWAWebLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.itemKey})}),v=c("useWAWebFocusOnMount")(),w=d("useWAWebModelValues").useOptionalModelValues(c("WAWebGroupMetadataCollection").get(s),["allowNonAdminSubGroupCreation","participants"]),x=function(){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebCommunitySubgroupsLimitReachedPopup.react"),{maxSubgroups:t}))},y=function(){g>=t?x():j()},z=function(){g>=t?x():i()},A=l(function(){return[].concat(e,f).map(function(a){var b=q(a),e=b[0];b=b[1];if(e.defaultSubgroup===!0)return{itemKey:a.toString(),subgroupWid:a,parentId:s,name:b,icon:p,secondary:null,announcementGroup:!0,showRemove:!1};var f=k.jsx(d("WAWebDetailImage.react").DetailImage,{id:a}),g;!e.participants.iAmMember()?g=h._("__JHASH__4CntH5CxPUe__JHASH__"):e.participants!=null?g=d("WAWebCommunityGetParticipantInfoText").getParticipantInfoText(e.participants):g=h._("__JHASH__mOyFeOrHiA___JHASH__",[h._param("subject",b)]);return{name:b,subgroupWid:a,parentId:s,itemKey:a.toString(),icon:k.jsx(c("WAWebRoundShape.react"),{xstyle:o.icon,transparent:!0,children:f}),secondary:g,announcementGroup:!1,showRemove:(e=w==null?void 0:w.participants.iAmAdmin())!=null?e:!1}}).sort(d("WAWebCommunitySubgroupComparator").SubgroupComparator)},[e,f,s,w==null?void 0:w.participants]),B=l(function(){return A.map(function(a){var b=a.showRemove;a=a.subgroupWid;if(b)return{itemKey:"remove-button-"+a.toString()}}).filter(Boolean)},[A]);u.current.init(B);B=(B=w==null?void 0:w.participants.iAmAdmin())!=null?B:!1;var C=c("WAWebL10N").getNormalizedLocale();C=C==="ar"||C==="fa"?"rtl":"ltr";C=B?h._("__JHASH__mCY1nekoWN2__JHASH__",[h._implicitParam("=m1",k.jsx("span",{dir:C,children:h._("__JHASH__rsccOp85Ukk__JHASH__",[h._param("groupcount",c("WAWebL10N").n(g)),h._param("maxsubgroups",c("WAWebL10N").n(t)),h._implicitParam("=m2",k.jsx("span",{dir:C,children:h._("__JHASH__KX7lVUzIv4T__JHASH__")}))])}))]):h._("__JHASH__02uKytVPklf__JHASH__",[h._implicitParam("=m1",k.jsx("span",{dir:C,children:h._("__JHASH__ZIdIp_MECg3__JHASH__",[h._param("groupcount",c("WAWebL10N").n(g)),h._param("maxsubgroups",c("WAWebL10N").n(t)),h._implicitParam("=m2",k.jsx("span",{dir:C,children:h._("__JHASH__QnxuwOEy6cw__JHASH__")}))])}))]);var D=(w==null?void 0:w.allowNonAdminSubGroupCreation)===!0,E=k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getMemberAddedGroupsUrl(),children:c("WAWebFbtCommon")("Learn more")});B?B=D?h._("__JHASH__feDtcqhLjlf__JHASH__",[h._implicitParam("=m2",k.jsx(c("WAWebUnstyledButton.react"),{onClick:m,xstyle:o.communitySettingsButton,children:h._("__JHASH__p2cEmMjgdxE__JHASH__")}))]):h._("__JHASH__hE_dwaBZNdL__JHASH__",[h._implicitParam("=m2",k.jsx(c("WAWebUnstyledButton.react"),{onClick:m,xstyle:o.communitySettingsButton,children:h._("__JHASH__cDv6z425hcJ__JHASH__")}))]):B=D?h._("__JHASH__kcfz_unpYTO__JHASH__",[h._param("learn-more",E)]):h._("__JHASH__D84G_FsDXAw__JHASH__",[h._param("learn-more",E)]);m=d("WAWebCommunityGatingUtils").memberAddedGroupsM1Enabled()?k.jsx(c("WAWebDrawerSection.react"),{xstyle:[o.communitySettingsSection,d("WAWebUISpacing").uiMargin.all30,d("WAWebUISpacing").uiMargin.top0],shadow:!1,children:k.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:B})}):null;return k.jsx("div",{role:"complementary",ref:v,tabIndex:"-1","aria-label":h._("__JHASH__RWcgaXSdSge__JHASH__"),children:k.jsxs(c("WAWebDrawer.react"),{ref:b,testid:void 0,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:C,titleStr:C,type:a||d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE,onBack:n}),k.jsxs(c("WAWebDrawerBody.react"),{children:[k.jsxs(c("WAWebDrawerSection.react"),{children:[k.jsx(d("WAWebCommunityCells.react").CreateNewGroupCell,{onClick:z}),k.jsx(d("WAWebCommunityCells.react").AddExistingGroupsCell,{onClick:y})]}),m,k.jsx(c("WAWebDrawerSection.react"),{title:h._("__JHASH__60ca9S2FyDW__JHASH__"),testid:void 0,children:k.jsx(d("WAWebNavigableFlatList.react").NavigableFlatList,{selection:u.current,ariaLabel:h._("__JHASH__o-RcHp0pI8f__JHASH__"),listData:A,onRenderItem:function(a){return k.jsx(r,{data:a,active:u.current})},rotateList:!0})})]})]})})});g.styles=o;g.CommunityHomeGroupsManager=e}),226);
__d("WAWebMediaEditor.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ajwt",previewOnly:"_ajwu",documentPreview:"_ajwv",dropOverlay:"_ajww",dropOverlayOutline:"_ajwx",spinner:"_ajwy",footer:"_ajwz",addMediaButton:"_ajw-",addMediaButtonDisabled:"_ajw_",filmstripContainer:"_ajx0",thumbs:"_ajx1",sendButton:"_ajx2",captureFooter:"_ajx3"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorAddIcon",["err"],(function(a,b,c,d,e,f,g){function a(){throw c("err")("This SVG doesn't exist on web!")}g.MediaEditorAddIcon=a}),98);
__d("WAWebMediaEditorEnumsThickness",["$InternalEnum"],(function(a,b,c,d,e,f){var g=b("$InternalEnum").Mirrored(["SMALL","MEDIUM","LARGE","XLARGE"]);function a(){return Array.from(g.members())}function c(a){switch(a){case g.SMALL:return 8;case g.MEDIUM:return 12;case g.LARGE:return 18;case g.XLARGE:return 24}}f.ThicknessType=g;f.getAllThicknesses=a;f.getThicknessValue=c}),66);
__d("WAWebMediaEditorFilmstripAttachMediaThumb.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={thumb:"_ak3k",active:"_ak3l",bodyWrapper:"_ak3n",body:"_ak3i",bodyIcon:"_ak3j",btnDelete:"_ak3m"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorFilmstripAttachMediaThumb.react",["fbt","WAWebAudioFileIcon","WAWebClassnames","WAWebMediaEditorFilmstripAttachMediaThumb.scss","WAWebMimeTypes","WAWebMsgType","WAWebStateUtils","WAWebXAltIcon","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){a=a.attachMedia;a=d("useWAWebModelValues").useModelValues(a,["mimetype","preview","type","fullPreview","fullPreviewSize","documentPageCount"]);var b;if(a.type===d("WAWebMsgType").MSG_TYPE.IMAGE)b=a.preview;else if(a.type===d("WAWebMsgType").MSG_TYPE.VIDEO)b="data:image/jpeg;base64,"+a.preview;else if(d("WAWebMimeTypes").previewType(a.mimetype)==="pdf"){var e=a.fullPreview&&a.fullPreviewSize&&a.documentPageCount!=null&&a.documentPageCount>0;e&&(b=a.fullPreview)}if(b)return j.jsx("div",{className:c("WAWebMediaEditorFilmstripAttachMediaThumb.scss").body,children:j.jsx("img",{src:b,alt:h._("__JHASH__oQ6YeRrk7BR__JHASH__")})});if(a.type===d("WAWebMsgType").MSG_TYPE.AUDIO)return j.jsx("div",{className:c("WAWebMediaEditorFilmstripAttachMediaThumb.scss").body,children:j.jsx(d("WAWebAudioFileIcon").AudioFileIcon,{})});e=d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebMediaEditorFilmstripAttachMediaThumb.scss").body,c("WAWebMediaEditorFilmstripAttachMediaThumb.scss").bodyIcon,(a=(e=d("WAWebMimeTypes").DOCUMENT_MIMETYPES[a.mimetype])==null?void 0:e.icon)!=null?a:"icon-doc-generic");return j.jsx("div",{className:e})}k.displayName=k.name+" [from "+f.id+"]";b=j.forwardRef(a);function a(a,b){var e,f;a=babelHelpers["extends"]({},a);var g=a.attachMedia,i=a.onClick,l=a.onClose,m=function(a){i(d("WAWebStateUtils").unproxy(g),a)},n=function(a){l(d("WAWebStateUtils").unproxy(g),a)};return j.jsxs("button",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[(f=c("WAWebMediaEditorFilmstripAttachMediaThumb.scss")).active]=a.active,e[f.thumb]=!0,e)),onClick:m,"aria-label":h._("__JHASH__dBRV9l9DZ2Z__JHASH__"),ref:b,children:[j.jsx("div",{className:f.btnDelete,onClick:n,role:"button",children:j.jsx(d("WAWebXAltIcon").XAltIcon,{})}),j.jsx("div",{className:f.bodyWrapper,children:j.jsx(k,{attachMedia:g})})]})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebMediaEditorFilmstripDragAndDrop.react",["WAWebMediaEditorFilmstripAttachMediaThumb.react","WAWebMsgType","react","react-sortable-hoc","useWAWebForceUpdate"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("react-sortable-hoc").SortableElement(function(a){a=a.children;return a}),k=d("react-sortable-hoc").SortableContainer(function(a){a=a.children;return a});function a(a){var b=a.mediaCollection,e=a.className,f=a.onElementRef,g=a.onClick,h=a.onClose;a=b.getPreviewableMedias();var l=c("useWAWebForceUpdate")(),m=function(a){var c=a.oldIndex;a=a.newIndex;b.reorder(c,a);l()};return i.jsx(k,{onSortEnd:m,axis:"x",helperClass:"SortableHelper",distance:10,children:i.jsx("div",{className:e,children:a.map(function(a,e){return i.jsx(j,{index:e,children:i.jsx(c("WAWebMediaEditorFilmstripAttachMediaThumb.react"),{attachMedia:a,active:a===b.getActive(),previewMode:((e=b.getActive())==null?void 0:e.type)!==d("WAWebMsgType").MSG_TYPE.IMAGE,onClick:g,onClose:h,ref:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(b){return f(a.id,b)})})},a.id)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebIcHdActiveIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="ic-hd-active";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=32;m=32;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 32 32",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.79199 21.0949C3.792 23.2757 5.55996 25.0437 7.74085 25.0437H20.0548C20.3244 25.0402 20.5419 24.8206 20.5419 24.5501V22.0957C20.5419 20.4676 21.8617 19.1478 23.4899 19.1478H25.5556C26.0579 19.1478 26.4652 18.7405 26.4652 18.2382C26.4652 18.2043 26.4661 18.1707 26.4678 18.1375V10.8504C26.4678 8.66953 24.6998 6.90308 22.5189 6.90308L7.74088 6.90308C5.55997 6.90309 3.792 8.67106 3.792 10.852L3.79199 21.0949ZM12.9351 20.0024H14.4953V11.9413H12.9351V15.2022H10.6245V11.9413H9.05564V20.0024H10.6245V16.5531H12.9351V20.0024ZM16.5301 11.9413V20.0024H18.5401C19.4855 20.0024 20.2266 19.7016 20.7633 19.0999C21.3035 18.4946 21.5736 17.6623 21.5736 16.603V15.2964C21.563 14.2555 21.2875 13.4361 20.7473 12.8382C20.2106 12.2402 19.489 11.9413 18.5827 11.9413H16.5301ZM18.0975 18.6515V13.2977H18.668C19.1549 13.3125 19.4997 13.4693 19.7023 13.7683C19.9049 14.0636 20.0062 14.5877 20.0062 15.3407V16.7414C19.9955 17.4427 19.8836 17.9373 19.6703 18.2252C19.4571 18.5094 19.0892 18.6515 18.5667 18.6515H18.0975ZM30.4521 19.9975L25.9503 24.3925L24.5109 22.9873C24.3678 22.8474 24.1736 22.7687 23.9711 22.7687C23.7686 22.7687 23.5744 22.8474 23.4314 22.9873C23.1328 23.2788 23.1328 23.7497 23.4314 24.0412L25.4143 25.9772C25.7129 26.2687 26.1953 26.2687 26.4939 25.9772L31.5393 21.0514C31.8379 20.7599 31.8379 20.289 31.5393 19.9975C31.2407 19.706 30.7507 19.706 30.4521 19.9975Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IcHdActiveIcon=a}),98);
__d("WAWebIcHdSettingsIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="ic-hd-settings";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=32;m=32;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 32 32",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0606 8.44477H7.19032C6.16357 8.44477 5.33123 9.27712 5.33123 10.3039V21.6399C5.33123 22.6666 6.16357 23.499 7.19032 23.499H18.9996C19.0787 24.036 19.221 24.5525 19.4186 25.0407H7.19032C5.31213 25.0407 3.78955 23.5181 3.78955 21.6399V10.3039C3.78955 8.42567 5.31213 6.90308 7.19032 6.90308H23.0606C24.9388 6.90308 26.4613 8.42567 26.4613 10.3039V15.7792C26.2099 15.7508 25.9544 15.7363 25.6954 15.7363C25.4331 15.7363 25.1742 15.7512 24.9197 15.7803V10.3039C24.9197 9.27712 24.0873 8.44477 23.0606 8.44477ZM14.4944 20.0024H12.9341V16.5532H10.6235V20.0024H9.05472V11.9413H10.6235V15.2023H12.9341V11.9413H14.4944V20.0024ZM16.5291 20.0024V11.9413H18.5817C19.4881 11.9413 20.2096 12.2402 20.7463 12.8382C21.2865 13.4361 21.562 14.2555 21.5727 15.2964V16.603C21.5727 17.6623 21.3025 18.4947 20.7623 19.1C20.2256 19.7016 19.4845 20.0024 18.5391 20.0024H16.5291ZM18.0966 13.2977V18.6515H18.5657C19.0882 18.6515 19.4561 18.5094 19.6693 18.2252C19.8826 17.9373 19.9946 17.4427 20.0052 16.7414V15.3407C20.0052 14.5877 19.9039 14.0636 19.7013 13.7683C19.4987 13.4694 19.154 13.3125 18.667 13.2977H18.0966ZM24.8447 26.6327L24.581 25.3538C24.4052 25.2828 24.2406 25.2083 24.087 25.1304C23.9329 25.052 23.7753 24.9559 23.6141 24.8422L22.3396 25.2259L21.4606 23.7765L22.4715 22.9238C22.4422 22.7249 22.4275 22.5402 22.4275 22.3696C22.4275 22.1991 22.4422 22.0144 22.4715 21.8154L21.4606 20.9628L22.3396 19.5133L23.6141 19.897C23.7753 19.7833 23.9329 19.6873 24.087 19.6088C24.2406 19.531 24.4052 19.4565 24.581 19.3855L24.8447 18.1065H26.6027L26.8664 19.3855C27.0422 19.4565 27.2071 19.5347 27.3612 19.6199C27.5148 19.7052 27.6721 19.8118 27.8333 19.9397L29.1078 19.5133L29.9868 21.0054L28.9759 21.8581C29.0052 22.0286 29.0199 22.2062 29.0199 22.3909C29.0199 22.5757 29.0052 22.7533 28.9759 22.9238L29.9868 23.7765L29.1078 25.2259L27.8333 24.8422C27.6721 24.9559 27.5148 25.052 27.3612 25.1304C27.2071 25.2083 27.0422 25.2828 26.8664 25.3538L26.6027 26.6327H24.8447ZM25.7237 24.0749C26.2071 24.0749 26.6211 23.908 26.9657 23.5744C27.3097 23.2402 27.4817 22.8386 27.4817 22.3696C27.4817 21.9007 27.3097 21.4991 26.9657 21.1649C26.6211 20.8312 26.2071 20.6644 25.7237 20.6644C25.2403 20.6644 24.8265 20.8312 24.4826 21.1649C24.138 21.4991 23.9657 21.9007 23.9657 22.3696C23.9657 22.8386 24.138 23.2402 24.4826 23.5744C24.8265 23.908 25.2403 24.0749 25.7237 24.0749Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IcHdSettingsIcon=a}),98);
__d("WAWebMediaEditorCanvasImage.react",["WAWebMediaEditorUtilsReactKonvaCore","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.layer;return i.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Image,{width:a.width,height:a.height,image:a.image})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorCanvasOutline.react",["WAWebConstantsDeprecated","WAWebMediaEditorGeometryRect","WAWebMediaEditorUtilsReactKonvaCore","lodash","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef;e=j.forwardRef(a);function a(a,b){a.dimension;var e=a.layer,f=l(),g=l();k(b,function(){return{show:function(){var a;(a=f.current)==null?void 0:a.show()},hide:function(){var a;(a=f.current)==null?void 0:a.hide()},getBoundingRect:function(){var a=g.current;if(!a)return;a=a.getClientRect();var b=a.x,d=a.y,f=a.width;a=a.height;return c("WAWebMediaEditorGeometryRect").create({x:b,y:d,width:f,height:a,rotation:e.rotation,scale:e.scale})}}});a=c("lodash").flatMap(e.getAllPoints(),function(a){return[a.x,a.y]});return j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{ref:f,width:e.width,height:e.height,visible:!1,children:j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Line,{ref:g,points:a,closed:!0,fill:"white",lineCap:"round",lineJoin:"round",tension:c("WAWebConstantsDeprecated").MEDIA_EDITOR_OUTLINE_TENSION,globalCompositeOperation:"destination-in"})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g.Outline=b}),98);
__d("WAWebMediaEditorCanvasBackground.react",["WAWebCanvasUtils","WAWebMediaEditorCanvasImage.react","WAWebMediaEditorCanvasOutline.react","WAWebMediaEditorUtilsReactKonvaCore","WAWebStickerConstants","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef;e=j.forwardRef(a);function a(a,b){var e=a.dimension,f=a.layer,g=a.outlineLayer;a.removeBackground;var h=a.scale;a=a.visible;var i=l(),m=l(),n=function(){var a;(a=m.current)==null?void 0:a.show()},o=function(){var a;(a=m.current)==null?void 0:a.hide()};k(b,function(){return{toCanvas:function(){var a;a=(a=m.current)==null?void 0:a.getBoundingRect();var b=i.current;if(!a||!b||a.size.isEmpty())return;var c=a.x,e=a.y,f=a.width;a=a.height;n();b=b.toCanvas({x:c,y:e,width:f,height:a,pixelRatio:1/h});o();c=Math.max(b.width,b.height);e=c/d("WAWebStickerConstants").STICKER_DIMENSION;f=d("WAWebStickerConstants").STICKER_BORDER_WIDTH*e;a=Math.max(Math.ceil(f),2);c=d("WAWebCanvasUtils").addBorder(b,a);e=d("WAWebCanvasUtils").trim(c);return e}}});if(!f||!g)return null;b=f.frame.getCenter();return j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{ref:i,visible:a,children:[j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{x:b.x,y:b.y,offsetX:f.width/2,offsetY:f.height/2,width:f.width,height:f.height,rotation:f.rotation,scaleX:f.scale,scaleY:f.scale,children:j.jsx(c("WAWebMediaEditorCanvasImage.react"),{layer:f})}),j.jsx(d("WAWebMediaEditorCanvasOutline.react").Outline,{ref:m,layer:g,dimension:e})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebMediaEditorCanvasContext",["react"],(function(a,b,c,d,e,f,g){var h;a=(h||d("react")).createContext;b={transforming:!1,dragging:!1,editing:!1,canEditBackground:!1};c=a(b);g.CanvasContext=c}),98);
__d("WAWebMediaEditorCanvasEditableText.react",["fbt","WAWebDropdown.react","WAWebEmojiPanel.react","WAWebMediaEditorEnumsFonts","WAWebMediaEditorUtilsTextInCanvas","WAWebRichTextInput.react","WAWebSmileyIcon","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","lodash","react","stylex","useWAWebOnOutsideClick","useWAWebPrevious","useWAWebStaticButtonA11y"],(function(a,b,c,d,e,f,g,h){var i,j,k;a=k||d("react");var l=i||(i=c("react"));b=a.forwardRef;var m=a.useCallback,n=a.useEffect,o=a.useImperativeHandle,p=a.useRef,q=a.useState,r={container:{boxSizing:"x9f619",borderTop:"x1xc06ks",borderEnd:"xky7lmy",borderBottom:"x1yqjdxy",borderStart:"x1ca9zfk",borderTopStartRadius:"x8u2fvd",borderTopEndRadius:"x1ht7hnu",borderBottomEndRadius:"x1quq95r",borderBottomStartRadius:"x5yzy4c",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",$$css:!0},inputText:{fontSize:"x1lkfr7t",$$css:!0},emojiButtonWrapper:{cursor:"x1ypdohk",backgroundColor:"x1hqk2wv",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",":hover_backgroundColor":"x11q5tta",$$css:!0}};e=b(function(a,b){var e=a.text,f=a.layer,g=a.layerCenter,i=a.scale,k=a.onSave,v=a.onUnselect,w=a.onOutsideClick;a=q(e);var x=a[0],y=a[1];e=q();var z=e[0],A=e[1],B=p(),C=m(function(){k(x.replace(/^\n+/,"").replace(/\n+$/,""))},[k,x]);o(b,function(){return{save:function(){C(),v()}}},[C,v]);a=d("useWAWebOnOutsideClick").useOnOutsideClickRef(function(a){if(z||(w==null?void 0:w(a))===!1)return;C();v()});e=function(a){y(a.text)};var D=function(a){var b=B.current;if(!b)return;b.replaceSelection(a)},E=function(){A(null)};b=function(a){A({menu:l.jsx(d("WAWebEmojiPanel.react").EmojiPanel,{onEmoji:D,onFocusNext:E,onFocusPrev:E}),anchor:a.target})};b=c("useWAWebStaticButtonA11y")(b);var F=b[0];b=b[1];n(function(){var a;(a=B.current)==null?void 0:a.focus()},[]);g={left:g.x*i,top:g.y*i};i={color:f.textColor.toHex(),fontFamily:d("WAWebMediaEditorEnumsFonts").getFontStyle(f.font).fontFamily,textAlign:s(f.alignment),paddingLeft:f.styles.lineHorizontalPadding+1,paddingRight:f.styles.lineHorizontalPadding+1,paddingTop:1,paddingBottom:1,borderWidth:0,borderRadius:6,margin:0,boxSizing:"border-box",backgroundColor:f.textBackground?f.textBackgroundColor.toHex():void 0};var G=f.styles.backgroundShadow;G=babelHelpers["extends"]({},i,{boxShadow:f.textBackground?G.offsetX+"px "+G.offsetY+"px "+G.radius+"px "+G.spread+"px "+G.color.toRgbaString():void 0});var H=u(i),I=h._("__JHASH__gY6lXZ8fR5G__JHASH__");return l.jsxs("div",{className:"x10l6tqk x78zum5 x6s0dn4 xl56j7k xnalus7 xqtp20y",style:g,children:[l.jsx("div",{className:(j||(j=c("stylex")))(r.container,d("WAWebUISpacing").uiPadding.all4),children:l.jsxs("div",{className:"x1n2onr6",ref:a,children:[l.jsx("div",babelHelpers["extends"]({className:"xuuh30 x1uvocx6 x10l6tqk xtzzx4i x7y3cno"},b,{ref:F,children:l.jsx("div",{className:j(r.emojiButtonWrapper,d("WAWebUISpacing").uiPadding.all2),children:l.jsx(d("WAWebSmileyIcon").SmileyIcon,{})})})),l.jsx("div",{className:"x10l6tqk x13vifvy x17qophe x78zum5 x6s0dn4 x1szn6h9 xh8yej3 x5yr21d xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb",style:G,children:l.jsx(d("WAWebRichTextInput.react").RichTextInput,{ref:B,textXstyle:r.inputText,initialText:x,onChange:e,onEnter:C,multiline:!0,placeholder:I},H)}),l.jsx(t,{layer:f,draftText:x,placeholderText:I,textStyle:i})]})}),z&&l.jsx(d("WAWebUimUie.react").UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:E,children:l.jsx(c("WAWebUimUieMenu.react"),{contextMenu:babelHelpers["extends"]({dirY:d("WAWebDropdown.react").DirY.TOP,type:d("WAWebDropdown.react").MenuType.EmojiPicker},z)})})]})});function s(a){switch(a){case d("WAWebMediaEditorEnumsFonts").TextAlignment.LEFT:return"left";case d("WAWebMediaEditorEnumsFonts").TextAlignment.CENTER:return"center";case d("WAWebMediaEditorEnumsFonts").TextAlignment.RIGHT:return"right"}}function t(a){var b=a.draftText,c=a.layer,e=a.placeholderText;a=a.textStyle;a=babelHelpers["extends"]({},a,{fontSize:"17px",lineHeight:"25px",padding:"0 10px"});b||(a=babelHelpers["extends"]({},a,{fontFamily:void 0,padding:"0 14px"}));b=b?b:e.toString();return l.jsx("div",{className:"x9f619 x126k92a xlshs6z",style:a,children:d("WAWebMediaEditorUtilsTextInCanvas").getLines(b,c.font,c.fontSize,0).map(function(a,b){return l.jsx("div",{className:"x1sdyfia",children:a.words.length===0?" ":a.words.map(function(a,b){return a.emojiPath!=null?l.jsx("span",{className:"x1rg5ohu xezl2tj x17rw0jw"},b):a.text})},b)})})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=c("useWAWebPrevious")(a),d=p(0);b&&!c("lodash").isEqual(b,a)&&(d.current+=1);return d.current}g.EditableText=e}),226);
__d("WAWebMediaEditorCanvasBlur.react",["WAWebMediaEditorLayersBlur","WAWebMediaEditorUtilsReactKonvaCore","konva","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=3,n=.4;function a(a){var b,e,f,g=a.frame,h=a.layer,i=a.onTransform,o=a.onTransformEnd,p=a.onTransformStart,q=a.scale,r=a.selectedNodeRef;a=a.showPadding;var s=l();k(function(){var a;s==null?void 0:(a=s.current)==null?void 0:a.cache({pixelRatio:n,imageSmoothingEnabled:!1})},[h.image]);a=a?50:0;b=(b=g==null?void 0:g.x)!=null?b:h.x;e=(e=g==null?void 0:g.y)!=null?e:h.y;f=(f=g==null?void 0:g.width)!=null?f:h.width;g=(g=g==null?void 0:g.height)!=null?g:h.height;q=((q=q)!=null?q:1)*h.backgroundFrame.scale*m/n;b=-b+h.backgroundFrame.width/2+h.backgroundFrame.x;e=-e+h.backgroundFrame.height/2+h.backgroundFrame.y;var t=h.backgroundFrame.width+a/h.backgroundFrame.scale*2,u=h.backgroundFrame.height+a/h.backgroundFrame.scale*2,v=t/2,w=u/2;return j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{width:f,height:g,clipX:0,clipY:0,clipWidth:f,clipHeight:g,children:[j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Image,{ref:s,x:b,y:e,width:t,height:u,offsetX:v,offsetY:w,fillPatternImage:h.image,fillPatternOffsetX:-a/h.backgroundFrame.scale,fillPatternOffsetY:-a/h.backgroundFrame.scale,fillPatternRepeat:"no-repeat",scaleX:h.backgroundFrame.scale,scaleY:h.backgroundFrame.scale,rotation:(e=(b=h.backgroundFrame)==null?void 0:b.rotation)!=null?e:0,perfectDrawEnabled:!1,filters:[h.mode===d("WAWebMediaEditorLayersBlur").BlurMode.Smooth?c("konva").Filters.Blur:c("konva").Filters.Pixelate],blurRadius:h.radius/q,pixelSize:h.radius/q}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{ref:r,x:0,y:0,width:f,height:g,fill:"transparent",onTransformStart:p,onTransformEnd:o,onTransform:i})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorCanvasHoveredState.react",["WAWebMediaEditorUtilsColor","WAWebMediaEditorUtilsReactKonvaCore","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=new(d("WAWebMediaEditorUtilsColor").Color)(82,248,24,1),k=2;function a(a){var b=a.borderRadius;a=a.layer;return i.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{width:a.width,height:a.height,stroke:j.toRgbaString(),strokeWidth:k,cornerRadius:b,strokeScaleEnabled:!1})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorCanvasPaint",["WAWebMediaEditorUtilsReactKonvaCore","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useMemo,m=b.useRef;function a(a){var b=a.layer,c=l(function(){var a=document.createElement("canvas");a.width=Math.max(b.width,1);a.height=Math.max(b.height,1);return a},[b.width,b.height]),e=m();k(function(){var a=c.getContext("2d");a.clearRect(0,0,c.width,c.height);b.paths.forEach(function(a){return n(c,a)});(a=e.current)==null?void 0:(a=a.getLayer())==null?void 0:a.batchDraw()},[b.paths,c]);return j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Image,{ref:e,width:b.width,height:b.height,image:c,listening:!1})}a.displayName=a.name+" [from "+f.id+"]";function n(a,b){var c=b.points;if(!c.length)return;var d=a.getContext("2d");a={color:b.color,thickness:b.thickness,smoothing:!1};o(d,a);d.beginPath();d.moveTo(c[0].x,c[0].y);c.forEach(function(a){return d.lineTo(a.x,a.y)});d.stroke()}function o(a,b){a.lineCap="round",a.lineJoin="round",a.lineWidth=b.thickness,a.strokeStyle=b.color.toHex()}g["default"]=a}),98);
__d("WAWebMediaEditorCanvasSelectedState.react",["WAWebMediaEditorLayersBlur","WAWebMediaEditorUtilsColor","WAWebMediaEditorUtilsReactKonvaCore","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=new(d("WAWebMediaEditorUtilsColor").Color)(82,248,24,1),k=new(d("WAWebMediaEditorUtilsColor").Color)(82,248,24,.1),l=new(d("WAWebMediaEditorUtilsColor").Color)(0,0,0,0),m=2;function a(a){var b,c=a.borderRadius,e=a.frame;a=a.layer;var f=a instanceof d("WAWebMediaEditorLayersBlur").BlurLayer;return i.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{width:(b=e==null?void 0:e.width)!=null?b:a.width,height:(b=e==null?void 0:e.height)!=null?b:a.height,fill:(f?l:k).toRgbaString(),stroke:j.toRgbaString(),strokeWidth:m,cornerRadius:c,strokeScaleEnabled:!1})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorCanvasText.react",["WAWebMediaEditorEnumsFonts","WAWebMediaEditorUtilsReactKonvaCore","WAWebMediaEditorUtilsTextInCanvas","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=b.useState;function n(a){var b=a.emojiImages,c=a.layer;a=a.line;var e=Math.max.apply(Math,c.lineWidths),f=0;switch(c.alignment){case d("WAWebMediaEditorEnumsFonts").TextAlignment.LEFT:f=0;break;case d("WAWebMediaEditorEnumsFonts").TextAlignment.CENTER:f=(e-a.width)/2;break;case d("WAWebMediaEditorEnumsFonts").TextAlignment.RIGHT:f=e-a.width;break}var g=0;return a.words.map(function(a,e){var h=a.text,i=a.emojiPath;a=a.width;var k=f+c.styles.lineHorizontalPadding+g,l=c.styles.lineVerticalPadding;if(i){i=b[i];i?i=j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Image,{x:k,y:l,width:c.lineHeight,height:c.lineHeight,image:i},e):i=j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{x:k,y:l,width:c.lineHeight,height:c.lineHeight,fill:"rgba(0,0,0,0)"},e)}else{var m=d("WAWebMediaEditorUtilsTextInCanvas").getTextBounds(c.font,c.fontSize);i=j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Text,{x:k,y:l-m.top+(m.top+m.bottom)/2,width:a,height:c.lineHeight,text:h,fill:c.textColor.toHex(),fontFamily:d("WAWebMediaEditorEnumsFonts").getFontStyle(c.font).fontFamily,fontSize:c.fontSize},e)}g+=a;return i})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.layer;a=a.shadow;var c=o(b.lines),e=b.lines.map(function(a,e){var f=a.width+b.styles.lineHorizontalPadding*2,g=b.lineHeight+b.styles.lineVerticalPadding*2;return j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{width:f,height:g,y:e*g,children:j.jsx(n,{line:a,layer:b,emojiImages:c})},e)}),f=b.styles.backgroundShadow;return j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{visible:b.width!==0,width:b.width,height:b.height,children:j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{x:b.styles.layerPadding,y:b.styles.layerPadding,children:[b.textBackground&&(a?j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Path,{data:b.backgroundPath,stroke:b.textBackgroundColor.toHex(),fill:b.textBackgroundColor.toHex(),shadowColor:f.color.toHex(),shadowBlur:f.radius,shadowOffset:{x:f.offsetX,y:f.offsetY},shadowOpacity:f.color.alpha},"1"):j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Path,{data:b.backgroundPath,stroke:b.textBackgroundColor.toHex(),fill:b.textBackgroundColor.toHex()},"2")),e]})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];for(var d=d.words,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=g.emojiPath;g&&b.push(g)}}return p(b)}function p(a){var b=Array.from(new Set(a));a=b.join("");var c=l({}),d=m(0),e=d[1];k(function(){c.current={},e(0),b.forEach(function(a){var b=new Image();b.onload=function(){c.current[a]=b,e(Object.keys(c.current).length)};b.src=a})},[e,a]);return c.current}g["default"]=a}),98);
__d("WAWebMediaEditorUtilsKonva",["WAWebMediaEditorGeometryPoint"],(function(a,b,c,d,e,f,g){function a(a,b,d){d===void 0&&(d=!1);if(!b)return new(c("WAWebMediaEditorGeometryPoint"))({x:0,y:0});var e=b.getAbsoluteScale(),f=e.x;e=e.y;b=b.content.getBoundingClientRect();var g=a.clientX-b.left;a=a.clientY-b.top;d&&(g=Math.min(Math.max(0,g),b.width),a=Math.min(Math.max(0,a),b.height));return new(c("WAWebMediaEditorGeometryPoint"))({x:g/f,y:a/e})}function b(a){return new(c("WAWebMediaEditorGeometryPoint"))({x:a.target.x()-a.target.offsetX(),y:a.target.y()-a.target.offsetY()})}function d(a){return a.target.rotation()}function e(a){return a.target.scaleX()}function f(a){return(a=(a=a.target.attrs.name)==null?void 0:a.includes("anchor"))!=null?a:!1}function h(a,b){if(!b)return!1;var c=b.getAbsoluteScale(),d=c.x;c=c.y;b=b.content.getBoundingClientRect();var e=b.width;b=b.height;return a.x===0&&a.y===0||a.x===0&&a.y===b/c||a.x===e/d&&a.y===0||a.x===e/d&&a.y===b/c}g.getPointFromStage=a;g.getPointFromGroup=b;g.getRotationFromGroup=d;g.getScaleFromGroup=e;g.isEventOnAnchor=f;g.isStageCorner=h}),98);
__d("WAWebMediaEditorUtilsRemoveBoundBoxRotation",[],(function(a,b,c,d,e,f){function a(a,b,c){c===void 0&&(c=!1);b=(b+360)%360;if(!c&&(b===90||b===270)){var d=a.height;a.height=a.width;a.width=d}(b===90||b===180)&&(!c?a.x-=a.width:a.x+=a.width);(b===180||b===270)&&(!c?a.y-=a.height:a.y+=a.height);if(c&&(b===90||b===270)){d=a.height;a.height=a.width;a.width=d}}f["default"]=a}),66);
__d("WAWebMediaEditorCanvasLayer.react",["WAWebMediaEditorCanvasBlur.react","WAWebMediaEditorCanvasContext","WAWebMediaEditorCanvasHoveredState.react","WAWebMediaEditorCanvasImage.react","WAWebMediaEditorCanvasOutline.react","WAWebMediaEditorCanvasPaint","WAWebMediaEditorCanvasSelectedState.react","WAWebMediaEditorCanvasText.react","WAWebMediaEditorGeometryRect","WAWebMediaEditorLayersBlur","WAWebMediaEditorLayersDraw","WAWebMediaEditorLayersImage","WAWebMediaEditorLayersText","WAWebMediaEditorUtilsKonva","WAWebMediaEditorUtilsReactKonvaCore","WAWebMediaEditorUtilsRemoveBoundBoxRotation","react","useWAWebMergeRefs"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useEffect,m=b.useState,n=[0,45,90,135,180,225,270,315],o=36,p=18,q=5,r=40,s=0;function a(a){var b,e=a.canvasRotation,f=a.dimension,g=a.editable,h=a.editing,i=a.hidden,t=a.layer,u=a.onDoubleClick,v=a.onDragEnd,w=a.onDragMove,x=a.onDragStart,y=a.onSelect,z=a.onTransformEnd,A=a.onTransformStart,B=a.scale,C=a.selected,D=a.selectedGroupRef,E=a.selectedNodeRef,F=a.stageHeight,G=a.stageWidth,H=a.textBackgroundShadow;a=a.transformerRef;var I=m(!1),J=I[0],K=I[1];I=m(null);var L=I[0],M=I[1],N=k(d("WAWebMediaEditorCanvasContext").CanvasContext);I=c("useWAWebMergeRefs")(D,E);var O=t instanceof d("WAWebMediaEditorLayersBlur").BlurLayer,P=t instanceof d("WAWebMediaEditorLayersImage").ImageLayer&&(t.isSticker()||t.isBackground()),Q=t.frame.getCenter(),R=(b=L==null?void 0:L.x)!=null?b:t.x,S=(b=L==null?void 0:L.y)!=null?b:t.y,T=(b=L==null?void 0:L.width)!=null?b:t.width,U=(b=L==null?void 0:L.height)!=null?b:t.height;b=q;P&&(b=r);O&&(b=s);P=function(a){if(!t.editable||N.dragging||N.transforming)return;a.cancelBubble=!0;K(!0)};var aa=function(a){if(!t.editable)return;a.cancelBubble=!0;K(!1)},ba=function(a){a=d("WAWebMediaEditorUtilsKonva").getPointFromGroup(a);v(t,a);O&&M(null)},ca=function(a){if(O){var b=a.target;M(c("WAWebMediaEditorGeometryRect").create({x:b.x(),y:b.y(),width:t.width,height:t.height,rotation:t.rotation,scale:t.scale}))}else w(t,a)},V=function(a){if(!C)return;var b=d("WAWebMediaEditorUtilsKonva").getRotationFromGroup(a);a=d("WAWebMediaEditorUtilsKonva").getScaleFromGroup(a);z(t,b,a,L);O&&M(null)},W=function(a){if(!C||!O)return;a=a.target;a.width(a.width()*a.scaleX());a.height(a.height()*a.scaleY());a.scaleX(1);a.scaleY(1);var b=c("WAWebMediaEditorGeometryRect").create({x:R+a.x(),y:S+a.y(),width:a.width(),height:a.height(),rotation:a.rotation(),scale:t.scale});a.x(0);a.y(0);M(b)},da=function(a){if(!t.editable)return;a.cancelBubble=!0;y(t)},ea=function(a){var b={x:{min:0,max:G},y:{min:0,max:F}};O&&(e===0?(b.x.max-=T*B,b.y.max-=U*B):e===90?(b.x.min+=U*B,b.y.max-=T*B):e===180?(b.x.min+=T*B,b.y.min+=U*B):(b.x.max-=U*B,b.y.min+=T*B));a.x<b.x.min?a.x=b.x.min:a.x>b.x.max&&(a.x=b.x.max);a.y<b.y.min?a.y=b.y.min:a.y>b.y.max&&(a.y=b.y.max);return a},X,Y,Z,$;if(g&&C&&!h){Y=j.jsx(c("WAWebMediaEditorCanvasSelectedState.react"),{layer:t,borderRadius:b,frame:L});var fa=function(a,b){var f=b.width/B,g=b.height/B;if(t instanceof d("WAWebMediaEditorLayersText").TextLayer&&(f<=p||g<=p)||f<=o||g<=o)return a;if(O){c("WAWebMediaEditorUtilsRemoveBoundBoxRotation")(b,e);c("WAWebMediaEditorUtilsRemoveBoundBoxRotation")(a,e);f={x:{min:0,max:G-b.width},y:{min:0,max:F-b.height}};b.x<f.x.min?(b.width-=f.x.min-b.x,b.x=f.x.min):b.x>f.x.max&&(b.width-=b.x-f.x.max);b.y<f.y.min?(b.height-=f.y.min-b.y,b.y=f.y.min):b.y>f.y.max&&(b.height-=b.y-f.y.max);c("WAWebMediaEditorUtilsRemoveBoundBoxRotation")(b,e,!0);c("WAWebMediaEditorUtilsRemoveBoundBoxRotation")(a,e,!0)}return b};$=j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Transformer,{ref:a,anchorStroke:"blue",anchorFill:"white",anchorSize:8,anchorCornerRadius:4,borderEnabled:!1,centeredScaling:!O,enabledAnchors:O?["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"]:["bottom-right"],resizeEnabled:!0,rotateAnchorOffset:12,rotateEnabled:!O,rotationSnaps:n,ignoreStroke:!0,rotationSnapTolerance:10,boundBoxFunc:fa,keepRatio:!O},"transformer")}g&&J&&!C&&(Z=j.jsx(c("WAWebMediaEditorCanvasHoveredState.react"),{layer:t,borderRadius:b}));t instanceof d("WAWebMediaEditorLayersImage").ImageLayer?X=j.jsx(c("WAWebMediaEditorCanvasImage.react"),{layer:t}):t instanceof d("WAWebMediaEditorLayersBlur").BlurLayer?X=j.jsx(c("WAWebMediaEditorCanvasBlur.react"),{layer:t,scale:B,frame:L,selectedNodeRef:C?E:null,showPadding:N.canEditBackground,onTransformStart:function(){return A(t)},onTransformEnd:V,onTransform:W}):t instanceof d("WAWebMediaEditorLayersDraw").DrawLayer?t.type===d("WAWebMediaEditorLayersDraw").DrawLayerType.Paint?X=j.jsx(c("WAWebMediaEditorCanvasPaint"),{layer:t}):t.type===d("WAWebMediaEditorLayersDraw").DrawLayerType.Outline&&(X=j.jsx(d("WAWebMediaEditorCanvasOutline.react").Outline,{layer:t,dimension:f})):t instanceof d("WAWebMediaEditorLayersText").TextLayer&&!h&&(X=j.jsx(c("WAWebMediaEditorCanvasText.react"),{layer:t,shadow:H}));i&&(X=j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{width:t.width,height:t.height}));l(function(){h&&K(!1)},[h,K]);a=null;C&&(O?a=D:a=I);return j.jsxs(j.Fragment,{children:[j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{ref:a,x:O?R:Q.x,y:O?S:Q.y,offsetX:O?0:T/2,offsetY:O?0:U/2,width:T,height:U,rotation:t.rotation,scaleX:t.scale,scaleY:t.scale,draggable:g,dragBoundFunc:ea,onMouseEnter:P,onMouseLeave:aa,onMouseDown:da,onDblClick:function(){return u(t)},onDragStart:function(){return x(t)},onDragEnd:ba,onDragMove:ca,onTransformStart:function(){return A(t)},onTransformEnd:V,onTransform:W,children:[X,Y,Z]}),$]})}a.displayName=a.name+" [from "+f.id+"]";g.CanvasLayer=a}),98);
__d("useWAWebIsMouseDownDrag",["react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a,b){a===void 0&&(a=200);b===void 0&&(b=window);var c=j(null);d("useWAWebListener").useListener(b,"mousedown",function(){c.current=self.performance.now()});d("useWAWebListener").useListener(b,"mouseup",function(){c.current=null});b=i(function(){var b=c.current;return b!=null&&self.performance.now()-b>=a},[a]);return b}g["default"]=a}),98);
__d("WAWebMediaEditorCanvasUseDraw",["WAWebMediaEditorUtilsKonva","react","useWAWebForceUpdate","useWAWebIsMouseDownDrag","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.onDrawStart,e=a.onDrawEnd,f=a.onDone,g=a.onMouseMove,h=a.data,l=a.minPointDistance,m=l===void 0?0:l;l=a.clickThreshold;l=l===void 0?0:l;var n=a.boundToStage,o=n===void 0?!1:n,p=a.pathStyle,q=a.stage;n=a.doneTargets;var r=n===void 0?{}:n;a=k();n=a[0];var s=a[1],t=j([]),u=j(!1),v=c("useWAWebForceUpdate")(),w=c("useWAWebIsMouseDownDrag")(l),x=j(!1);a=function(a){var c;b==null?void 0:b();if((c=r.mousedown)==null?void 0:c.includes(a.target.name())){f==null?void 0:f();return}c=d("WAWebMediaEditorUtilsKonva").getPointFromStage(a.evt,q,o);t.current.push(c);u.current=!0;v()};l=function(a){var b;b=((b=r.mouseup)==null?void 0:b.includes(a.target.name()))===!0;a=t.current.length===1;b&&!a&&(x.current=!0)};var y=function(a){u.current=!1;if(t.current.length!==0){a=t.current.map(function(a){return h.toCanvasPoint(a)});e(babelHelpers["extends"]({points:a},p));t.current=[];v()}},z=function(a){g==null?void 0:g(a)},A=function(a){var b=d("WAWebMediaEditorUtilsKonva").getPointFromStage(a,q,o),c=o&&u.current;s(c?d("WAWebMediaEditorUtilsKonva").getPointFromStage(a,q,!0):b);if(u.current){c=t.current;a=c[c.length-1];(!a||a.distance(b)>=m&&w()||d("WAWebMediaEditorUtilsKonva").isStageCorner(b,q))&&c.push(b)}};d("useWAWebListener").useListener(window,"mouseup",y);d("useWAWebListener").useListener(window,"mousemove",A);i(function(){x.current&&(f==null?void 0:f(),x.current=!1)});y={onMouseDown:a,onMouseUp:l,onMouseMove:z};return{cursorPosition:n,points:t.current,handlers:y}}g["default"]=a}),98);
__d("WAWebMediaEditorCanvasOutlineOverlay.react",["WAWebConstantsDeprecated","WAWebMediaEditorCanvasUseDraw","WAWebMediaEditorUtilsColor","WAWebMediaEditorUtilsReactKonvaCore","cr:4986","lodash","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=12,o=3,p="#FA6533",q=12,r=6,s="dot-first",t="dot-last";e=j.forwardRef(a);function a(a,b){var e=a.data,f=a.height,g=a.onCursorChange,h=a.onDone,i=a.onDrawEnd,v=a.scale,w=a.smoothing;a=a.width;var x=m(),y=m(!1),z=m("crosshair");k(function(){g("crosshair")},[]);l(b,function(){return{show:function(){var a;(a=x.current)==null?void 0:a.show()},hide:function(){var a;(a=x.current)==null?void 0:a.hide()}}});b=function(){y.current=!0};var A=function(a){y.current=!1,i(a)},B=function(a){a=a.target.name()===s;var b=y.current;a=a&&!b?"pointer":"crosshair";a!==z.current&&(z.current=a,g(a))};A=c("WAWebMediaEditorCanvasUseDraw")({onDrawStart:b,onDrawEnd:A,onDone:h,onMouseMove:B,data:e,stage:(b=x.current)==null?void 0:b.getStage(),minPointDistance:n/v,clickThreshold:200,boundToStage:!0,doneTargets:{mousedown:[s,t],mouseup:[s]},pathStyle:{color:d("WAWebMediaEditorUtilsColor").Color.White,thickness:0,smoothing:w}});h=A.cursorPosition;B=A.points;b=A.handlers;A=e.outlineLayer.getAllPoints().map(function(a){return e.toScreenPoint(a)});!w&&A.length&&A.push(A[A.length-1]);var C=Boolean(B.length);C&&A.push(B[0]);A.push.apply(A,B);C=[].concat(A);!w&&C.length&&C.push(C[C.length-1]);h&&C.push(h);B=c("lodash").flatMap(C,function(a){return[a.x,a.y]});w=o/v;h=[q/v,r/v];return j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,babelHelpers["extends"]({ref:x},b,{width:a,height:f,children:[j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{x:0,y:0,width:a,height:f,fill:"rgba(0,0,0,0)"}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Line,{points:B,lineCap:"round",lineJoin:"round",stroke:p,strokeWidth:w,dash:h,tension:c("WAWebConstantsDeprecated").MEDIA_EDITOR_OUTLINE_TENSION}),j.jsx(u,{points:A,scale:v})]}),"paintCursor")}a.displayName=a.name+" [from "+f.id+"]";b=e;function u(a){var b=a.points;a=a.scale;if(!b.length)return null;var c=b[0];b=b[b.length-1];a=o/a;var e;return j.jsxs(j.Fragment,{children:[e,j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Circle,{name:t,x:b.x,y:b.y,radius:a}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Circle,{x:c.x,y:c.y,radius:a,stroke:"white"}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Circle,{name:s,x:c.x,y:c.y,radius:a*4})]})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("WAWebMediaEditorCanvasPaintOverlay.react",["WAWebMediaEditorCanvasUseDraw","WAWebMediaEditorUtilsReactKonvaCore","lodash","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef;e=j.forwardRef(a);function a(a,b){var e=a.data,f=a.height,g=a.onDrawEnd,h=a.pathStyle;a.scale;a=a.width;var i=l(),m=l();k(b,function(){return{toggleCursor:function(a){var b=m.current;if(!b)return;a?b.show():b.hide()}}});g=c("WAWebMediaEditorCanvasUseDraw")({onDrawEnd:g,data:e,pathStyle:h,stage:(b=i.current)==null?void 0:b.getStage()});e=g.cursorPosition;b=g.points;g=g.handlers;b=c("lodash").flatMap(b,function(a){return[a.x,a.y]});return j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,babelHelpers["extends"]({ref:i},g,{width:a,height:f,children:[j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{width:a,height:f,fill:"rgba(0, 0, 0, 0)"}),e&&j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Circle,{ref:m,x:e.x,y:e.y,radius:h.thickness/2,fill:h.color.toRgbaString()}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Line,{points:b,lineCap:"round",lineJoin:"round",stroke:h.color.toRgbaString(),strokeWidth:h.thickness})]}),"paintCursor")}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebMediaEditorCanvasTransparentGrid.react",["WAWebMediaEditorUtilsColor","WAWebMediaEditorUtilsReactKonvaCore","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useMemo,n=b.useRef,o=20,p=new(d("WAWebMediaEditorUtilsColor").Color)(230,230,230).toRgbString(),q=new(d("WAWebMediaEditorUtilsColor").Color)(255,255,255).toRgbString();e=j.forwardRef(a);function a(a,b){var c=a.height,e=a.width,f=n();l(b,function(){return{hide:function(){var a;(a=f.current)==null?void 0:a.hide()},show:function(){var a;(a=f.current)==null?void 0:a.show()}}});var g=m(function(){var a=document.createElement("canvas");a.width=Math.max(e,1);a.height=Math.max(c,1);return a},[e,c]);k(function(){var a=g.getContext("2d");a.clearRect(0,0,g.width,g.height);var b=o,d=Math.ceil(e/b),h=Math.ceil(c/b);for(var i=0;i<h;i++)for(var j=0;j<d;j++){var k=(i+j)%2===0?q:p;a.beginPath();a.rect(j*b,i*b,b,b);a.fillStyle=k;a.fill()}(k=f.current)==null?void 0:(j=k.getLayer())==null?void 0:j.batchDraw()},[g,e,c]);return j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Image,{ref:f,width:e,height:c,image:g})}a.displayName=a.name+" [from "+f.id+"]";c=e;g["default"]=c}),98);
__d("WAWebMediaEditorCanvas.react",["WAWebMediaEditorCanvasBackground.react","WAWebMediaEditorCanvasContext","WAWebMediaEditorCanvasEditableText.react","WAWebMediaEditorCanvasLayer.react","WAWebMediaEditorCanvasOutlineOverlay.react","WAWebMediaEditorCanvasPaintOverlay.react","WAWebMediaEditorCanvasTransparentGrid.react","WAWebMediaEditorEnumsThickness","WAWebMediaEditorLayersBlur","WAWebMediaEditorLayersText","WAWebMediaEditorUtilsColor","WAWebMediaEditorUtilsKonva","WAWebMediaEditorUtilsReactKonvaCore","err","lodash","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState,o=15,p=1,q="#52F818";function r(a){var b=a.canEditBackground,c=a.canEditLayer;a.canvasContextRef;var e=a.currentlyEditingTextLayer,f=a.data,g=a.dragging,h=a.inOutlineMode,i=a.inPaintMode,k=a.isEditingBackground,l=a.onDoubleClick,m=a.onDragEnd,n=a.onDragMove,o=a.onDragStart,p=a.onSelect,q=a.onTransformEnd,r=a.onTransformStart,s=a.scale,u=a.selectedGroupRef,v=a.selectedNodeRef,w=a.transformerRef,x=!1;return j.jsxs(j.Fragment,{children:[b&&f.background&&j.jsx(t,{layer:f.background,hidden:!k(),data:f,scale:s,dragging:g,canEditLayer:c,inPaintMode:i,inOutlineMode:h,currentlyEditingTextLayer:e,selectedGroupRef:u,selectedNodeRef:v,transformerRef:w,onSelect:p,onDoubleClick:l,onDragMove:n,onDragStart:o,onDragEnd:m,onTransformStart:r,onTransformEnd:q}),!k()&&f.layers.filter(function(a){return a instanceof d("WAWebMediaEditorLayersBlur").BlurLayer}).map(function(a){return j.jsx(t,{layer:a,hidden:x,data:f,scale:s,dragging:g,canEditLayer:c,inPaintMode:i,inOutlineMode:h,currentlyEditingTextLayer:e,selectedGroupRef:u,selectedNodeRef:v,transformerRef:w,onSelect:p,onDoubleClick:l,onDragMove:n,onDragStart:o,onDragEnd:m,onTransformStart:r,onTransformEnd:q},String(a.id))}),f.paintLayer&&j.jsx(t,{layer:f.paintLayer,hidden:x,data:f,scale:s,dragging:g,canEditLayer:c,inPaintMode:i,inOutlineMode:h,currentlyEditingTextLayer:e,selectedGroupRef:u,selectedNodeRef:v,transformerRef:w,onSelect:p,onDoubleClick:l,onDragMove:n,onDragStart:o,onDragEnd:m,onTransformStart:r,onTransformEnd:q}),f.layers.filter(function(a){return!(a instanceof d("WAWebMediaEditorLayersBlur").BlurLayer)}).map(function(a){return j.jsx(t,{layer:a,hidden:x,data:f,scale:s,dragging:g,canEditLayer:c,inPaintMode:i,inOutlineMode:h,currentlyEditingTextLayer:e,selectedGroupRef:u,selectedNodeRef:v,transformerRef:w,onSelect:p,onDoubleClick:l,onDragMove:n,onDragStart:o,onDragEnd:m,onTransformStart:r,onTransformEnd:q},String(a.id))})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.getStage,c=a.guides,e=a.guidesLayerRef;a=a.scale;var f=c.vertical;c=c.horizontal;if(!f&&!c)return null;b=b();return j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,{ref:e,children:[f&&j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Line,{x:f.position/a,y:0,points:[0,0,0,b.height()/a],stroke:q,strokeWidth:p,strokeScaleEnabled:!1},"vertical"),c&&j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Line,{x:0,y:c.position/a,points:[0,0,b.width()/a,0],stroke:q,strokeWidth:p,strokeScaleEnabled:!1},"horizontal")]},"guides")}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.canEditLayer,c=a.currentlyEditingTextLayer,e=a.data,f=a.dragging,g=a.hidden,h=a.inOutlineMode,i=a.inPaintMode,k=a.layer,l=a.onDoubleClick,m=a.onDragEnd,n=a.onDragMove,o=a.onDragStart,p=a.onSelect,q=a.onTransformEnd,r=a.onTransformStart,s=a.scale,t=a.selectedGroupRef,u=a.selectedNodeRef,v=a.transformerRef;a=e.selectedLayer===k&&c!==k;var w=e.screenWidth*s,x=e.screenHeight*s,y=e.cropSize.dimension;b=k.editable&&b&&!i&&!h&&!c;return j.jsx(d("WAWebMediaEditorCanvasLayer.react").CanvasLayer,{layer:k,scale:s,canvasRotation:e.rotation,textBackgroundShadow:!f,dimension:y,editing:c===k,selected:a,editable:b,stageHeight:x,stageWidth:w,selectedGroupRef:function(a){t.current=a},selectedNodeRef:function(a){u.current=a},transformerRef:function(a){v.current=a},onSelect:p,onDoubleClick:l,onDragMove:n,onDragStart:o,onDragEnd:m,onTransformStart:r,onTransformEnd:q,hidden:g},String(k.id))}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.data,c=a.draftTextLayer,e=a.editableTextRef,f=a.onLayerUnselect,g=a.onTextInputOutsideClick,h=a.onTextSave;a=a.scale;if(!c)return null;b=b.toScreenPoint(c.frame.getCenter());return j.jsx(d("WAWebMediaEditorCanvasEditableText.react").EditableText,{ref:e,layer:c,layerCenter:b,text:c.text,scale:a,onSave:h,onUnselect:f,onOutsideClick:g})}u.displayName=u.name+" [from "+f.id+"]";e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.inPaintMode,f=e===void 0?!1:e;e=a.inOutlineMode;var g=e===void 0?!1:e;e=a.paintColor;e=e===void 0?d("WAWebMediaEditorUtilsColor").Color.White:e;var h=a.paintThickness;h=h===void 0?d("WAWebMediaEditorEnumsThickness").ThicknessType.MEDIUM:h;var i=a.outlineSmoothing;i=i===void 0?!0:i;var p=a.canEditLayer;p=p===void 0?!0:p;var q=a.canEditBackground;q=q===void 0?!1:q;var t=a.outlineEnabled;t=t===void 0?!1:t;var v=a.currentlyEditingTextLayer,w=v===void 0?null:v;v=a.draftTextLayer;var x=v===void 0?null:v;v=a.onLayerSelect;var y=v===void 0?function(a){}:v;v=a.onLayerUnselect;var z=v===void 0?function(){}:v;v=a.onLayerTranslate;var aa=v===void 0?function(a,b){}:v;v=a.onLayerTransform;var ba=v===void 0?function(b,c,a,d){}:v;v=a.onTextEditingStart;var ca=v===void 0?function(a){}:v;v=a.onTextEditingEnd;var da=v===void 0?function(a,b){}:v;v=a.onTextInputOutsideClick;v=v===void 0?function(){return!0}:v;var A=a.onPaintDrawEnd;A=A===void 0?function(){}:A;var B=a.onOutlineDrawEnd;B=B===void 0?function(){}:B;var C=a.onOutlineDone;C=C===void 0?function(){}:C;var D=a.scale,E=a.data,F=m(null),G=m(null),H=m(null),I=m(null),J=m(null),K=m(null),L=m(null),M=m(null),N=m(null),O=m(null),P=m({dragging:!1,transforming:!1,editing:!1,canEditBackground:q}),Q=n({horizontal:null,vertical:null}),R=Q[0],S=Q[1];Q=n(!1);var T=Q[0],U=Q[1];Q=n(!1);var ea=Q[0],V=Q[1];Q=n("crosshair");var fa=Q[0],ga=Q[1],ha=function(){var a;(a=I.current)==null?void 0:a.hide();(a=G.current)==null?void 0:(a=a.getChildren()[1])==null?void 0:a.hide();(a=G.current)==null?void 0:(a=a.getChildren()[2])==null?void 0:a.hide();(a=J.current)==null?void 0:a.hide();(a=L.current)==null?void 0:a.toggleCursor(!1);(a=M.current)==null?void 0:a.hide();(a=I.current)==null?void 0:(a=a.getLayer())==null?void 0:a.batchDraw();(a=K.current)==null?void 0:a.hide()},ia=function(){var a;(a=I.current)==null?void 0:a.show();(a=G.current)==null?void 0:(a=a.getChildren()[1])==null?void 0:a.show();(a=G.current)==null?void 0:(a=a.getChildren()[2])==null?void 0:a.show();(a=J.current)==null?void 0:a.show();(a=L.current)==null?void 0:a.toggleCursor(!0);(a=M.current)==null?void 0:a.show();(a=I.current)==null?void 0:(a=a.getLayer())==null?void 0:a.batchDraw();(a=K.current)==null?void 0:a.show()};Q=function(a){!w&&!d("WAWebMediaEditorUtilsKonva").isEventOnAnchor(a)&&z()};var ja=function(){P.current.dragging=!0,U(!0)},ka=function(a,b){P.current.dragging=!1,aa(a,b),S({vertical:null,horizontal:null}),U(!1)},la=function(){P.current.transforming=!0,V(!0)},ma=function(a,b,c,d){P.current.transforming=!1,ba(a,b,c,d),V(!1)},W=function(){if(!F.current)throw c("err")("MediaEditorCanvas:stage is not initialized");return F.current.getStage()},na=function(a,b){a=[{position:W().width()/2,orientation:"v"},{position:W().height()/2,orientation:"h"}];b=b.target;var d=b.absolutePosition(),e=[{position:d.y,orientation:"h"},{position:d.x,orientation:"v"}],f=[];for(var g=0;g<e.length;g++){var h=e[g];for(var i=0;i<a.length;i++){var j=a[i];if(h.orientation!==j.orientation)continue;var k=Math.abs(j.position-h.position);k<=o&&f.push({guide:j,distance:k})}}f.sort(function(a,b){return a.distance-b.distance});j=null;k=null;for(i=0;i<f.length;i++){h=f[i];g=h.guide;g.orientation==="v"&&!j?j=g:g.orientation==="h"&&!k&&(k=g)}b.absolutePosition({x:(e=(a=j)==null?void 0:a.position)!=null?e:d.x,y:(g=(h=k)==null?void 0:h.position)!=null?g:d.y});i={horizontal:k,vertical:j};c("lodash").isEqual(R,i)||S(i)},oa=function(a){a instanceof d("WAWebMediaEditorLayersText").TextLayer&&ca(a)},pa=function(a){x&&da(x,a)},qa=function(a){y(a)},ra=function(a){ga(a)};k(function(){if(H.current){var a;(a=I.current)==null?void 0:a.nodes([H.current]);(a=I.current)==null?void 0:(a=a.getLayer())==null?void 0:a.batchDraw()}});var sa=function(){ha();var a=W().toDataURL({mimeType:"image/png",quality:1,pixelRatio:1/D});ia();return a},ta=function(){var a;return(a=O.current)==null?void 0:a.toCanvas()},ua=function(){var a;(a=N.current)==null?void 0:a.save()},X=function(){return(T||ea)&&E.selectedLayer===E.background},va=function(){if(f)return"none";return g?fa:"default"};l(b,function(){return{getStage:W,getDataUrl:sa,endTextEditing:ua,getBackground:ta}});b=E.screenWidth/2;var Y=E.screenHeight/2,Z=E.toScreenPoint(E.cropCenter),$=E.toScreenPoint(E.canvasCenter);b=b-(Z.x-$.x);Y=Y-(Z.y-$.y);Z=t&&!g;$=E.cropSize.dimension;return j.jsxs(j.Fragment,{children:[j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Stage,{ref:F,width:E.screenWidth*D,height:E.screenHeight*D,onMouseDown:Q,scaleX:D,scaleY:D,style:babelHelpers["extends"]({cursor:va()},(Q=a.style)!=null?Q:{}),children:j.jsxs(d("WAWebMediaEditorCanvasContext").CanvasContext.Provider,{value:P.current,children:[t&&j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,{x:b,y:Y,offsetX:E.width/2,offsetY:E.height/2,rotation:E.rotation,children:j.jsx(c("WAWebMediaEditorCanvasTransparentGrid.react"),{ref:K,width:E.width,height:E.height})},"transparent"),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,{x:b,y:Y,offsetX:E.width/2,offsetY:E.height/2,rotation:E.rotation,children:j.jsx(c("WAWebMediaEditorCanvasBackground.react"),{ref:O,layer:E.background,outlineLayer:E.outlineLayer,dimension:$,removeBackground:Z,scale:D,visible:!X()})},"background"),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,{x:b,y:Y,offsetX:E.width/2,offsetY:E.height/2,rotation:E.rotation,children:j.jsx(r,{canEditBackground:q,data:E,scale:D,canvasContextRef:P,isEditingBackground:X,canEditLayer:p,dragging:T,inPaintMode:f,inOutlineMode:g,currentlyEditingTextLayer:w,selectedGroupRef:G,selectedNodeRef:H,transformerRef:I,onSelect:qa,onDoubleClick:oa,onDragMove:na,onDragStart:ja,onDragEnd:ka,onTransformStart:la,onTransformEnd:ma})},"edits"),j.jsx(s,{guides:R,scale:D,guidesLayerRef:J,getStage:W}),f&&j.jsx(c("WAWebMediaEditorCanvasPaintOverlay.react"),{ref:L,width:E.screenWidth,height:E.screenHeight,scale:D,pathStyle:{color:e,thickness:d("WAWebMediaEditorEnumsThickness").getThicknessValue(h),smoothing:!1},data:E,onDrawEnd:A}),g&&j.jsx(c("WAWebMediaEditorCanvasOutlineOverlay.react"),{ref:M,width:E.screenWidth,height:E.screenHeight,scale:D,data:E,smoothing:i,onDrawEnd:B,onDone:C,onCursorChange:ra})]})}),j.jsx(u,{draftTextLayer:x,data:E,editableTextRef:N,scale:D,onTextSave:pa,onLayerUnselect:z,onTextInputOutsideClick:v})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebMediaEditorCaptionInput.react",["fbt","WAUnicodeUtils","WAWebAttachMediaViewOnce.react","WAWebBizCoexUtils","WAWebChatPreferenceCollection","WAWebComposeBoxUtils","WAWebConstantsDeprecated","WAWebDropdown.react","WAWebElevatedPushNamesFlag","WAWebEmojiInputIcon","WAWebEmojiPanel.react","WAWebEmojiSuggestions.react","WAWebFlex.react","WAWebGroupType","WAWebL10N","WAWebMentionSuggestions.react","WAWebRichTextInput.react","WAWebRichTextInputGatingUtils","WAWebSuggestionsPanelContainer.react","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnstyledButton.react","WAWebUseIsKeyboardUser","WAWebXAltIcon","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o=b.useState,p={inputContainer:{boxSizing:"x9f619",width:"xh8yej3",minHeight:"x1ba4aug",paddingTop:"x1iorvi4",paddingEnd:"x1pi30zi",paddingBottom:"xjkvuk6",paddingStart:"x1swvt13",backgroundColor:"x7nbn6e",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},inputContainerForVideo:{backgroundColor:"xxntkus",$$css:!0},inputContainerForDoc:{backgroundColor:"xs4cid0",$$css:!0},buttonContainer:{minHeight:"x1rj1pf4",$$css:!0},inputButton:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,color:"xt16idv",$$css:!0},richTextInput:{width:"xh8yej3",marginTop:"x1k70j0n",marginEnd:"x11i5rnm",marginBottom:"xzueoph",marginStart:"x1mh8g0r",minHeight:"xisnujt",color:"xzwifym",wordWrap:"x1vvkbs",whiteSpace:"x126k92a",userSelect:"x1hx0egp",$$css:!0},richTextInputText:{fontSize:"x1lkfr7t",$$css:!0}};function a(a){var b=a.chat,e=a.caption,f=a.setCaptionInputRef,g=a.onEnter,i=a.expandedTextFormatsEnabled,k=n(null),r=n(null),s=o(null),t=s[0],u=s[1];s=c("WAWebUseIsKeyboardUser")();var v=s.isKeyboardUser,w=function(){var a;(a=k.current)==null?void 0:a.focus()};s=d("useWAWebModelValues").useModelValues(c("WAWebChatPreferenceCollection").getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]);m(function(){w()},[]);var x=function(a){k.current=a,f(a)},y=function(a){(a=k.current)==null?void 0:a.reset();w()},z=function(){u(null),v&&w()},A=function(a){var b=k.current;b&&(b.focus(),b.replaceSelection(a));v&&z()},B=function(a){a.preventDefault();a.stopPropagation();var b=l.jsx(d("WAWebEmojiPanel.react").EmojiPanel,{onEmoji:A,onFocusNext:w,onFocusPrev:w});u({menu:b,dirY:d("WAWebDropdown.react").DirY.TOP,type:d("WAWebDropdown.react").MenuType.EmojiPicker,anchor:a.target});w()},C=function(a){var b;((b=k.current)==null?void 0:b.isFocused())?g(a):g()},D=d("WAUnicodeUtils").numCodepoints(a.caption||""),E=c("WAWebConstantsDeprecated").MAX_CAPTION_LENGTH-D<50;y=e!=null&&e!==""?l.jsx(c("WAWebUnstyledButton.react"),{xstyle:p.inputButton,onClick:y,title:h._("__JHASH__q2QVQr1smB2__JHASH__"),children:l.jsx(d("WAWebXAltIcon").XAltIcon,{})}):null;E=E&&l.jsx("div",{className:"x1i64zmx x1f6kntn xiqmkuo",children:c("WAWebL10N").n(c("WAWebConstantsDeprecated").MAX_CAPTION_LENGTH-D)});D=null;t&&(D=l.jsx(d("WAWebUimUie.react").UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,ref:r,requestDismiss:z,children:l.jsx(c("WAWebUimUieMenu.react"),{contextMenu:t})}));r=null;a.theme!=="document"&&!b.id.isStatusV3()&&!b.isNewsletter&&!d("WAWebBizCoexUtils").isMeOrCurrentContactHosted(b.contact)&&!a.viewOnceDisabled&&(r=l.jsx("div",{className:"x1i64zmx",children:l.jsx(c("WAWebAttachMediaViewOnce.react"),{disabled:!1,isOn:Boolean(a.viewOnce),mediaType:a.msgType,onChange:a.onToggleViewOnce})}));t=a.chat.groupMetadata;((b=a.chat.groupMetadata)==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&!d("WAWebMentionSuggestions.react").shouldEnableGroupMentions(t)&&(t=null);b=d("WAWebComposeBoxUtils").getComposeBoxPlaceholderText(a.chat);x=l.jsx(d("WAWebRichTextInput.react").RichTextInput,{ref:x,testid:void 0,initialText:e,placeholder:b,title:b,onChange:function(b){return a.onChange(b.parsableText)},onEnter:C,onFiles:a.onFiles,maxLength:c("WAWebConstantsDeprecated").MAX_CAPTION_LENGTH,maxVisibleLines:5,multiline:a.multiline!==!1,spellCheck:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled()?s.spellcheck:!0,transformTextEmoji:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled()?s.transformTextEmoji:!0,enterIsNewLine:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled()?!s.enterIsSend:!1,focusOnMount:!0,textFormatEnabled:!0,groupMetadata:t,xstyle:p.richTextInput,textXstyle:p.richTextInputText,bulletPointsEnabled:i!==!1,numberedListEnabled:i!==!1,inlineCodeEnabled:i!==!1,blockQuoteEnabled:i!==!1,internLinksEnabled:a.internLinksEnabled!==!1&&d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled(),phoneNumbersEnabled:a.phoneNumbersEnabled!==!1&&d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled(),linksEnabled:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled(),floatingToolbarEnabled:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled(),textFormatShortcutsEnabled:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled()});var F;b=(e=k.current)==null?void 0:e.editor;b!=null&&(F=l.jsx("div",{className:"x10l6tqk x4r51d9 x10w3d4m xi8xln7 xbktue8 x1iji9kk x1sln4lm x6ikm8r x10wlt62 xzwifym x47corl",children:l.jsxs("div",{className:"x10l6tqk x160vmok x1c7jfne xoyjkpr",children:[l.jsx(d("WAWebMentionSuggestions.react").MentionSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.MediaEditorCaption,editor:b,groupMetadata:t,elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(a.chat)}),l.jsx(d("WAWebEmojiSuggestions.react").EmojiSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.MediaEditorCaption,editor:b})]})}));return l.jsxs(d("WAWebFlex.react").FlexRow,{className:"x1n2onr6 xh8yej3 xic84rp xdj266r x1ap2d02 xat24cr x1xcg2w3",align:"center",justify:"center",children:[F,l.jsxs(d("WAWebFlex.react").FlexRow,{align:"start",className:(j||(j=c("stylex")))(p.inputContainer,a.theme==="document"&&p.inputContainerForDoc,a.theme==="video"&&p.inputContainerForVideo),children:[x,l.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:p.buttonContainer,align:"center",children:[E,y,l.jsx(q,{onClick:B})]})]}),r,D]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){a=a.onClick;return l.jsx(c("WAWebUnstyledButton.react"),{onClick:a,xstyle:p.inputButton,title:h._("__JHASH__KsoeGGTFGmo__JHASH__"),children:l.jsx(d("WAWebEmojiInputIcon").EmojiInputIcon,{})})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMediaEditorImage.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ah9n",header:"_ah9o",headerRight:"_ah9p",canvasContainer:"_ah9q",cropRotateContainer:"_ah9r",closeButton:"_ah9s",closeButtonPlaceholder:"_ah9t",canvas:"_ah9u",footer:"_ah9v",bottomToolbar:"_ah9w",captionInputContainer:"_ah9x",captionInputHidden:"_ah9y"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorPreviewCropRotate.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ajuo",cropperContainer:"_ajup"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorUtilsSize",[],(function(a,b,c,d,e,f){function a(a,b,c,d){if(a===0||b===0)return 1;if(!c.isEmpty()&&(a>c.width||b>c.height))return Math.min(c.width/a,c.height/b);return!d.isEmpty()&&a<d.width&&b<d.height?Math.min(d.width/a,d.height/b):1}f.calculateContainScale=a}),66);
__d("WAWebMediaEditorPreviewCropRotate.react",["WAWebMediaEditorCanvas.react","WAWebMediaEditorGeometryPoint","WAWebMediaEditorGeometrySize","WAWebMediaEditorPreviewCropRotate.scss","WAWebMediaEditorUtilsReactKonvaCore","WAWebMediaEditorUtilsSize","err","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=new(c("WAWebMediaEditorGeometrySize"))({width:200,height:200}),n=20,o=10,p=10;function a(a){var b=a.containerSize,e=a.cropOrigin,f=a.cropSize,g=a.data,h=a.keepRatio,i=a.onCropChange,u=a.rotation;a=a.sendAsSticker;var v=g.resetCropRotate().setRotation(u),w=l(),x=l(),y=f.width,z=f.height,A=e.x;e=e.y;f=l(f);var B=y/f.current.width,C=z/f.current.height,D=g.width,E=g.height;g=q(D,E,u);var F=g.width,G=g.height;g=new(c("WAWebMediaEditorGeometrySize"))({width:b.width-p*2,height:b.height-p*2});var H=d("WAWebMediaEditorUtilsSize").calculateContainScale(u%180?E:D,u%180?D:E,g,m),I=p/H;b=new(c("WAWebMediaEditorGeometrySize"))({width:D+I*2,height:E+I*2});g=q(b.width,b.height,u);var J=g.width;g=g.height;var K=b.width/2;b=b.height/2;var L=J/2,M=g/2;k(function(){var a=w.current,b=x.current;if(a&&b&&a.nodes().length===0){a.nodes([b]);(a=b.getLayer())==null?void 0:a.batchDraw()}});var N=function(a){a=a.target;var b=Math.round(a.x()),d=Math.round(a.y()),e=Math.min(Math.round(a.width()*a.scaleX()),D-b);a=Math.min(Math.round(a.height()*a.scaleY()),E-d);i(new(c("WAWebMediaEditorGeometryPoint"))({x:b,y:d}),new(c("WAWebMediaEditorGeometrySize"))({width:e,height:a}))},O=function(a,b){var c=D*H+p*2,d=E*H+p*2;a=t(a,c,d,u,-u);b=t(b,c,d,u,-u);Math.round(b.x)<p?(b.x=p,b.width=a.width+(a.x-p)):Math.round(b.width)<n?(b.x=a.x,b.width=a.width):Math.round(b.x+b.width)>Math.round(c)-p&&(b.width=c-b.x-p);Math.round(b.y)<p?(b.y=p,b.height=a.height+(a.y-p)):Math.round(b.height)<n?(b.y=a.y,b.height=a.height):Math.round(b.y+b.height)>Math.round(d)-p&&(b.height=d-b.y-p);return t(b,c,d,0,u)},P=function(a){var b=q(y,z,u),c=b.width;b=b.height;a=r(a.x,a.y,c*H,b*H,u);var d=a.x;a=a.y;d<p?d=p:(d-p)/H+c>F&&(d=Math.round(F-c+I)*H);a<p?a=p:(a-p)/H+b>G&&(a=Math.round(G-b+I)*H);d=s(d,a,c*H,b*H,u);return d},Q=["top-left","top-right","bottom-left","bottom-right"];h||Q.push("top-center","middle-right","middle-left","bottom-center");return j.jsxs("div",{className:c("WAWebMediaEditorPreviewCropRotate.scss").container,children:[j.jsx(c("WAWebMediaEditorCanvas.react"),{data:v,scale:H,canEditLayer:!1,style:{padding:p},outlineEnabled:a}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Stage,{className:c("WAWebMediaEditorPreviewCropRotate.scss").cropperContainer,width:Math.round(J*H),height:Math.round(g*H),scaleX:H,scaleY:H,children:j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Layer,{rotation:u,offsetX:K,offsetY:b,x:L,y:M,children:j.jsxs(d("WAWebMediaEditorUtilsReactKonvaCore").Group,{x:I,y:I,children:[j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{x:0,y:0,width:D,height:E,fill:"black",opacity:.6}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Rect,{ref:x,fill:"red",x:A,y:e,width:f.current.width,height:f.current.height,scaleX:B,scaleY:C,draggable:!0,dragBoundFunc:P,onTransformEnd:N,onDragEnd:N,globalCompositeOperation:"destination-out"}),j.jsx(d("WAWebMediaEditorUtilsReactKonvaCore").Transformer,{ref:w,anchorStroke:"blue",anchorFill:"white",anchorSize:o,anchorCornerRadius:o/2,borderEnabled:!1,centeredScaling:!1,resizeEnabled:!0,rotateEnabled:!1,ignoreStroke:!0,boundBoxFunc:O,keepRatio:h,enabledAnchors:Q},"transformer")]})},"cropper")})]})}a.displayName=a.name+" [from "+f.id+"]";function q(a,b,c){var d=c%180===0?a:b;c=c%180===0?b:a;return{width:d,height:c}}function r(a,b,d,e,f){switch((f%360+360)%360){case 0:return{x:a,y:b};case 90:return{x:a-d,y:b};case 180:return{y:b-e,x:a-d};case 270:return{x:a,y:b-e};default:throw c("err")("Unsupported angle")}}function s(a,b,d,e,f){switch((f%360+360)%360){case 0:return{x:a,y:b};case 90:return{x:a+d,y:b};case 180:return{y:b+e,x:a+d};case 270:return{x:a,y:b+e};default:throw c("err")("Unsupported angle")}}function t(a,b,d,e,f){var g=Math.max(b,d),h=q(b,d,e),i=(g-h.width)/2;h=(g-h.height)/2;i=new(c("WAWebMediaEditorGeometryPoint"))({x:a.x+i,y:a.y+h});h=new(c("WAWebMediaEditorGeometryPoint"))({x:g/2,y:g/2});i=i.rotate(h,f);h=q(b,d,e+f);b=(g-h.width)/2;d=(g-h.height)/2;return{x:i.x-b,y:i.y-d,width:a.width,height:a.height,rotation:a.rotation}}g["default"]=a}),98);
__d("WAWebAlignCenterAltIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="align-center-alt";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=15;m=18;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 18 15",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648Zm2.955 4.109H13.4a.643.643 0 1 0 0-1.287H4.592a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Zm-2.955 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648Zm2.955 4.109H13.4a.643.643 0 1 0 0-1.287H4.592a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AlignCenterAltIcon=a}),98);
__d("WAWebAlignLeftAltIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="align-left-alt";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=15;m=18;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 18 15",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648Zm0 4.109h8.816a.643.643 0 1 0 0-1.287H1.637a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Zm0 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648Zm0 4.109h8.816a.643.643 0 1 0 0-1.287H1.637a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AlignLeftAltIcon=a}),98);
__d("WAWebAlignRightAltIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="align-right-alt";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=15;m=18;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 18 15",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648ZM7.54 5.895h8.816a.643.643 0 1 0 0-1.287H7.539a.634.634 0 0 0-.64.64c0 .364.283.647.64.647Zm-5.902 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648ZM7.54 14.12h8.816a.643.643 0 1 0 0-1.287H7.539a.634.634 0 0 0-.64.64c0 .364.283.647.64.647Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AlignRightAltIcon=a}),98);
__d("WAWebMediaEditorToolbarButton.react",["WAWebChevronDownAltIcon","WAWebClassnames","WAWebFlex.react","WAWebUnstyledButton.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react");b=(h||(h=d("react"))).forwardRef;var l={container:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",fontSize:"x6prxxf",lineHeight:"x152skdk",cursor:"x1ypdohk",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",":hover_backgroundColor":"x1ry1tff",":active_backgroundColor":"xyklrzc",$$css:!0},selected:{backgroundColor:"x1786zcw",$$css:!0},disabled:{opacity:"xbyyjgo",":hover_backgroundColor":"x1n5bzlp",":active_backgroundColor":"xyftt0y",$$css:!0},icon:{width:"xvy4d1p",height:"xxk0z11",$$css:!0},rotate:{transform:"x19jd1h0",$$css:!0}};e=b(function(a,b){var e=a.children,f=a.onClick,g=a.icon,h=a.caret,j=a.disabled;j=j===void 0?!1:j;var m=a.title,n=a.selected;n=n===void 0?!1:n;var o;if(h)switch(h){case"up":o=k.jsx(d("WAWebChevronDownAltIcon").ChevronDownAltIcon,{displayInline:!0,xstyle:l.rotate,width:15,height:15});break;case"down":o=k.jsx(d("WAWebChevronDownAltIcon").ChevronDownAltIcon,{displayInline:!0,width:15,height:15});break;default:break}return k.jsxs("div",{ref:b,role:"button",tabIndex:"-1",onClick:f,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((i||(i=c("stylex")))(l.container,j&&l.disabled,!j&&n&&l.selected),a.className),title:m,children:[g&&k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:l.icon,children:g}),e&&k.jsx("span",{className:"x1iyjqo2 xxk0z11 xdj266r xw3qccf xat24cr xsgj6o6 x1o2sk6j x2b8uid",children:e}),o&&k.jsx("span",{children:o})]})});var m={button:{borderTop:"xtavm8z",borderEnd:"xt30c5d",borderBottom:"xj9ywhc",borderStart:"x1pftnkn",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",":hover_borderTopColor":"xkfedft",":hover_borderEndColor":"x1b5t6y",":hover_borderBottomColor":"x16irdbc",":hover_borderStartColor":"x1s9ftvl",$$css:!0},iconContainer:{width:"x23j0i4",height:"xd7y6wv",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",backgroundColor:"x189ddfa",$$css:!0},selected:{borderTopColor:"x9pt0gb",borderEndColor:"xganwq3",borderBottomColor:"x1xcsyc0",borderStartColor:"x1en31xc",$$css:!0}};function a(a){var b=a.onClick,e=a.children;a=a.selected;a=a===void 0?!1:a;return k.jsx(c("WAWebUnstyledButton.react"),{xstyle:[m.button,a&&m.selected],onClick:b,children:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",xstyle:m.iconContainer,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g.ToolbarButton=e;g.ToolbarRoundButton=a}),98);
__d("WAWebMediaEditorToolbarAlignment.react",["WAWebAlignCenterAltIcon","WAWebAlignLeftAltIcon","WAWebAlignRightAltIcon","WAWebMediaEditorEnumsFonts","WAWebMediaEditorToolbarButton.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={icon:{color:"x1luubj0",transform:"x4zgh4k",$$css:!0}};function k(a){var b=a.alignment;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignment"]);switch(b){case d("WAWebMediaEditorEnumsFonts").TextAlignment.LEFT:return i.jsx(d("WAWebAlignLeftAltIcon").AlignLeftAltIcon,babelHelpers["extends"]({},a));case d("WAWebMediaEditorEnumsFonts").TextAlignment.RIGHT:return i.jsx(d("WAWebAlignRightAltIcon").AlignRightAltIcon,babelHelpers["extends"]({},a));case d("WAWebMediaEditorEnumsFonts").TextAlignment.CENTER:return i.jsx(d("WAWebAlignCenterAltIcon").AlignCenterAltIcon,babelHelpers["extends"]({},a))}}k.displayName=k.name+" [from "+f.id+"]";var l=Array.from(d("WAWebMediaEditorEnumsFonts").TextAlignment.members());function a(a){var b=a.activeAlignment,c=a.onSelect;a=function(a){a=l.indexOf(b);a=(a=l[a+1])!=null?a:l[0];c(a)};return i.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarRoundButton,{onClick:a,children:i.jsx(k,{xstyle:j.icon,alignment:b})})}a.displayName=a.name+" [from "+f.id+"]";g.AlignmentToolbar=a}),98);
__d("WAWebMediaEditorToolbarColor.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ak06",colorChipsContainer:"_ak07"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorToolbarColorChip.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={colorButton:"_ak09",primaryColorChip:"_ak0d",primaryColorChipMedium:"_ak0f",secondaryColorChip:"_ak0g",hover:"_ak0b",active:"_ak0c",selected:"_ak0a",colorChipWithBorder:"_ak0e"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorToolbarColorChip.react",["WAWebClassnames","WAWebMediaEditorToolbarColorChip.scss","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function a(a){var b=a.primaryColor,e=a.secondaryColor,f=a.onSelect,g=a.selected,h=a.withBorder,i=k(!1),l=i[0],m=i[1];i=k(!1);var n=i[0],o=i[1];i=function(a){m(!0)};var p=function(a){m(!1)},q=function(a){o(!0)},r=function(a){o(!1)};return j.jsx("div",{onClick:f,onMouseEnter:i,onMouseLeave:p,onMouseDown:q,onMouseUp:r,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[(i=c("WAWebMediaEditorToolbarColorChip.scss")).selected]=g,f[i.hover]=l,f[i.active]=n,f[i.colorButton]=!0,f)),style:{backgroundColor:n&&!g?b.withAlpha(.2).toRgbaString():"transparent"},children:j.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((p={},p[c("WAWebMediaEditorToolbarColorChip.scss").colorChipWithBorder]=h&&b.isWhite(),p[c("WAWebMediaEditorToolbarColorChip.scss").primaryColorChipMedium]=a.theme==="medium",p[c("WAWebMediaEditorToolbarColorChip.scss").primaryColorChip]=!0,p)),style:{backgroundColor:b.toRgbaString()},children:e&&g&&j.jsx("div",{className:c("WAWebMediaEditorToolbarColorChip.scss").secondaryColorChip,style:{backgroundColor:e.toRgbaString()}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorToolbarColorPickerConsts",["WAWebMediaEditorUtilsColor"],(function(a,b,c,d,e,f,g){a=334;b=203;c=b*.74;e=b-c;f=20;d=new(d("WAWebMediaEditorUtilsColor").Color)(210,252,86);var h=900;g.CONTAINER_WIDTH=a;g.CONTAINER_HEIGHT=b;g.CANVAS_HEIGHT=c;g.INPUT_HEIGHT=e;g.CURSOR_SIZE=f;g.DEFAULT_COLOR=d;g.THROTTLE_WAIT_TIME=h}),98);
__d("WAWebMediaEditorToolbarColorPickerInput.react",["WAWebCopyPasteSelectable.react","WAWebKeyboardHotKeys.react","WAWebMediaEditorToolbarColorChip.react","WAWebMediaEditorToolbarColorPickerConsts","WAWebMediaEditorUtilsColor","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function a(a){var b=a.color,e=a.onColorPickerClose,f=a.onChangeColor;a=k(null);var g=l(b.toHex()),h=g[0],i=g[1];g=function(a){a=a.target.value;i(a);if(!a||!d("WAWebMediaEditorUtilsColor").isValidHex(a))return;a=d("WAWebMediaEditorUtilsColor").Color.fromHex(a);f(a)};return j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 x7ywyr2 xexx8yu x1sxyh0 x18d9i69 xurb0ha",style:{width:d("WAWebMediaEditorToolbarColorPickerConsts").CONTAINER_WIDTH,height:d("WAWebMediaEditorToolbarColorPickerConsts").INPUT_HEIGHT},children:[j.jsx(c("WAWebMediaEditorToolbarColorChip.react"),{withBorder:!0,primaryColor:b,selected:!1,theme:"medium"}),j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{enter:e},children:j.jsx(d("WAWebCopyPasteSelectable.react").SelectableDiv,{selectable:!0,children:j.jsx("input",{type:"text",ref:a,className:"xjbqb8w x76ihet xwmqs3e x112ta8 xxxdfa6 xzwifym x6prxxf x1fc57z9 x1a2a7pz x889kno x1sxyh0 x1a8lsjc xurb0ha",value:h,onChange:g})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorUtilsGetCursorPositionFromColor",["WAWebMediaEditorToolbarColorPickerConsts"],(function(a,b,c,d,e,f,g){function a(a){var b;a=a.toHsl();var c=(b=d("WAWebMediaEditorToolbarColorPickerConsts")).CONTAINER_WIDTH*a.hue-b.CURSOR_SIZE/2;a=b.CANVAS_HEIGHT*(1-a.lightness)-b.CURSOR_SIZE/2;return{x:c,y:a}}g.getPositionFromColor=a}),98);
__d("WAWebMediaEditorToolbarColorPickerPanel.react",["WAWebMediaEditorToolbarColorPickerConsts","WAWebMediaEditorUtilsColor","WAWebMediaEditorUtilsGetCursorPositionFromColor","react","useWAWebThrottledCallback"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.color,e=a.onChangeSelectedColor,f=a.onChangeCanvasColor,g=l(null);a=m(!1);var h=a[0],i=a[1];k(function(){var a=g.current;if(!a)return;var b=a.getContext("2d"),c=b.createLinearGradient(0,0,a.width,0);c.addColorStop(0,"#ff0000");c.addColorStop(1/6,"#ffff00");c.addColorStop(1/6*2,"#00ff00");c.addColorStop(1/6*3,"#00ffff");c.addColorStop(1/6*4,"#0000ff");c.addColorStop(1/6*5,"#ff00ff");c.addColorStop(1,"#ff0000");b.fillStyle=c;b.fillRect(0,0,a.width,a.height);c=b.createLinearGradient(0,0,0,a.height);c.addColorStop(0,"rgba(255, 255, 255, 1)");c.addColorStop(.5,"rgba(255, 255, 255, 0)");c.addColorStop(1,"rgba(255, 255, 255, 0)");b.fillStyle=c;b.fillRect(0,0,a.width,a.height);c=b.createLinearGradient(0,0,0,a.height);c.addColorStop(0,"rgba(0, 0, 0, 0)");c.addColorStop(.5,"rgba(0, 0, 0, 0)");c.addColorStop(1,"rgba(0, 0, 0, 1)");b.fillStyle=c;b.fillRect(0,0,a.width,a.height)},[]);a=d("WAWebMediaEditorUtilsGetCursorPositionFromColor").getPositionFromColor(b);var n=function(a){var b=g.current;if(!b)return{x:0,y:0};b=b.getBoundingClientRect();var c=a.clientX-b.left;a=a.clientY-b.top;c>b.width&&(c=b.width-.1);c<0&&(c=0);a>b.height&&(a=b.height);a<0&&(a=.1);c-=d("WAWebMediaEditorToolbarColorPickerConsts").CURSOR_SIZE/2;a-=d("WAWebMediaEditorToolbarColorPickerConsts").CURSOR_SIZE/2;return{x:c,y:a}},o=function(a){var b=g.current;if(!b)return new(d("WAWebMediaEditorUtilsColor").Color)(0,0,0);var c=a.x+d("WAWebMediaEditorToolbarColorPickerConsts").CURSOR_SIZE/2;a=a.y+d("WAWebMediaEditorToolbarColorPickerConsts").CURSOR_SIZE/2;b=b.getContext("2d");b=b.getImageData(c,a,1,1);c=b.data;return new(d("WAWebMediaEditorUtilsColor").Color)(c[0],c[1],c[2])},p=c("useWAWebThrottledCallback")(e,(e=d("WAWebMediaEditorToolbarColorPickerConsts")).THROTTLE_WAIT_TIME),q=function(a,b){b!=null&&i(b);b=n(a);a=b.x;b=b.y;a=o({x:a,y:b});p(a);f(a)},r=function(a){q(a,!0)},s=function(a){if(!h)return;a.stopPropagation();a.preventDefault();q(a)},t=function(a){q(a,!1)};return j.jsxs(j.Fragment,{children:[j.jsx("canvas",{width:e.CONTAINER_WIDTH,height:e.CANVAS_HEIGHT,className:"x8u2fvd x1ht7hnu x9f619 xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6",ref:g,onMouseDown:r,onMouseMove:s,onMouseUp:t}),j.jsx("div",{className:"x12cipg9 x1l7pj32 x2eqjsk x2oabco x15wlbvn x5m3s2n x68a9ox xtwgpwe x1l8gmyy x9f619 xt0e3qv x47corl x10l6tqk",style:{width:e.CURSOR_SIZE,height:e.CURSOR_SIZE,left:a.x,top:a.y,backgroundColor:b.toRgbaString()}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorToolbarColorPicker.react",["WAWebMediaEditorToolbarColorPickerConsts","WAWebMediaEditorToolbarColorPickerInput.react","WAWebMediaEditorToolbarColorPickerPanel.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function a(a){var b=a.selectedColor,e=a.onColorSelect;b=k((b=b)!=null?b:d("WAWebMediaEditorToolbarColorPickerConsts").DEFAULT_COLOR);var f=b[0],g=b[1],h=function(a){g(a)},i=function(a){e(a)};b=function(a){h(a),i(a)};return j.jsxs("div",{className:"x1n2onr6",style:{width:d("WAWebMediaEditorToolbarColorPickerConsts").CONTAINER_WIDTH,height:d("WAWebMediaEditorToolbarColorPickerConsts").CONTAINER_HEIGHT},children:[j.jsx(c("WAWebMediaEditorToolbarColorPickerPanel.react"),{color:f,onChangeCanvasColor:h,onChangeSelectedColor:i}),j.jsx(c("WAWebMediaEditorToolbarColorPickerInput.react"),{color:f,onChangeColor:b,onColorPickerClose:a.onColorPickerClose})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorToolbarColor.react",["WAWebDropdown.react","WAWebFlex.react","WAWebL10N","WAWebMediaEditorToolbarButton.react","WAWebMediaEditorToolbarColor.scss","WAWebMediaEditorToolbarColorChip.react","WAWebMediaEditorToolbarColorPicker.react","WAWebUimUie.react","WAWebUimUieMenu.react","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useState;e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.colors,f=a.onColorSelect,g=a.selectedColor;a=l(null);var h=a[0],i=a[1],m=function(){i(null)};a=function(a){a.preventDefault();a.stopPropagation();a={menu:j.jsx(c("WAWebMediaEditorToolbarColorPicker.react"),{onColorSelect:f,selectedColor:g,onColorPickerClose:m}),dirX:c("WAWebL10N").isRTL()?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,type:d("WAWebDropdown.react").MenuType.ColorPicker,anchor:a.target};i(a)};var n=function(){return Boolean(h)};k(b,function(){return{isPanelVisible:n}});b=e.map(function(a){var b=a.primaryColor;a.secondaryColor;return j.jsx(c("WAWebMediaEditorToolbarColorChip.react"),{primaryColor:b,onSelect:function(){return f(b)},selected:Boolean(g&&g.equals(b))},b.toString())});e=null;h&&(e=j.jsx(d("WAWebUimUie.react").UIE,{displayName:"ColorPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:m,children:j.jsx(c("WAWebUimUieMenu.react"),{contextMenu:h})}));return j.jsxs("div",{className:c("WAWebMediaEditorToolbarColor.scss").container,children:[j.jsx(d("WAWebFlex.react").FlexRow,{className:c("WAWebMediaEditorToolbarColor.scss").colorChipsContainer,children:b}),j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{onClick:a,caret:h?"down":"up"}),e]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebAlignCenterIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="align-center";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=28;m=28;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 28 28",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M18.5,19 C18.7761424,19 19,19.2238576 19,19.5 L19,20 C19,20.2761424 18.7761424,20.5 18.5,20.5 L9.5,20.5 C9.22385763,20.5 9,20.2761424 9,20 L9,19.5 C9,19.2238576 9.22385763,19 9.5,19 L18.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M21.5,11 C21.7761424,11 22,11.2238576 22,11.5 L22,12 C22,12.2761424 21.7761424,12.5 21.5,12.5 L6.5,12.5 C6.22385763,12.5 6,12.2761424 6,12 L6,11.5 C6,11.2238576 6.22385763,11 6.5,11 L21.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AlignCenterIcon=a}),98);
__d("WAWebAlignLeftIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="align-left";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=28;m=28;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 28 28",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M14.5,19 C14.7761424,19 15,19.2238576 15,19.5 L15,20 C15,20.2761424 14.7761424,20.5 14.5,20.5 L5.5,20.5 C5.22385763,20.5 5,20.2761424 5,20 L5,19.5 C5,19.2238576 5.22385763,19 5.5,19 L14.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M20.5,11 C20.7761424,11 21,11.2238576 21,11.5 L21,12 C21,12.2761424 20.7761424,12.5 20.5,12.5 L5.5,12.5 C5.22385763,12.5 5,12.2761424 5,12 L5,11.5 C5,11.2238576 5.22385763,11 5.5,11 L20.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AlignLeftIcon=a}),98);
__d("WAWebAlignRightIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="align-right";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=28;m=28;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 28 28",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M22.5,19 C22.7761424,19 23,19.2238576 23,19.5 L23,20 C23,20.2761424 22.7761424,20.5 22.5,20.5 L13.5,20.5 C13.2238576,20.5 13,20.2761424 13,20 L13,19.5 C13,19.2238576 13.2238576,19 13.5,19 L22.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M22.5,11 C22.7761424,11 23,11.2238576 23,11.5 L23,12 C23,12.2761424 22.7761424,12.5 22.5,12.5 L7.5,12.5 C7.22385763,12.5 7,12.2761424 7,12 L7,11.5 C7,11.2238576 7.22385763,11 7.5,11 L22.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AlignRightIcon=a}),98);
__d("WAWebMediaEditorToolbarFontDropdown.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={item:"_aj_7",selected:"_aj_8",sansSerif:"_aj_9",serif:"_aj_a",noricanRegular:"_aj_b",bryndanWrite:"_aj_c",oswaldHeavy:"_aj_d",alignmentContainer:"_aj_e",alignmentIcon:"_aj_f",alignmentIconSelected:"_aj_g"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorToolbarFontDropdown.react",["WAWebAlignCenterIcon","WAWebAlignLeftIcon","WAWebAlignRightIcon","WAWebCheckmarkIcon","WAWebClassnames","WAWebDropdownItem.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFontLoader","WAWebMediaEditorEnumsFonts","WAWebMediaEditorToolbarFontDropdown.scss","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect,l=[{alignment:d("WAWebMediaEditorEnumsFonts").TextAlignment.LEFT,icon:d("WAWebAlignLeftIcon").AlignLeftIcon},{alignment:d("WAWebMediaEditorEnumsFonts").TextAlignment.CENTER,icon:d("WAWebAlignCenterIcon").AlignCenterIcon},{alignment:d("WAWebMediaEditorEnumsFonts").TextAlignment.RIGHT,icon:d("WAWebAlignRightIcon").AlignRightIcon}];function m(a){var b=a.font,e=a.isSelectedFont,f=a.onAction,g;e&&(g=j.jsx("span",{className:c("WAWebMediaEditorToolbarFontDropdown.scss").selected,children:j.jsx(d("WAWebCheckmarkIcon").CheckmarkIcon,{displayInline:!0})}));a=d("WAWebMediaEditorEnumsFonts").getFontTranslation(b);var h;switch(b){case d("WAWebMediaEditorEnumsFonts").FontType.SANS_SERIF:h=c("WAWebMediaEditorToolbarFontDropdown.scss").sansSerif;break;case d("WAWebMediaEditorEnumsFonts").FontType.SERIF:h=c("WAWebMediaEditorToolbarFontDropdown.scss").serif;break;case d("WAWebMediaEditorEnumsFonts").FontType.NORICAN_REGULAR:h=c("WAWebMediaEditorToolbarFontDropdown.scss").noricanRegular;break;case d("WAWebMediaEditorEnumsFonts").FontType.BRYNDAN_WRITE:h=c("WAWebMediaEditorToolbarFontDropdown.scss").bryndanWrite;break;case d("WAWebMediaEditorEnumsFonts").FontType.OSWALD_HEAVY:h=c("WAWebMediaEditorToolbarFontDropdown.scss").oswaldHeavy;break}return j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(a){return f(a,b)},children:j.jsxs("div",{role:"button",className:c("WAWebMediaEditorToolbarFontDropdown.scss").item,style:d("WAWebMediaEditorEnumsFonts").getFontStyle(b),children:[j.jsx("span",{className:h,children:a}),g]})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.onAction,e=a.selectedAlignment;return j.jsx(d("WAWebFlex.react").FlexRow,{className:c("WAWebMediaEditorToolbarFontDropdown.scss").alignmentContainer,justify:"around",align:"center",children:l.map(function(a){var f=a.alignment;a=a.icon;return j.jsx(c("WAWebFlexItem.react"),{children:j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(a){return b(a,f)},children:j.jsx(a,{className_DONOTUSE:d("WAWebClassnames").classnamesConvertMeToStylexPlease((a={},a[c("WAWebMediaEditorToolbarFontDropdown.scss").alignmentIconSelected]=e,a[c("WAWebMediaEditorToolbarFontDropdown.scss").alignmentIcon]=!0,a))})})},f)})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.onFontSelect,c=a.onAlignmentSelect,e=a.selectedFont,f=a.selectedAlignment,g=a.showAlignmentOptions;k(function(){d("WAWebFontLoader").FontLoader.loadAllFonts()},[]);var h=function(a,c){a.stopPropagation(),b(c)},i=function(a,b){a.stopPropagation(),c(b)};return j.jsxs("div",{children:[a.fonts.map(function(a){return j.jsx(m,{font:a,isSelectedFont:e===a,onAction:h},a)}),g&&j.jsx(n,{selectedAlignment:f,onAction:i},"alignment")]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorToolbarFont.react",["WAWebFlex.react","WAWebMediaEditorEnumsFonts","WAWebMediaEditorToolbarButton.react","WAWebMediaEditorToolbarFontDropdown.react","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebVelocityTransitionGroup","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useImperativeHandle,m=b.useRef,n=b.useState,o={icon:{width:"xw4jnvo",height:"x1qx5ct2",fontSize:"x1nxh6w3",color:"x1r3oa16",textAlign:"x2b8uid",backgroundColor:"x189ddfa",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},iconOnly:{color:"x1luubj0",fontSize:"x6prxxf",$$css:!0}};e=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.selectedFont,f=a.fonts,g=a.onFontSelect,h=a.onAlignmentSelect,j=a.selectedAlignment,p=a.showImprovedToolbar,q=m(null);a=n(null);var r=a[0],s=a[1];a=function(a){if(r)return;if(!q.current)return;a=k.jsx(c("WAWebMediaEditorToolbarFontDropdown.react"),{fonts:f,selectedFont:e,selectedAlignment:j,showAlignmentOptions:!p,onFontSelect:g,onAlignmentSelect:h});s({menu:a,anchor:q.current})};var t=function(){s(null)},u=function(){return Boolean(r)};l(b,function(){return{isMenuVisible:u}});b=Boolean(r);var v;r&&(v=k.jsx(d("WAWebUimUie.react").UIE,{displayName:"MediaEditorFontDropdown",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:t,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:r})}));if(p)t=k.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarRoundButton,{onClick:a,selected:b,children:k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[o.icon,o.iconOnly],style:babelHelpers["extends"]({},d("WAWebMediaEditorEnumsFonts").getFontStyle(e)),justify:"center",align:"center",children:"Aa"})});else{var w=k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:o.icon,style:babelHelpers["extends"]({},d("WAWebMediaEditorEnumsFonts").getFontStyle(e)),justify:"center",align:"center",children:k.jsx("div",{"aria-hidden":"true",children:"A"})});t=k.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{onClick:a,icon:w,selected:b,caret:b?"down":"up",children:k.jsx("span",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiPadding.end5),children:d("WAWebMediaEditorEnumsFonts").getFontTranslation(e)})})}return k.jsxs("div",{ref:q,className:"x1n2onr6 x2lah0s",children:[t,k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown",children:v})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g.Font=b}),98);
__d("WAWebMediaEditorToolbarTextBackground.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={cirle:"_ajtz",circleFilled:"_ajto",unchecked:"_ajtp",checked:"_ajtq"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorToolbarTextBackground.react",["fbt","WAWebCheckmarkIcon","WAWebClassnames","WAWebMediaEditorToolbarButton.react","WAWebMediaEditorToolbarTextBackground.scss","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b,e=a.checked;a=a.onBackgroundToggle;b=j.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebMediaEditorToolbarTextBackground.scss").circleFilled]=e,b[c("WAWebMediaEditorToolbarTextBackground.scss").cirle]=!0,b)),children:e?j.jsx("div",{className:c("WAWebMediaEditorToolbarTextBackground.scss").checked,children:j.jsx(d("WAWebCheckmarkIcon").CheckmarkIcon,{})}):j.jsx("div",{className:c("WAWebMediaEditorToolbarTextBackground.scss").unchecked})});return j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{icon:b,onClick:a,children:h._("__JHASH__vMN8zKuPBKn__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMediaEditorTextToolbar.react",["fbt","WAWebABProps","WAWebDeleteIcon","WAWebMediaEditorEnumsColors","WAWebMediaEditorEnumsFonts","WAWebMediaEditorToolbarAlignment.react","WAWebMediaEditorToolbarButton.react","WAWebMediaEditorToolbarColor.react","WAWebMediaEditorToolbarFont.react","WAWebMediaEditorToolbarTextBackground.react","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useImperativeHandle,m=b.useRef;function n(){return d("WAWebABProps").getABPropConfigValue("web_improved_text_tool_enabled")}e=k.forwardRef(a);function a(a,b){var e=a.onAlignmentSelect,f=a.onDeleteLayer,g=a.onFontSelect,i=a.onTextBackgroundToggle,j=a.onTextColorSelect;a=a.textLayer;var o=m(null),p=m(null);l(b,function(){return{isColorPanelVisible:function(){var a;return(a=(a=o.current)==null?void 0:a.isPanelVisible())!=null?a:!1},isFontMenuVisible:function(){var a;return(a=(a=p.current)==null?void 0:a.isMenuVisible())!=null?a:!1}}});b=d("WAWebMediaEditorEnumsColors").getAllColors().map(function(a){a=d("WAWebMediaEditorEnumsColors").getColorValue(a);var b=d("WAWebMediaEditorEnumsColors").getColorValue(a.isLight()?d("WAWebMediaEditorEnumsColors").ColorType.BLACK:d("WAWebMediaEditorEnumsColors").ColorType.WHITE);return{primaryColor:a,secondaryColor:b}});return k.jsxs(k.Fragment,{children:[k.jsx(c("WAWebMediaEditorToolbarColor.react"),{ref:o,colors:b,onColorSelect:j,selectedColor:a.textColor}),n()&&k.jsx(d("WAWebMediaEditorToolbarAlignment.react").AlignmentToolbar,{activeAlignment:a.alignment,onSelect:e}),k.jsx(d("WAWebMediaEditorToolbarFont.react").Font,{ref:p,fonts:d("WAWebMediaEditorEnumsFonts").getAllFonts(),selectedFont:a.font,selectedAlignment:a.alignment,onFontSelect:g,onAlignmentSelect:e,showImprovedToolbar:n()}),k.jsx(c("WAWebMediaEditorToolbarTextBackground.react"),{checked:a.textBackground,onBackgroundToggle:i}),k.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{icon:k.jsx(d("WAWebDeleteIcon").DeleteIcon,{displayInline:!0}),title:h._("__JHASH__pN4ewkKYOF9__JHASH__"),onClick:f})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g.TextToolbar=b}),226);
__d("WAWebMediaEditorBlurPixelateIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-blur-pixelate";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("rect",{x:4.5,y:4.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:4.5,y:10.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:4.5,y:16.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:7.5,y:7.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:7.5,y:13.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:13.5,y:7.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:13.5,y:13.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:10.5,y:4.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:10.5,y:10.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:10.5,y:16.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:16.5,y:4.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:16.5,y:10.5,width:3,height:3,fill:"currentColor"}),j.jsx("rect",{x:16.5,y:16.5,width:3,height:3,fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorBlurPixelateIcon=a}),98);
__d("WAWebMediaEditorBlurSmoothIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-blur-smooth";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M6 13C5.45 13 5 13.45 5 14C5 14.55 5.45 15 6 15C6.55 15 7 14.55 7 14C7 13.45 6.55 13 6 13ZM6 17C5.45 17 5 17.45 5 18C5 18.55 5.45 19 6 19C6.55 19 7 18.55 7 18C7 17.45 6.55 17 6 17ZM6 9C5.45 9 5 9.45 5 10C5 10.55 5.45 11 6 11C6.55 11 7 10.55 7 10C7 9.45 6.55 9 6 9ZM3 9.5C2.72 9.5 2.5 9.72 2.5 10C2.5 10.28 2.72 10.5 3 10.5C3.28 10.5 3.5 10.28 3.5 10C3.5 9.72 3.28 9.5 3 9.5ZM6 5C5.45 5 5 5.45 5 6C5 6.55 5.45 7 6 7C6.55 7 7 6.55 7 6C7 5.45 6.55 5 6 5ZM21 10.5C21.28 10.5 21.5 10.28 21.5 10C21.5 9.72 21.28 9.5 21 9.5C20.72 9.5 20.5 9.72 20.5 10C20.5 10.28 20.72 10.5 21 10.5ZM14 7C14.55 7 15 6.55 15 6C15 5.45 14.55 5 14 5C13.45 5 13 5.45 13 6C13 6.55 13.45 7 14 7ZM14 3.5C14.28 3.5 14.5 3.28 14.5 3C14.5 2.72 14.28 2.5 14 2.5C13.72 2.5 13.5 2.72 13.5 3C13.5 3.28 13.72 3.5 14 3.5ZM3 13.5C2.72 13.5 2.5 13.72 2.5 14C2.5 14.28 2.72 14.5 3 14.5C3.28 14.5 3.5 14.28 3.5 14C3.5 13.72 3.28 13.5 3 13.5ZM10 20.5C9.72 20.5 9.5 20.72 9.5 21C9.5 21.28 9.72 21.5 10 21.5C10.28 21.5 10.5 21.28 10.5 21C10.5 20.72 10.28 20.5 10 20.5ZM10 3.5C10.28 3.5 10.5 3.28 10.5 3C10.5 2.72 10.28 2.5 10 2.5C9.72 2.5 9.5 2.72 9.5 3C9.5 3.28 9.72 3.5 10 3.5ZM10 7C10.55 7 11 6.55 11 6C11 5.45 10.55 5 10 5C9.45 5 9 5.45 9 6C9 6.55 9.45 7 10 7ZM10 12.5C9.17 12.5 8.5 13.17 8.5 14C8.5 14.83 9.17 15.5 10 15.5C10.83 15.5 11.5 14.83 11.5 14C11.5 13.17 10.83 12.5 10 12.5ZM18 13C17.45 13 17 13.45 17 14C17 14.55 17.45 15 18 15C18.55 15 19 14.55 19 14C19 13.45 18.55 13 18 13ZM18 17C17.45 17 17 17.45 17 18C17 18.55 17.45 19 18 19C18.55 19 19 18.55 19 18C19 17.45 18.55 17 18 17ZM18 9C17.45 9 17 9.45 17 10C17 10.55 17.45 11 18 11C18.55 11 19 10.55 19 10C19 9.45 18.55 9 18 9ZM18 5C17.45 5 17 5.45 17 6C17 6.55 17.45 7 18 7C18.55 7 19 6.55 19 6C19 5.45 18.55 5 18 5ZM21 13.5C20.72 13.5 20.5 13.72 20.5 14C20.5 14.28 20.72 14.5 21 14.5C21.28 14.5 21.5 14.28 21.5 14C21.5 13.72 21.28 13.5 21 13.5ZM14 17C13.45 17 13 17.45 13 18C13 18.55 13.45 19 14 19C14.55 19 15 18.55 15 18C15 17.45 14.55 17 14 17ZM14 20.5C13.72 20.5 13.5 20.72 13.5 21C13.5 21.28 13.72 21.5 14 21.5C14.28 21.5 14.5 21.28 14.5 21C14.5 20.72 14.28 20.5 14 20.5ZM10 8.5C9.17 8.5 8.5 9.17 8.5 10C8.5 10.83 9.17 11.5 10 11.5C10.83 11.5 11.5 10.83 11.5 10C11.5 9.17 10.83 8.5 10 8.5ZM10 17C9.45 17 9 17.45 9 18C9 18.55 9.45 19 10 19C10.55 19 11 18.55 11 18C11 17.45 10.55 17 10 17ZM14 12.5C13.17 12.5 12.5 13.17 12.5 14C12.5 14.83 13.17 15.5 14 15.5C14.83 15.5 15.5 14.83 15.5 14C15.5 13.17 14.83 12.5 14 12.5ZM14 8.5C13.17 8.5 12.5 9.17 12.5 10C12.5 10.83 13.17 11.5 14 11.5C14.83 11.5 15.5 10.83 15.5 10C15.5 9.17 14.83 8.5 14 8.5Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorBlurSmoothIcon=a}),98);
__d("WAWebMediaEditorToolbarBlur.react",["fbt","WANullthrows","WAWebCheckmarkMediumIcon","WAWebDropdown.react","WAWebDropdownItem.react","WAWebFlex.react","WAWebMediaEditorBlurPixelateIcon","WAWebMediaEditorBlurSmoothIcon","WAWebMediaEditorLayersBlur","WAWebMediaEditorToolbarButton.react","WAWebSlider.react","WAWebUimUie.react","WAWebUimUieMenu.react","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useImperativeHandle,m=b.useRef,n=b.useState,o=10,p=100;e=50;var q={blurModeIconContainer:{marginEnd:"x1h5jrl4",marginLeft:null,marginRight:null,$$css:!0},blurModeIcon:{width:"xvy4d1p",height:"xxk0z11",$$css:!0},checkmarkIcon:{width:"x1kky2od",height:"xlup9mm",$$css:!0}};b=k.forwardRef(a);function a(a,b){var e=a.blurMode,f=a.blurRadius,g=a.onBlurModeChange,i=a.onBlurRadiusChange;a=n(null);var j=a[0],r=a[1],s=m(null),t=function(a,b){a.preventDefault(),g(b)};a=function(a,b){i(a,b)};var u=function(){r(null)},v=function(a){a.preventDefault();a=Array.from(d("WAWebMediaEditorLayersBlur").BlurMode.members()).map(function(a){var b=a===d("WAWebMediaEditorLayersBlur").BlurMode.Smooth?d("WAWebMediaEditorBlurSmoothIcon").MediaEditorBlurSmoothIcon:d("WAWebMediaEditorBlurPixelateIcon").MediaEditorBlurPixelateIcon;return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(b){return t(b,a)},children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:"xyinxu5 x1ou2tus x1g2khh7 xpkgp8e x1ry1tff",children:[k.jsx(b,{xstyle:q.blurModeIconContainer,iconXstyle:q.blurModeIcon}),a===e&&k.jsx(d("WAWebCheckmarkMediumIcon").CheckmarkMediumIcon,{iconXstyle:q.checkmarkIcon})]})},a)});a={menu:a,dirX:d("WAWebDropdown.react").DirX.CENTER,dirY:d("WAWebDropdown.react").DirY.TOP,offsetY:-5,anchor:c("WANullthrows")(s.current)};r(a)},w=function(){return Boolean(j)};l(b,function(){return{isPanelVisible:w}});b=e===d("WAWebMediaEditorLayersBlur").BlurMode.Smooth?d("WAWebMediaEditorBlurSmoothIcon").MediaEditorBlurSmoothIcon:d("WAWebMediaEditorBlurPixelateIcon").MediaEditorBlurPixelateIcon;return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{ref:s,onClick:v,caret:j?"down":"up",icon:k.jsx(b,{iconXstyle:q.blurModeIcon,displayInline:!0}),title:h._("__JHASH__k9X6k4yniYw__JHASH__"),children:k.jsx("div",{className:"x1g8rjiy xexx8yu x4uap5 x18d9i69 xkhd6sd xdj266r x11i5rnm xat24cr x1mh8g0r"})}),k.jsx("div",{className:"xbbxn1n xe53cfu",children:k.jsx(c("WAWebSlider.react"),{min:o,max:p,value:f,onChange:a,displayValue:!0})}),j&&k.jsx(d("WAWebUimUie.react").UIE,{displayName:"BlurModePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:u,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:j})})]})}a.displayName=a.name+" [from "+f.id+"]";a=b;g.BLUR_MIN_RADIUS=o;g.BLUR_MAX_RADIUS=p;g.BLUR_DEFAULT_RADIUS=e;g.BLUR_DEFAULT_MODE=d("WAWebMediaEditorLayersBlur").BlurMode.Pixelate;g.BlurToolbar=a}),226);
__d("WAWebMediaEditorRotateLeftIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-rotate-left";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.3542 8.1443C6.3542 7.7438 6.03051 7.4185 5.63045 7.4185L5.01611 7.41915C5.03258 5.57318 5.47035 4.24139 6.34295 3.36586C7.23254 2.4733 8.59469 2.03425 10.4907 2.03425H10.6135C10.9457 2.03425 11.2144 1.76409 11.2144 1.43161V0.815805C11.2144 0.415302 10.8908 0.090004 10.4907 0.090004C8.0866 0.090004 6.22855 0.730549 4.97198 1.99134C3.73442 3.23304 3.09655 5.05999 3.07758 7.41919L2.11375 7.4185C1.94433 7.4185 1.78034 7.4781 1.65028 7.58684C1.34333 7.84348 1.30195 8.30096 1.55763 8.60881L3.31599 10.7259C3.344 10.7596 3.37501 10.7907 3.40863 10.8189C3.71579 11.0757 4.17235 11.034 4.42821 10.7259L6.18656 8.60881C6.29491 8.47836 6.3542 8.31399 6.3542 8.1443Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.35864 8.89517V17.2464C9.35864 18.6072 10.4633 19.71 11.8256 19.71H20.143C21.5053 19.71 22.61 18.6072 22.61 17.2464V8.89517C22.61 7.53441 21.5053 6.43158 20.143 6.43158H11.8256C10.4633 6.43158 9.35864 7.53442 9.35864 8.89517ZM11.8256 17.764C11.5391 17.764 11.3071 17.5321 11.3071 17.2464V8.89517C11.3071 8.60945 11.5391 8.37755 11.8256 8.37755H20.143C20.4295 8.37755 20.6615 8.60945 20.6615 8.89517V17.2464C20.6615 17.5321 20.4295 17.764 20.143 17.764H11.8256Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorRotateLeftIcon=a}),98);
__d("WAWebMediaEditorRotateRightIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-rotate-right";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6458 8.1443C17.6458 7.7438 17.9695 7.4185 18.3695 7.4185L18.9839 7.41915C18.9674 5.57318 18.5296 4.24139 17.657 3.36586C16.7674 2.4733 15.4053 2.03425 13.5093 2.03425H13.3865C13.0543 2.03425 12.7855 1.76409 12.7855 1.43161V0.815805C12.7855 0.415302 13.1092 0.090004 13.5093 0.090004C15.9134 0.090004 17.7714 0.730551 19.028 1.99134C20.2655 3.23304 20.9034 5.05999 20.9224 7.41919L21.8862 7.4185C22.0556 7.4185 22.2196 7.4781 22.3497 7.58684C22.6566 7.84348 22.698 8.30096 22.4423 8.60881L20.684 10.7259C20.656 10.7596 20.625 10.7907 20.5913 10.8189C20.2842 11.0757 19.8276 11.034 19.5718 10.7259L17.8134 8.60881C17.7051 8.47836 17.6458 8.31399 17.6458 8.1443Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6413 8.89517L14.6413 17.2464C14.6413 18.6072 13.5367 19.71 12.1743 19.71H3.85698C2.49465 19.71 1.38998 18.6072 1.38998 17.2464V8.89517C1.38998 7.53441 2.49465 6.43158 3.85698 6.43158H12.1743C13.5367 6.43158 14.6413 7.53442 14.6413 8.89517ZM12.1743 17.764C12.4609 17.764 12.6929 17.5321 12.6929 17.2464V8.89517C12.6929 8.60945 12.4609 8.37755 12.1743 8.37755H3.85698C3.57045 8.37755 3.33845 8.60945 3.33845 8.89517V17.2464C3.33845 17.5321 3.57045 17.764 3.85698 17.764H12.1743Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorRotateRightIcon=a}),98);
__d("WAWebMediaEditorToolbarCropRotate.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ajx9",rotateLeftButton:"_ajxa"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorToolbarCropRotate",["fbt","WAWebFlex.react","WAWebMediaEditorRotateLeftIcon","WAWebMediaEditorRotateRightIcon","WAWebMediaEditorToolbarButton.react","WAWebMediaEditorToolbarCropRotate.scss","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.canReset,e=a.onReset,f=a.onRotateCanvas;return j.jsxs(d("WAWebFlex.react").FlexRow,{className:c("WAWebMediaEditorToolbarCropRotate.scss").container,children:[j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{className:c("WAWebMediaEditorToolbarCropRotate.scss").rotateLeftButton,icon:j.jsx(d("WAWebMediaEditorRotateLeftIcon").MediaEditorRotateLeftIcon,{displayInline:!0}),title:h._("__JHASH__7aXXBY-yMWe__JHASH__"),onClick:function(){return f(-90)}}),j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{icon:j.jsx(d("WAWebMediaEditorRotateRightIcon").MediaEditorRotateRightIcon,{displayInline:!0}),title:h._("__JHASH__JOJYjplF6PI__JHASH__"),onClick:function(){return f(90)}}),j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{onClick:e,disabled:!b,children:h._("__JHASH__pr7hZn7Eo8X__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g.CropRotateToolbar=a}),226);
__d("WAWebMediaEditorCropRotateIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-crop-rotate";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3816 3.90531C14.6637 3.90531 14.8923 3.67656 14.8923 3.39438L14.8918 2.84589C16.1791 2.85038 17.6246 3.213 18.7365 4.14324C19.3525 4.65862 20.1579 5.50436 20.5746 6.56201C21.1688 8.07002 21.2528 9.90516 21.2528 10.9187C21.2528 11.0355 21.3256 11.163 21.4225 11.2599C21.5194 11.3568 21.6468 11.4297 21.7636 11.4297H22.1521C22.2924 11.4297 22.4435 11.373 22.5595 11.282C22.6755 11.1911 22.76 11.0631 22.76 10.9187C22.76 9.62054 22.556 7.44191 21.7866 5.69255C21.2979 4.58147 20.4227 3.71554 19.7402 3.13325C18.3666 1.96127 16.5472 1.44043 14.8918 1.4354L14.8923 0.610953C14.8923 0.491427 14.8504 0.375683 14.774 0.283861C14.5934 0.0670835 14.2713 0.0377945 14.0546 0.218443L12.385 1.61015C12.3612 1.62994 12.3393 1.65183 12.3196 1.67557C12.139 1.89235 12.1682 2.21453 12.385 2.39517L14.0546 3.78689C14.1463 3.8634 14.2621 3.90531 14.3816 3.90531Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8064 15.0538V9.00506L17.7987 9.00506C17.7852 7.6881 16.7109 6.62478 15.3878 6.62478L7.13536 6.62477L7.13536 3.43437C7.13536 2.99096 6.77596 2.63803 6.33319 2.63803H5.98825C5.54547 2.63803 5.18607 2.99096 5.18607 3.43437V6.62477H2.04586C1.60299 6.62477 1.23999 6.98386 1.23999 7.42717V7.76721C1.23999 8.21052 1.60299 8.5696 2.04586 8.5696L15.3878 8.56961C15.6429 8.56961 15.8495 8.77602 15.8495 9.03035L15.8622 11.4123V15.0538C15.8622 15.4969 16.2213 15.8562 16.6643 15.8562H17.0043C17.4473 15.8562 17.8064 15.4969 17.8064 15.0538Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.18797 10.779V13.3284H5.18607L5.18609 16.8025C5.18609 18.1311 6.26561 19.208 7.59713 19.208H15.8495V22.2939C15.8495 22.7369 16.2085 23.1 16.6517 23.1H16.9967C17.4398 23.1 17.7988 22.7369 17.7988 22.2939V19.208H20.8904C21.3333 19.208 21.6963 18.8489 21.6963 18.4056V18.0655C21.6963 17.6222 21.3333 17.2631 20.8904 17.2631H7.59713C7.34204 17.2631 7.13537 17.0569 7.13537 16.8025L7.13536 13.3284H7.13226V10.779C7.13226 10.3358 6.77311 9.97659 6.33009 9.97659H5.99014C5.54711 9.97659 5.18797 10.3358 5.18797 10.779Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorCropRotateIcon=a}),98);
__d("WAWebMediaEditorRedoIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-redo";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1711 6.65302L15.1706 8.51221C15.1706 9.11927 15.6414 9.63151 16.2464 9.63151C16.4274 9.63151 16.605 9.58399 16.763 9.49405L21.8193 6.61457C22.3483 6.31335 22.5358 5.62853 22.256 5.08554C22.1569 4.89308 22.0057 4.73331 21.8193 4.62721L16.763 1.74774C16.2331 1.44598 15.5777 1.65826 15.2983 2.20064C15.2143 2.36365 15.1706 2.54543 15.1706 2.72959L15.1711 4.63483H10.1842C5.56509 4.63483 1.61 8.23329 1.61 13.3828C1.61 18.506 5.02928 22.3855 9.67952 22.3855H19.1685C19.66 22.3855 20.0388 21.9699 20.0388 21.4822V21.2336C20.0388 20.7313 19.6457 20.3614 19.1685 20.3614H9.67952C6.36475 20.3614 3.53737 17.1539 3.53737 13.3828C3.53737 9.62489 6.35893 6.65302 9.67952 6.65302H15.1711Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorRedoIcon=a}),98);
__d("WAWebMediaEditorTextIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-text";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M20.9636 2.1C21.6465 2.1 22.2 2.58298 22.2 3.26643C22.2 3.94989 21.6465 4.42307 20.9636 4.42307H17.2545H13.1573V20.6625C13.1573 21.3459 12.6828 21.9 12 21.9C11.3172 21.9 10.8427 21.3459 10.8427 20.6625V4.42307H6.74544H3.03635C2.35353 4.42307 1.79999 3.94989 1.79999 3.26643C1.79999 2.58298 2.35353 2.1 3.03635 2.1H20.9636Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorTextIcon=a}),98);
__d("WAWebMediaEditorUndoIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-editor-undo";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.74895 9.63151C8.3539 9.63151 8.82472 9.1193 8.82472 8.51224L8.82426 6.65302H14.3158C17.6364 6.65302 20.458 9.62489 20.458 13.3828C20.458 17.1539 17.6306 20.3614 14.3158 20.3614H4.82686C4.34965 20.3614 3.95653 20.7313 3.95653 21.2336V21.4822C3.95653 21.9699 4.33532 22.3855 4.82686 22.3855H14.3158C18.966 22.3855 22.3853 18.506 22.3853 13.3828C22.3853 8.23329 18.4302 4.63483 13.8111 4.63483H8.82426L8.82472 2.72955C8.82472 2.5454 8.78106 2.36365 8.69707 2.20064C8.41763 1.65826 7.76223 1.44598 7.23234 1.74774L2.17598 4.62721C1.98966 4.73331 1.83846 4.89308 1.7393 5.08554C1.45954 5.62853 1.64703 6.31335 2.17598 6.61457L7.23234 9.49405C7.39028 9.58399 7.56789 9.63151 7.74895 9.63151Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaEditorUndoIcon=a}),98);
__d("WAWebScissorsIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="scissors";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("circle",{cx:6,cy:18,r:3.125,stroke:"currentColor",strokeWidth:1.75}),j.jsx("circle",{cx:6,cy:6,r:3.125,stroke:"currentColor",strokeWidth:1.75}),j.jsx("path",{d:"M7.71745 14.7425C7.32693 15.1331 7.32693 15.7662 7.71745 16.1567C8.10798 16.5473 8.74114 16.5473 9.13167 16.1567L11.9372 13.3512L10.523 11.937L7.71745 14.7425Z",fill:"currentColor"}),j.jsx("path",{d:"M13.3742 9.08579L14.7884 10.5L20.6956 4.59285C21.0861 4.20232 21.0861 3.56916 20.6956 3.17864C20.305 2.78811 19.6719 2.78811 19.2814 3.17864L13.3742 9.08579Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.01594 7.60173C8.62542 7.21121 7.99226 7.21121 7.60173 7.60173C7.21121 7.99226 7.21121 8.62542 7.60173 9.01594L19.3586 20.7728C19.7492 21.1634 20.3823 21.1634 20.7728 20.7728C21.1634 20.3823 21.1634 19.7492 20.7728 19.3586L9.01594 7.60173ZM12 12.5001C12.2761 12.5001 12.5 12.2762 12.5 12.0001C12.5 11.724 12.2761 11.5001 12 11.5001C11.7239 11.5001 11.5 11.724 11.5 12.0001C11.5 12.2762 11.7239 12.5001 12 12.5001Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ScissorsIcon=a}),98);
__d("WAWebMediaEditorToolbarMain",["fbt","WAWebAttachMediaModel","WAWebConfirmPopup.react","WAWebDropdown.react","WAWebEmojiPanel.react","WAWebHDPhotoMediaEditorDropdown","WAWebIcHdActiveIcon","WAWebIcHdSettingsIcon","WAWebMediaEditorBlurPixelateIcon","WAWebMediaEditorCropRotateIcon","WAWebMediaEditorDrawingIcon","WAWebMediaEditorEmojiIcon","WAWebMediaEditorLayersBlur","WAWebMediaEditorLayersImage","WAWebMediaEditorLayersText","WAWebMediaEditorRedoIcon","WAWebMediaEditorStickerIcon","WAWebMediaEditorTextIcon","WAWebMediaEditorUndoIcon","WAWebMediaGatingUtils","WAWebMenuBar.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebScissorsIcon","WAWebStickerPanel.react","WAWebUimUie.react","WAWebUimUieMenu.react","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useRef,m=b.useState,n={hdIcon:{opacity:"xyd83as",$$css:!0}};function a(a){var b=a.canRedo,e=a.canUndo,f=a.hdEligible,g=a.inCropRotateMode,i=a.inOutlineMode,j=a.inPaintMode,o=a.inTextEditingMode,p=a.metadataByQuality,q=a.onBlurSelect,r=a.onChangeQuality,s=a.onCropRotateSelect,t=a.onEmojiSelect,u=a.onOutlineSelect,v=a.onPaintSelect,w=a.onRedo,x=a.onStickerSelect,y=a.onTextSelect,z=a.onToggleEmojiPanel,A=a.onToggleStickerPanel,B=a.onUndo,C=a.selectedLayer,D=a.selectedQuality;a=a.showOutline;var E=m(),F=E[0],G=E[1];E=m();var H=E[0],I=E[1],J=l({inPaintMode:j,onEmojiSelect:t,onStickerSelect:x,onPaintSelect:v}),K=function(){g?s():j?v():i&&u()};E=function(a){a.preventDefault(),j||K(),v()};t=function(a){a.preventDefault(),K(),y()};x=function(a){a.preventDefault(),g||K(),s()};var L=function(a){a.preventDefault(),i||K(),u()},M=function(a){a.preventDefault(),K(),q()},N=function(){G(null),z(!1)},O=function(a){a.preventDefault();a.stopPropagation();K();var b=function(a){J.current.inPaintMode&&J.current.onPaintSelect(),J.current.onEmojiSelect(a),N()};b=k.jsx(d("WAWebEmojiPanel.react").EmojiPanel,{onEmoji:b,onFocusNext:N,onFocusPrev:N});G({menu:b,dirY:d("WAWebDropdown.react").DirY.TOP,type:d("WAWebDropdown.react").MenuType.EmojiPicker,anchor:a.target});z(!0)},P=function(){I(null),A(!1)},Q=function(a){a.preventDefault();a.stopPropagation();K();var b=function(a){J.current.inPaintMode&&J.current.onPaintSelect(),J.current.onStickerSelect(a),P()};b=k.jsx(c("WAWebStickerPanel.react"),{onSticker:b,onFocusNext:P,onFocusPrev:P});b&&(I({menu:b,dirY:d("WAWebDropdown.react").DirY.TOP,type:d("WAWebDropdown.react").MenuType.StickerPicker,anchor:a.target}),A(!0))},R;d("WAWebMediaGatingUtils").isSendHQPhotoEnabled()&&!d("WAWebMediaGatingUtils").isStickyHQPhotoSettingEnabled()&&(f?R=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:D===d("WAWebAttachMediaModel").MediaQuality.HD?k.jsx(d("WAWebIcHdActiveIcon").IcHdActiveIcon,{}):k.jsx(d("WAWebIcHdSettingsIcon").IcHdSettingsIcon,{}),testid:void 0,title:h._("__JHASH__vPuzJrsg7Nh__JHASH__"),children:k.jsx(c("WAWebHDPhotoMediaEditorDropdown"),{onChangeQuality:r,selectedQuality:D,metadataByQuality:p})},"hd-settings"):R=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebIcHdSettingsIcon").IcHdSettingsIcon,{xstyle:n.hdIcon}),testid:void 0,title:h._("__JHASH__t8zgR08tASA__JHASH__"),onClick:function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__UezwhbT328H__JHASH__"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__t8zgR08tASA__JHASH__")}))}},"hd-settings"));return k.jsxs(d("WAWebMenuBar.react").MenuBar,{theme:"media-editor",children:[a&&k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebScissorsIcon").ScissorsIcon,{}),testid:void 0,title:h._("__JHASH__Z4veGIHTzz-__JHASH__"),onClick:L,selected:i},"outline"),k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorEmojiIcon").MediaEditorEmojiIcon,{}),testid:void 0,title:h._("__JHASH__tRWC2T0jCP8__JHASH__"),onClick:O,selected:Boolean(F)||C instanceof d("WAWebMediaEditorLayersImage").ImageLayer&&C.isEmoji()},"emoji"),k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorStickerIcon").MediaEditorStickerIcon,{}),testid:void 0,title:h._("__JHASH__ec3NBiQP7WR__JHASH__"),onClick:Q,selected:Boolean(H)||C instanceof d("WAWebMediaEditorLayersImage").ImageLayer&&C.isSticker()},"sticker"),k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorTextIcon").MediaEditorTextIcon,{}),testid:void 0,title:h._("__JHASH__b4MkB-SELxT__JHASH__"),onClick:t,selected:o||C instanceof d("WAWebMediaEditorLayersText").TextLayer},"text"),k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorDrawingIcon").MediaEditorDrawingIcon,{}),testid:void 0,title:h._("__JHASH__KcIVDczmEHO__JHASH__"),onClick:E,selected:j},"paint"),d("WAWebMiscGatingUtils").mediaEditorBlurToolEnabled()&&k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorBlurPixelateIcon").MediaEditorBlurPixelateIcon,{}),testid:void 0,title:h._("__JHASH__xTBCtVwXL73__JHASH__"),onClick:M,selected:C instanceof d("WAWebMediaEditorLayersBlur").BlurLayer},"blur"),k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorCropRotateIcon").MediaEditorCropRotateIcon,{}),testid:void 0,title:h._("__JHASH__BYJwNDRsTq7__JHASH__"),onClick:x,selected:g},"crop-rotate"),R,k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorUndoIcon").MediaEditorUndoIcon,{}),testid:void 0,title:h._("__JHASH__tclzXexf_pN__JHASH__"),disabled:!e,onClick:B},"undo"),k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebMediaEditorRedoIcon").MediaEditorRedoIcon,{}),testid:void 0,title:h._("__JHASH__paiBx3FRK2W__JHASH__"),disabled:!b,onClick:w},"redo"),H&&k.jsx(d("WAWebUimUie.react").UIE,{displayName:"StickerPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:P,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:H})}),F&&k.jsx(d("WAWebUimUie.react").UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:N,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:F})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOutlineSmoothIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="outline-smooth";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M12 6.8C13.3255 6.8 14.4 5.72548 14.4 4.4C14.4 3.07452 13.3255 2 12 2C10.6745 2 9.6 3.07452 9.6 4.4C9.6 5.72548 10.6745 6.8 12 6.8Z",fill:"currentColor"}),j.jsx("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),j.jsx("path",{d:"M24 15.6C24 16.9255 22.9255 18 21.6 18C20.2745 18 19.2 16.9255 19.2 15.6C19.2 14.2745 20.2745 13.2 21.6 13.2C22.9255 13.2 24 14.2745 24 15.6Z",fill:"currentColor"}),j.jsx("path",{d:"M8.45173 6.81238C8.84982 6.6207 9.01714 6.1426 8.82545 5.74452C8.63377 5.34644 8.15567 5.17912 7.75759 5.3708C6.96932 5.75036 6.23447 6.23171 5.56699 6.79818C5.23012 7.08406 5.18879 7.58891 5.47468 7.92578C5.76057 8.26264 6.26541 8.30397 6.60228 8.01808C7.16902 7.53711 7.78973 7.13114 8.45173 6.81238Z",fill:"currentColor"}),j.jsx("path",{d:"M16.2423 5.3708C15.8442 5.17912 15.3661 5.34644 15.1744 5.74452C14.9827 6.1426 15.15 6.6207 15.5481 6.81238C16.2101 7.13114 16.8308 7.53711 17.3976 8.01808C17.7344 8.30397 18.2393 8.26264 18.5252 7.92578C18.8111 7.58891 18.7697 7.08407 18.4329 6.79818C17.7654 6.23171 17.0305 5.75036 16.2423 5.3708Z",fill:"currentColor"}),j.jsx("path",{d:"M4.88232 9.95429C5.12771 9.58687 5.02879 9.09009 4.66137 8.8447C4.29395 8.59931 3.79717 8.69823 3.55178 9.06565C3.07649 9.77728 2.67721 10.5509 2.3661 11.3726C2.20967 11.7858 2.41782 12.2476 2.83102 12.404C3.24423 12.5605 3.70602 12.3523 3.86245 11.9391C4.13081 11.2303 4.47456 10.5648 4.88232 9.95429Z",fill:"currentColor"}),j.jsx("path",{d:"M20.4481 9.06565C20.2027 8.69823 19.7059 8.59931 19.3385 8.8447C18.9711 9.0901 18.8721 9.58687 19.1175 9.95429C19.5253 10.5648 19.869 11.2303 20.1374 11.9391C20.2938 12.3523 20.7556 12.5605 21.1688 12.404C21.582 12.2476 21.7902 11.7858 21.6337 11.3726C21.3226 10.5509 20.9234 9.77728 20.4481 9.06565Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.OutlineSmoothIcon=a}),98);
__d("WAWebOutlineStraightIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="outline-straight";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M14.4 4.4C14.4 5.72548 13.3255 6.8 12 6.8C10.6745 6.8 9.6 5.72548 9.6 4.4C9.6 3.07452 10.6745 2 12 2C13.3255 2 14.4 3.07452 14.4 4.4Z",fill:"currentColor"}),j.jsx("path",{d:"M15.1215 6.81258C14.8339 6.47712 14.3289 6.43827 13.9934 6.72581C13.658 7.01335 13.6191 7.51839 13.9067 7.85385L15.2781 9.45385C15.5656 9.78931 16.0707 9.82816 16.4061 9.54062C16.7416 9.25308 16.7804 8.74804 16.4929 8.41258L15.1215 6.81258Z",fill:"currentColor"}),j.jsx("path",{d:"M10.0929 7.85385C10.3804 7.51839 10.3416 7.01335 10.0061 6.72581C9.67068 6.43828 9.16564 6.47712 8.8781 6.81258L7.50667 8.41258C7.21913 8.74805 7.25798 9.25309 7.59344 9.54062C7.9289 9.82816 8.43394 9.78931 8.72148 9.45385L10.0929 7.85385Z",fill:"currentColor"}),j.jsx("path",{d:"M18.3215 10.5459C18.0339 10.2105 17.5289 10.1716 17.1934 10.4591C16.858 10.7467 16.8191 11.2517 17.1067 11.5872L18.4781 13.1872C18.7656 13.5226 19.2707 13.5615 19.6061 13.274C19.9416 12.9864 19.9804 12.4814 19.6929 12.1459L18.3215 10.5459Z",fill:"currentColor"}),j.jsx("path",{d:"M6.89291 11.5872C7.18045 11.2517 7.1416 10.7467 6.80614 10.4591C6.47068 10.1716 5.96564 10.2105 5.6781 10.5459L4.30667 12.1459C4.01913 12.4814 4.05798 12.9864 4.39344 13.274C4.7289 13.5615 5.23394 13.5226 5.52148 13.1872L6.89291 11.5872Z",fill:"currentColor"}),j.jsx("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),j.jsx("path",{d:"M21.6 18C22.9255 18 24 16.9255 24 15.6C24 14.2745 22.9255 13.2 21.6 13.2C20.2745 13.2 19.2 14.2745 19.2 15.6C19.2 16.9255 20.2745 18 21.6 18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.OutlineStraightIcon=a}),98);
__d("WAWebMediaEditorToolbarOutline",["fbt","WAWebFlex.react","WAWebMediaEditorToolbarButton.react","WAWebOutlineSmoothIcon","WAWebOutlineStraightIcon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.canReset,c=a.onReset,e=a.onSmoothingToggle;a=a.smoothing;return j.jsxs(d("WAWebFlex.react").FlexRow,{children:[j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{className:"xdj266r x1emribx xat24cr x1i64zmx",icon:j.jsx(d("WAWebOutlineSmoothIcon").OutlineSmoothIcon,{displayInline:!0}),title:h._("__JHASH__oQ02dNbeOO6__JHASH__"),selected:a,onClick:function(){return e(!0)}}),j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{className:"xdj266r x1emribx xat24cr x1i64zmx",icon:j.jsx(d("WAWebOutlineStraightIcon").OutlineStraightIcon,{displayInline:!0}),title:h._("__JHASH__D2sn5lA-RKf__JHASH__"),selected:!a,onClick:function(){return e(!1)}}),j.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{className:"xdj266r x1emribx xat24cr x1i64zmx",onClick:c,disabled:!b,children:h._("__JHASH__pr7hZn7Eo8X__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g.OutlineToolbar=a}),226);
__d("WAWebMediaEditorToolbarThickness.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ajwp",thicknessButton:"_ajwq",thicknessChip:"_ajwr",selected:"_ajws"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorToolbarThickness.react",["WAWebClassnames","WAWebMediaEditorEnumsThickness","WAWebMediaEditorToolbarThickness.scss","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a){var b=a.onThicknessSelect,e=a.selectedThickness,f=a.thickness;return i.jsx("div",{onClick:function(){return b(f)},className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((a={},a[c("WAWebMediaEditorToolbarThickness.scss").selected]=e&&e===f,a[c("WAWebMediaEditorToolbarThickness.scss").thicknessButton]=!0,a)),children:i.jsx("div",{className:c("WAWebMediaEditorToolbarThickness.scss").thicknessChip,style:{height:d("WAWebMediaEditorEnumsThickness").getThicknessValue(f),width:d("WAWebMediaEditorEnumsThickness").getThicknessValue(f)}})},d("WAWebMediaEditorEnumsThickness").ThicknessType.getName(f))}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.onThicknessSelect,d=a.selectedThickness;a=a.thicknesses;a=a.map(function(a,c){return i.jsx(j,{thickness:a,onThicknessSelect:b,selectedThickness:d},c)});return i.jsx("div",{className:c("WAWebMediaEditorToolbarThickness.scss").container,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorImage.react",["fbt","WAWebAttachMediaModel","WAWebClassnames","WAWebConfirmPopup.react","WAWebDeleteIcon","WAWebFlex.react","WAWebHDPhotoMediaEditorDropdown","WAWebIcHdActiveIcon","WAWebIcHdSettingsIcon","WAWebMediaEditorCanvas.react","WAWebMediaEditorCaptionInput.react","WAWebMediaEditorEnumsColors","WAWebMediaEditorEnumsThickness","WAWebMediaEditorGeometryPoint","WAWebMediaEditorGeometrySize","WAWebMediaEditorImage.scss","WAWebMediaEditorLayersBlur","WAWebMediaEditorLayersImage","WAWebMediaEditorLayersText","WAWebMediaEditorPreviewCropRotate.react","WAWebMediaEditorTextToolbar.react","WAWebMediaEditorToolbarBlur.react","WAWebMediaEditorToolbarButton.react","WAWebMediaEditorToolbarColor.react","WAWebMediaEditorToolbarCropRotate","WAWebMediaEditorToolbarMain","WAWebMediaEditorToolbarOutline","WAWebMediaEditorToolbarThickness.react","WAWebMediaEditorUtilsSize","WAWebMediaGatingUtils","WAWebMenuBar.react","WAWebModalManager","WAWebMsgType","WAWebPonyfillsIdleCallback","WAWebStateUtils","WAWebURLUtils","WAWebUnstyledButton.react","WAWebXIcon","err","react","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react"));b=a.forwardRef;var aa=a.useEffect,ba=a.useImperativeHandle,l=a.useRef,m=a.useState,n=20,ca=new(c("WAWebMediaEditorGeometrySize"))({width:200,height:200}),da={hdIcon:{opacity:"xyd83as",$$css:!0}};e=b(function(a,b){var e=a.paintColor,f=a.paintThickness,g=a.outlineSmoothing,i=a.onLayerDelete,j=a.onTextEditingStart,ea=a.onTextEditingEnd,o=a.onOutlineDone,p=a.draftTextLayer,q=a.onLayerUnselect,fa=a.onPaintSelect,r=a.onCropRotateCanvas,ga=a.onOutlineSelect,s=a.onClose,t=d("useWAWebModelValues").useModelValues(a.attachMedia,["mediaEditorData","caption","id","quality","hdEligible","metadataByQuality"]),u=d("useWAWebModelValues").useModelValues(a.chat,["isNewsletter"]);u=u.isNewsletter;var v=l(null),w=l(null),x=l(null),y=l(null),z=l(null),A=l(null),B=l(null),C=m(c("WAWebMediaEditorGeometrySize").empty()),D=C[0],ha=C[1];C=m(!1);var E=C[0],ia=C[1];C=m(!1);var F=C[0],ja=C[1];C=m(!1);var G=C[0],ka=C[1];C=m(!1);var H=C[0],la=C[1];C=m(!1);var ma=C[0],na=C[1];C=function(a){B.current=a.target};var I=function(b){d("WAWebStateUtils").unproxy(a.attachMedia).updateQuality(b)},J=function(){ia(function(a){return!a})},K=function(){return t.mediaEditorData},L=function(){if(!v.current)return;var a=v.current.getBoundingClientRect();a=new(c("WAWebMediaEditorGeometrySize"))({width:a.width-n*2,height:a.height-n*2});ha(a)},M=function(){!F&&K().selectedLayer&&q(),ja(function(a){return!a}),L()},oa=function(){return E},pa=function(){return F},N=function(){return G},O=function(){ka(function(a){return!a})},P=function(){if(oa())J();else if(pa())M();else if(N())o(),O();else if(t.mediaEditorData.selectedLayer&&!p)q();else return!1;return!0},Q=function(){var a=B.current;(a===v.current||a===x.current||a===w.current)&&P()};d("useWAWebListener").useListener(window,"mousedown",C);d("useWAWebListener").useListener(window,"click",Q);var R=function(){var a=t.mediaEditorData.selectedLayer;a&&i(a)},S=function(a){a.code==="Backspace"&&!(a.target instanceof HTMLInputElement)&&!(a.target instanceof HTMLDivElement&&a.target.contentEditable==="true")&&!F&&R()},qa=function(){if(!y.current)throw c("err")("MediaEditor:canvas is not initialized");return y.current.getDataUrl()},ra=function(){var a=qa();return c("WAWebURLUtils").dataURLtoFile(a)},T=function(){if(y.current!=null){var a=y.current.getStage().attrs,b=a.width;a=a.height;if(b!==0&&a!==0){b=ra();a=window.URL.createObjectURL(b);t.updateEditedFile(b);t.updatePreview(a);t.updateFullPreview(a)}}},sa=c("useWAWebDebouncedCallback")(function(){A.current&&(d("WAWebPonyfillsIdleCallback").cancelIdleCallback(A.current),A.current=null),A.current=d("WAWebPonyfillsIdleCallback").requestIdleCallback(T)},1e3),U=function(a){(a==null?void 0:a.immediately)?T():sa()};aa(function(){window.addEventListener("resize",L);window.addEventListener("keydown",S);L();return function(){window.removeEventListener("resize",L),window.removeEventListener("keydown",S),U({immediately:!0})}},[]);var ta=c("useWAWebForceUpdate")();C=function(a){ta(),j(a)};Q=function(a,b){ta(),ea(a,b)};var ua=function(){if(F)M();else if(E)J();else if(G)o(),O();else if(p){var a;(a=y.current)==null?void 0:a.endTextEditing()}else K().selectedLayer&&q()},va=function(){J(),fa()},wa=function(){M()},V=function(a){r(K().rotation+a,K().cropOrigin,K().cropSize)},W=function(){r(0,new(c("WAWebMediaEditorGeometryPoint"))({x:0,y:0}),K().size)},X=function(a,b){r(K().rotation,a,b)},xa=function(){O(),ga()},ya=function(a){la(a)},za=function(a){na(a)},Aa=function(a){a=a.target;return a instanceof HTMLElement&&a.closest("."+c("WAWebMediaEditorImage.scss").footer)&&a!==x.current||((a=z.current)==null?void 0:a.isColorPanelVisible())||((a=z.current)==null?void 0:a.isFontMenuVisible())?!1:!0},Ba=function(a,b){a===d("WAWebAttachMediaModel").MediaEditorAction.OutlineDone?(P(),O()):a===d("WAWebAttachMediaModel").MediaEditorAction.Outline?(N()&&O(),b===d("WAWebAttachMediaModel").MediaEditorAction.Outline&&O()):a===d("WAWebAttachMediaModel").MediaEditorAction.CropRotateCanvas&&(P(),b===d("WAWebAttachMediaModel").MediaEditorAction.CropRotateCanvas&&M())},Ca=function(a,b){a===d("WAWebAttachMediaModel").MediaEditorAction.OutlineDone?P():a===d("WAWebAttachMediaModel").MediaEditorAction.Outline?N()||O():a===d("WAWebAttachMediaModel").MediaEditorAction.CropRotateCanvas?(P(),M()):b===d("WAWebAttachMediaModel").MediaEditorAction.CropRotateCanvas&&a!==d("WAWebAttachMediaModel").MediaEditorAction.CropRotateCanvas&&P()},Da=function(){var a=t.mediaEditorData;return d("WAWebMediaEditorUtilsSize").calculateContainScale(a.screenWidth,a.screenHeight,D,ca)},Ea=function(){var a=t.mediaEditorData;return new(c("WAWebMediaEditorGeometrySize"))({width:a.screenWidth,height:a.screenHeight})},Fa=function(){var a;return(a=y.current)==null?void 0:a.getBackground()};ba(b,function(){return{updatePreview:U,undoAction:Ba,redoAction:Ca,getCanvasScale:Da,getCanvasSize:Ea,resetUIState:P,getBackground:Fa}});b=t.mediaEditorData;var Y=a.draftTextLayer||b.selectedLayer,Z;if(F)Z=k.jsx(d("WAWebMediaEditorToolbarCropRotate").CropRotateToolbar,{canReset:b.isRotated()||b.isCropped(),onRotateCanvas:V,onReset:W});else if(G)Z=k.jsx(d("WAWebMediaEditorToolbarOutline").OutlineToolbar,{smoothing:a.outlineSmoothing,onSmoothingToggle:a.onOutlineSmoothingToggle,canReset:b.isOutlined(),onReset:a.onOutlineReset});else if(Y){V=Y instanceof d("WAWebMediaEditorLayersImage").ImageLayer&&Y.isBackground();Y instanceof d("WAWebMediaEditorLayersText").TextLayer?Z=k.jsx(d("WAWebMediaEditorTextToolbar.react").TextToolbar,{ref:z,textLayer:Y,onAlignmentSelect:a.onAlignmentSelect,onFontSelect:a.onFontSelect,onTextBackgroundToggle:a.onTextBackgroundToggle,onTextColorSelect:a.onTextColorSelect,onDeleteLayer:R}):V||(Z=k.jsxs(k.Fragment,{children:[Y instanceof d("WAWebMediaEditorLayersBlur").BlurLayer?k.jsx(d("WAWebMediaEditorToolbarBlur.react").BlurToolbar,{blurMode:Y.mode,blurRadius:Y.radius,onBlurModeChange:a.onBlurModeChange,onBlurRadiusChange:a.onBlurRadiusChange}):null,k.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{icon:k.jsx(d("WAWebDeleteIcon").DeleteIcon,{displayInline:!0}),title:h._("__JHASH__pN4ewkKYOF9__JHASH__"),onClick:R})]}))}else E&&(Z=k.jsxs(k.Fragment,{children:[k.jsx(c("WAWebMediaEditorToolbarColor.react"),{colors:d("WAWebMediaEditorEnumsColors").getAllColors().map(function(a){return{primaryColor:d("WAWebMediaEditorEnumsColors").getColorValue(a)}}),onColorSelect:a.onPaintColorSelect,selectedColor:e}),k.jsx(c("WAWebMediaEditorToolbarThickness.react"),{thicknesses:d("WAWebMediaEditorEnumsThickness").getAllThicknesses(),onThicknessSelect:a.onPaintThicknessSelect,selectedThickness:f})]}));W=!Z&&!a.draftTextLayer&&!a.sendAsSticker;W=k.jsx(d("WAWebFlex.react").FlexRow,{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((V={},V[c("WAWebMediaEditorImage.scss").captionInputHidden]=!W,V[c("WAWebMediaEditorImage.scss").captionInputContainer]=!0,V)),justify:"center",children:k.jsx(c("WAWebMediaEditorCaptionInput.react"),{chat:a.chat,caption:t.caption,viewOnce:a.viewOnce,viewOnceDisabled:a.viewOnceDisabled,msgType:d("WAWebMsgType").MSG_TYPE.IMAGE,theme:"image",onToggleViewOnce:a.onToggleViewOnce,onChange:a.onCaptionChange,onEnter:a.onEnter,onFiles:a.onFiles,setCaptionInputRef:function(b){a.setCaptionInputRef(t.id,b)},internLinksEnabled:a.internLinksEnabled,phoneNumbersEnabled:a.phoneNumbersEnabled,expandedTextFormatsEnabled:a.expandedTextFormatsEnabled,multiline:a.multiline},t.id)});V=k.jsxs(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",className:c("WAWebMediaEditorImage.scss").footer,ref:x,children:[Z&&k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",className:c("WAWebMediaEditorImage.scss").bottomToolbar,children:Z}),W]});W=null;F&&(W=k.jsx(c("WAWebMediaEditorPreviewCropRotate.react"),{data:b,rotation:K().rotation,cropOrigin:K().cropOrigin,cropSize:K().cropSize,onCropChange:X,containerSize:D,keepRatio:a.sendAsSticker,sendAsSticker:a.sendAsSticker}));var $;X=t.hdEligible&&!u;d("WAWebMediaGatingUtils").isSendHQPhotoEnabled()&&d("WAWebMediaGatingUtils").isStickyHQPhotoSettingEnabled()&&(X?$=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:t.quality===d("WAWebAttachMediaModel").MediaQuality.HD?k.jsx(d("WAWebIcHdActiveIcon").IcHdActiveIcon,{}):k.jsx(d("WAWebIcHdSettingsIcon").IcHdSettingsIcon,{}),testid:void 0,title:h._("__JHASH__vPuzJrsg7Nh__JHASH__"),children:k.jsx(c("WAWebHDPhotoMediaEditorDropdown"),{onChangeQuality:I,selectedQuality:t.quality,metadataByQuality:t.metadataByQuality})},"hd-settings"):$=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{icon:k.jsx(d("WAWebIcHdSettingsIcon").IcHdSettingsIcon,{xstyle:da.hdIcon}),testid:void 0,title:h._("__JHASH__t8zgR08tASA__JHASH__"),onClick:function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__UezwhbT328H__JHASH__"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__t8zgR08tASA__JHASH__")}))}},"hd-settings"));X=F||E||G||H||ma||Boolean(a.draftTextLayer)||Boolean(K().selectedLayer);return k.jsxs("div",{className:c("WAWebMediaEditorImage.scss").container,children:[k.jsxs(d("WAWebFlex.react").FlexRow,{className:c("WAWebMediaEditorImage.scss").header,ref:w,children:[s?k.jsx("div",{className:c("WAWebMediaEditorImage.scss").closeButton,children:k.jsx(c("WAWebUnstyledButton.react"),{onClick:s,"aria-label":h._("__JHASH__HkY56KNcTgs__JHASH__"),children:k.jsx(d("WAWebXIcon").XIcon,{})})}):k.jsx("div",{className:c("WAWebMediaEditorImage.scss").closeButtonPlaceholder}),k.jsx(c("WAWebMediaEditorToolbarMain"),{selectedLayer:Y,inPaintMode:E,inCropRotateMode:F,inTextEditingMode:Boolean(a.draftTextLayer),inOutlineMode:G,canUndo:a.canUndo,canRedo:a.canRedo,onPaintSelect:va,onChangeQuality:I,selectedQuality:t.quality,hdEligible:t.hdEligible&&!u,metadataByQuality:t.metadataByQuality,onCropRotateSelect:wa,onOutlineSelect:xa,onTextSelect:a.onTextSelect,onEmojiSelect:a.onEmojiSelect,onStickerSelect:a.onStickerSelect,onToggleEmojiPanel:ya,onToggleStickerPanel:za,onBlurSelect:a.onBlurSelect,onUndo:a.onUndo,onRedo:a.onRedo,showOutline:a.sendAsSticker}),k.jsxs(d("WAWebFlex.react").FlexRow,{className:c("WAWebMediaEditorImage.scss").headerRight,justify:"end",children:[X&&k.jsx(d("WAWebMediaEditorToolbarButton.react").ToolbarButton,{onClick:ua,children:h._("__JHASH__-c-jWK0O6-G__JHASH__")}),$]})]}),k.jsxs("div",{ref:v,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((H={},H[c("WAWebMediaEditorImage.scss").cropRotateContainer]=F,H[c("WAWebMediaEditorImage.scss").canvasContainer]=!0,H)),children:[k.jsx("div",{className:c("WAWebMediaEditorImage.scss").canvas,style:{display:F?"none":"unset"},children:k.jsx(c("WAWebMediaEditorCanvas.react"),{ref:y,data:b,inPaintMode:E,inOutlineMode:G,paintColor:e,paintThickness:f,outlineSmoothing:g,currentlyEditingTextLayer:a.currentlyEditingTextLayer,draftTextLayer:a.draftTextLayer,scale:Da(),onLayerSelect:a.onLayerSelect,onLayerUnselect:a.onLayerUnselect,onLayerTranslate:a.onLayerTranslate,onLayerTransform:a.onLayerTransform,onTextEditingStart:C,onTextEditingEnd:Q,onTextInputOutsideClick:Aa,onPaintDrawEnd:a.onPaintDrawEnd,onOutlineDrawEnd:a.onOutlineDrawEnd,onOutlineDone:ua,canEditBackground:a.sendAsSticker,outlineEnabled:a.sendAsSticker})}),W]}),V]})});g.ImageBody=e}),226);
__d("WAWebAttachMediaDrawerAttachMediaTypeAudio.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ahxd",media:"_ahxe"};b=a;g["default"]=b}),98);
__d("WAWebAttachMediaDrawerAttachMediaTypeAudio.react",["WAWebAttachMediaDrawerAttachMediaTypeAudio.scss","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.mimeType;a=a.url;return i.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeAudio.scss").container,"data-animate-attach-media":!0,children:i.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeAudio.scss").media,children:i.jsx("audio",{controls:!0,type:b,src:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditorPreview.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_amlw"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorPreviewHeader.react",["fbt","WAWebL10N","WAWebSvgComponentBase","WAWebXIcon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.filename,e=a.pageCount,f=null;e!=null&&e>0&&(f=h._("__JHASH___XJ7fQTC-Nq__JHASH__",[h._plural(e),h._param("count",c("WAWebL10N").n(e))]));return j.jsxs("div",{className:"x78zum5 x6s0dn4 x1qughib x1gg8mnh x1y1aw1k x1pi30zi xwib8y2 x1swvt13 xm0mufa",children:[j.jsx("button",{"aria-label":h._("__JHASH__7UD0Qr7XRlT__JHASH__"),onClick:a.onClose,className:"x1ypdohk",children:j.jsx(d("WAWebXIcon").XIcon,{"aria-hidden":!0,color:d("WAWebSvgComponentBase").SvgColorProp.SECONDARY})}),j.jsxs("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery xdt5ytf x6s0dn4",children:[b&&j.jsx("span",{className:"x1f6kntn x1wm35g",children:b}),f!=null&&j.jsx("span",{className:"x1ok221b x1pg5gke x16cd2qt",children:f})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMediaEditorPreviewAudio.react",["WAWebAttachMediaDrawerAttachMediaTypeAudio.react","WAWebMediaEditorPreview.scss","WAWebMediaEditorPreviewHeader.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.item;a=a.onClose;var d=b.mimetype;b=b.fullPreview;return i.jsxs("div",{className:c("WAWebMediaEditorPreview.scss").container,children:[i.jsx(c("WAWebMediaEditorPreviewHeader.react"),{onClose:a}),i.jsx(c("WAWebAttachMediaDrawerAttachMediaTypeAudio.react"),{mimeType:d,url:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPreviewAudioIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="preview-audio";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=112;m=88;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 88 112",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("defs",{children:j.jsx("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsxs("g",{transform:"translate(4 3)",children:[j.jsx("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),j.jsx("use",{fill:"#FFF",xlinkHref:"#a"}),j.jsx("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})]}),j.jsx("path",{d:"M59 41v26.246a.501.501 0 0 1-.014.119A5 5 0 1 1 54 62.745c.19 0 .398.022.62.065A2 2 0 0 0 57 60.847V49.113a1 1 0 0 0-1.12-.993l-19 2.28a1 1 0 0 0-.88.993v18.853a.501.501 0 0 1-.014.119A5 5 0 1 1 31 65.745c.316 0 .676.06 1.08.178a1.5 1.5 0 0 0 1.92-1.44V43.52a2 2 0 0 1 1.762-1.986l21-2.52A2 2 0 0 1 59 41z",fillOpacity:.2,fill:"#000"}),j.jsx("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PreviewAudioIcon=a}),98);
__d("WAWebPreviewCompressedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="preview-compressed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=110;m=88;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 88 110",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("defs",{children:j.jsx("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsxs("g",{transform:"translate(4 3)",children:[j.jsx("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),j.jsx("use",{fill:"#FFF",xlinkHref:"#a"}),j.jsx("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})]}),j.jsxs("g",{transform:"translate(39 44)",fill:"#000",children:[j.jsx("rect",{fillOpacity:.1,y:61,width:5,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:58,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,y:55,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:52,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,y:49,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:46,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,y:43,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:40,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,y:37,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:34,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,y:31,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:28,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,y:25,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:22,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,y:19,width:5,height:3,rx:.5}),j.jsx("rect",{fillOpacity:.1,x:5,y:16,width:5,height:3,rx:.5}),j.jsx("path",{d:"M8 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6zM7 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z",fillOpacity:.2})]}),j.jsx("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PreviewCompressedIcon=a}),98);
__d("WAWebPreviewDocIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="preview-doc";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=110;m=88;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 88 110",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsxs("defs",{children:[j.jsx("rect",{id:"b",x:0,y:0,width:54,height:36,rx:2.37}),j.jsx("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})]}),j.jsxs("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd",children:[j.jsx("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),j.jsx("use",{fill:"#FFF",xlinkHref:"#a"}),j.jsx("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:84,width:54,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:89,width:27,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:24,width:54,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:29,width:54,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:34,width:40,height:2,rx:.5}),j.jsx("g",{children:j.jsxs("g",{transform:"translate(13 42)",children:[j.jsx("mask",{id:"c",fill:"#fff",children:j.jsx("use",{xlinkHref:"#b"})}),j.jsx("use",{fillOpacity:.1,fill:"#000",xlinkHref:"#b"}),j.jsx("circle",{fillOpacity:.1,fill:"#000",mask:"url(#c)",cx:37.5,cy:11.5,r:5.5}),j.jsx("path",{d:"m34.565 31.195 7.912-7.89a2.37 2.37 0 0 1 3.348 0l25.144 25.073L44.15 75.119l-19.556-19.5-11.259 11.228-26.817-26.742 25.143-25.072a2.37 2.37 0 0 1 3.348 0l16.208 16.162a2.37 2.37 0 0 0 3.347 0z",fillOpacity:.1,fill:"#000",mask:"url(#c)"})]})}),j.jsx("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PreviewDocIcon=a}),98);
__d("WAWebPreviewGenericIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="preview-generic";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=110;m=88;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 88 110",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("g",{transform:"translate(4 3)",children:j.jsx("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"#FFF",fillRule:"evenodd"})}),j.jsx("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PreviewGenericIcon=a}),98);
__d("WAWebPreviewSheetIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="preview-sheet";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=88;m=110;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 110 88",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("defs",{children:j.jsx("path",{d:"M3 0h80.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 104 20.07V77a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),j.jsxs("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd",children:[j.jsx("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),j.jsx("use",{fill:"#FFF",xlinkHref:"#a"}),j.jsx("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h80.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V77a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 77V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:14,y:22,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:34,y:22,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:54,y:22,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:74,y:22,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:14,y:12,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:34,y:12,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:54,y:12,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:74,y:12,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:14,y:32,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:34,y:32,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:54,y:32,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:74,y:32,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:14,y:42,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:34,y:42,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:54,y:42,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:74,y:42,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:14,y:52,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:34,y:52,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:54,y:52,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:74,y:52,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:14,y:62,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:34,y:62,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:54,y:62,width:16,height:6,rx:.5}),j.jsx("rect",{fillOpacity:.1,fill:"#000",x:74,y:62,width:16,height:6,rx:.5}),j.jsx("path",{d:"M85.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PreviewSheetIcon=a}),98);
__d("WAWebPreviewSlidesIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="preview-slides";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=88;m=110;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 110 88",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsxs("g",{transform:"translate(4 3)",children:[j.jsx("use",{fill:"#000",filter:"url(#filter-2)",xlinkHref:"#path-1"}),j.jsx("rect",{strokeOpacity:.08,stroke:"#000",fill:"#FFF",x:-.5,y:-.5,width:105,height:81,rx:3})]}),j.jsxs("g",{transform:"translate(8 15)",children:[j.jsx("rect",{fillOpacity:.1,fill:"#000",width:96,height:56,rx:2}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:55,y:19,width:30,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:55,y:24,width:30,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:55,y:29,width:30,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:55,y:34,width:18,height:2,rx:.5}),j.jsxs("g",{transform:"translate(12 13)",children:[j.jsx("circle",{fillOpacity:.2,fill:"#000",cx:16,cy:16,r:16}),j.jsx("path",{d:"M32 16c0 8.837-7.163 16-16 16V16z",fill:"#FFF"})]})]})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PreviewSlidesIcon=a}),98);
__d("WAWebPreviewTxtIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="preview-txt";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=110;m=88;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 88 110",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("defs",{children:j.jsx("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),j.jsxs("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd",children:[j.jsx("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),j.jsx("use",{fill:"#FFF",xlinkHref:"#a"}),j.jsx("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:28,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:33,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:38,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:43,width:40,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:53,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:58,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:63,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:68,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:73,width:52,height:2,rx:.5}),j.jsx("rect",{fillOpacity:.2,fill:"#000",x:13,y:78,width:27,height:2,rx:.5}),j.jsx("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PreviewTxtIcon=a}),98);
__d("WAWebMediaEditorPreviewFile.react",["fbt","WAWebFlex.react","WAWebL10nFilesize","WAWebMediaEditorCaptionInput.react","WAWebMediaEditorPreview.scss","WAWebMediaEditorPreviewHeader.react","WAWebMiscGatingUtils","WAWebMsgType","WAWebPreviewAudioIcon","WAWebPreviewCompressedIcon","WAWebPreviewDocIcon","WAWebPreviewGenericIcon","WAWebPreviewSheetIcon","WAWebPreviewSlidesIcon","WAWebPreviewTxtIcon","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={body:{flexGrow:"x1iyjqo2",width:"xh8yej3",$$css:!0}};function l(a){switch(a){case"text/plain":return j.jsx(d("WAWebPreviewTxtIcon").PreviewTxtIcon,{});case"text/rtf":case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return j.jsx(d("WAWebPreviewDocIcon").PreviewDocIcon,{});case"text/csv":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return j.jsx(d("WAWebPreviewSheetIcon").PreviewSheetIcon,{});case"application/vnd.ms-powerpoint":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return j.jsx(d("WAWebPreviewSlidesIcon").PreviewSlidesIcon,{});case"audio/aac":case"audio/mp4":case"audio/amr":case"audio/mpeg":case"audio/ogg; codecs=opus":case"audio/wav":return j.jsx(d("WAWebPreviewAudioIcon").PreviewAudioIcon,{});case"application/zip":return j.jsx(d("WAWebPreviewCompressedIcon").PreviewCompressedIcon,{});default:return j.jsx(d("WAWebPreviewGenericIcon").PreviewGenericIcon,{})}}function a(a){var b=a.attachMedia,e=a.chat,f=a.fileExt,g=a.filename,i=a.filesize,m=a.mimeType,n=a.onCaptionChange,o=a.onClose,p=a.onEnter,q=a.onFiles,r=a.onToggleViewOnce,s=a.setCaptionInputRef;a=d("useWAWebModelValues").useModelValues(b,["caption"]);a=a.caption;var t;i=i!=null?d("WAWebL10nFilesize").getL10nFilesize(i):"";m=l(m);d("WAWebMiscGatingUtils").documentWithCaptionsSendEnabled()&&(t=j.jsx("div",{className:"x1n2onr6 x78zum5 x6s0dn4 xl56j7k xbktkl8 x1y1aw1k x1pi30zi xwib8y2 x1swvt13",children:j.jsx(c("WAWebMediaEditorCaptionInput.react"),{chat:e,caption:a,viewOnce:!1,viewOnceDisabled:!0,msgType:d("WAWebMsgType").MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:r,onChange:n,onEnter:p,onFiles:q,setCaptionInputRef:function(a){s(b.id,a)}},b.id)}));return j.jsxs("div",{className:c("WAWebMediaEditorPreview.scss").container,children:[j.jsx(c("WAWebMediaEditorPreviewHeader.react"),{onClose:o,filename:g}),j.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:k.body,align:"center",justify:"center",children:j.jsxs(d("WAWebFlex.react").FlexColumn,{className:"x9f619 x13crsa5 xdd2zcy x1rxj1xn x12p1mil x1mkayr0 x1q7yeco x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj",align:"center",justify:"center",children:[j.jsx("div",{className:"xieb3on",children:m}),j.jsx("div",{className:"x1anpbxc x11i5rnm xyorhqc x1mh8g0r xngnso2",children:h._("__JHASH__vn-VdO2YeU3__JHASH__")}),j.jsxs("div",{className:"x1f6kntn",children:[i,f!=null&&f!==""?" - "+f.toUpperCase():null]})]})}),t]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebAttachMediaDrawerAttachMediaTypeFile.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ai1m",media:"_ai1n",document:"_ai1o",text:"_ai1p",icon:"_ai1q"};b=a;g["default"]=b}),98);
__d("WAWebAttachMediaDrawerAttachMediaTypeFile.react",["WAWebAttachMediaDrawerAttachMediaTypeFile.scss","WAWebClassnames","WAWebMimeTypes","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.filename;a=a.mimeType;a=d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebAttachMediaDrawerAttachMediaTypeFile.scss").icon,(a=(a=d("WAWebMimeTypes").DOCUMENT_MIMETYPES[a])==null?void 0:a.icon)!=null?a:"icon-doc-generic");return i.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeFile.scss").container,"data-animate-attach-media":!0,children:i.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeFile.scss").media,children:i.jsxs("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeFile.scss").document,children:[i.jsx("div",{className:a}),i.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeFile.scss").text,children:b})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAttachMediaDrawerAttachMediaTypePdf.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ahbq",preview:"_ahbr",caption:"_ahbs",img:"_ahbt",imgBorder:"_ahbu"};b=a;g["default"]=b}),98);
__d("WAWebAttachMediaDrawerAttachMediaTypePdf.react",["fbt","WAWebAttachMediaDrawerAttachMediaTypeFile.react","WAWebAttachMediaDrawerAttachMediaTypePdf.scss","WAWebClassnames","WAWebL10N","WAWebObjectFit.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.filename,e=a.fullPreview,f=a.fullPreviewSize,g=a.mimeType,i=a.pageCount,k=a.showBorder;k=k===void 0?!1:k;a=a.showPageCount;a=a===void 0?!0:a;if(e&&f&&i!=null&&i>0){var l;i=h._("__JHASH___XJ7fQTC-Nq__JHASH__",[h._plural(i),h._param("count",c("WAWebL10N").n(i))]);return j.jsxs("div",{className:(l=c("WAWebAttachMediaDrawerAttachMediaTypePdf.scss")).container,"data-js-attach-preview":!0,children:[j.jsx("div",{className:l.preview,children:j.jsx(c("WAWebObjectFit.react"),{type:"scaleDown",size:f,children:j.jsx("img",{alt:h._("__JHASH__oQ6YeRrk7BR__JHASH__"),src:e,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[l.imgBorder]=k,f[l.img]=!0,f))})})}),a&&j.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypePdf.scss").caption,children:i})]})}return j.jsx(c("WAWebAttachMediaDrawerAttachMediaTypeFile.react"),{mimeType:g,filename:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMediaEditorPreviewPdf.react",["WAWebAttachMediaDrawerAttachMediaTypePdf.react","WAWebFlex.react","WAWebFlexItem.react","WAWebMediaEditorCaptionInput.react","WAWebMediaEditorPreviewFile.react","WAWebMediaEditorPreviewHeader.react","WAWebMiscGatingUtils","WAWebMsgType","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={container:{position:"x1n2onr6",overflowX:"x6ikm8r",overflowY:"x10wlt62",height:"x5yr21d",$$css:!0},containerElements:{width:"xh8yej3",$$css:!0},footer:{position:"x1n2onr6",minHeight:"xbktkl8",paddingTop:"x1y1aw1k",paddingEnd:"x1pi30zi",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",$$css:!0}};function a(a){var b=a.attachMedia,e=a.chat,f=a.item,g=a.onCaptionChange,h=a.onClose,k=a.onEnter,l=a.onFiles,m=a.onToggleViewOnce,n=a.setCaptionInputRef;a=f.mimetype;var o=f.fullPreview,p=f.fullPreviewSize,q=f.documentPageCount,r=f.filename,s=o&&p&&q!=null&&q>0,t=d("useWAWebModelValues").useModelValues(b,["caption"]);t=t.caption;if(!s)return i.jsx(c("WAWebMediaEditorPreviewFile.react"),{mimeType:f.mimetype,filesize:f.filesize,filename:f.filename,fileExt:f.fileExt,onClose:h,attachMedia:f,chat:e,onCaptionChange:g,onEnter:k,setCaptionInputRef:n,onToggleViewOnce:m,onFiles:l});s=d("WAWebMiscGatingUtils").documentWithCaptionsSendEnabled()&&!e.contact.isEnterprise?i.jsx(c("WAWebMediaEditorCaptionInput.react"),{chat:e,caption:t,viewOnce:!1,viewOnceDisabled:!0,msgType:d("WAWebMsgType").MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:m,onChange:g,onEnter:k,onFiles:l,setCaptionInputRef:function(a){n(b.id,a)}},b.id):null;return i.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:j.container,justify:"all",align:"center",children:[i.jsx(c("WAWebFlexItem.react"),{xstyle:j.containerElements,children:i.jsx(c("WAWebMediaEditorPreviewHeader.react"),{onClose:h,filename:r,pageCount:q})}),i.jsx(c("WAWebAttachMediaDrawerAttachMediaTypePdf.react"),{fullPreview:o,fullPreviewSize:p,pageCount:q,showPageCount:!1,showBorder:!0,mimeType:a,filename:r}),i.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[j.footer,j.containerElements],justify:"center",align:"center",children:s})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ai50",media:"_ai51",img:"_ai52",audio:"_ai53",videoContainer:"_ai54",spinner:"_ai55",video:"_ai56",staticPreview:"_ai57"};b=a;g["default"]=b}),98);
__d("WAWebAttachMediaDrawerAttachMediaTypeMedia.react",["fbt","WAWebAttachMediaDrawerAttachMediaTypeMedia.scss","WAWebClassnames","WAWebMimeTypes","WAWebObjectFit.react","WAWebSpinner.react","WAWebVideo.react","lodash","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=c("lodash").pickBy(d("WAWebMimeTypes").MIMETYPES,function(a){return(a==null?void 0:a.msgType)==="image"||(a==null?void 0:a.msgType)==="video"});function a(a){var b=a.isGif,e=a.mimeType,f=a.preview,g=a.processing,i=a.size;a=a.url;var l;switch(k[e].msgType){case"image":l=j.jsx("img",{alt:h._("__JHASH__oQ6YeRrk7BR__JHASH__"),src:a,className:c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").img});break;case"video":b=b?{loop:!g,autoPlay:!g,muted:!1,controls:!1}:{};var m=g?j.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").spinner,children:j.jsx(d("WAWebSpinner.react").Spinner,{color:"white",size:50,stroke:3})}):null;f=f?j.jsx("img",{alt:h._("__JHASH__oQ6YeRrk7BR__JHASH__"),className:c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").staticPreview,src:"data:image/jpeg;base64,"+f}):null;g=g?null:j.jsx(c("WAWebVideo.react"),babelHelpers["extends"]({controls:!0,controlsList:"nodownload nofullscreen",className:c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").video},b,{src:a}));l=j.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").img,c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").videoContainer),children:[m,g,f]});break;case"audio":l=j.jsx("audio",{controls:!0,className:c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").audio,type:e,src:a})}return j.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").container,"data-animate-attach-media":!0,children:j.jsx("div",{className:c("WAWebAttachMediaDrawerAttachMediaTypeMedia.scss").media,children:j.jsx(c("WAWebObjectFit.react"),{type:"scaleDown",size:i,children:l})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMediaEditorPreviewVideo.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_ak04",footer:"_ak05"};b=a;g["default"]=b}),98);
__d("WAWebMediaEditorPreviewVideo.react",["WAWebAttachMediaDrawerAttachMediaTypeMedia.react","WAWebAttachMediaModel","WAWebMediaEditorCaptionInput.react","WAWebMediaEditorPreviewHeader.react","WAWebMediaEditorPreviewVideo.scss","WAWebMsgType","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.attachMedia,e=a.chat,f=a.expandedTextFormatsEnabled,g=a.internLinksEnabled,h=a.multiline,j=a.onCaptionChange,k=a.onClose,l=a.onEnter,m=a.onFiles,n=a.onToggleViewOnce,o=a.phoneNumbersEnabled,p=a.setCaptionInputRef,q=a.viewOnce;a=a.viewOnceDisabled;var r=d("useWAWebModelValues").useModelValues(b,["caption"]);r=r.caption;return i.jsxs("div",{className:c("WAWebMediaEditorPreviewVideo.scss").container,children:[i.jsx(c("WAWebMediaEditorPreviewHeader.react"),{onClose:k}),i.jsx(c("WAWebAttachMediaDrawerAttachMediaTypeMedia.react"),{mimeType:b.mimetype,url:b.fullPreview,isGif:b.isGif,size:b.fullPreviewSize,processing:b.state===d("WAWebAttachMediaModel").ATTACH_MEDIA_STATE.PROCESSING,preview:b.preview}),i.jsx("div",{className:c("WAWebMediaEditorPreviewVideo.scss").footer,children:i.jsx(c("WAWebMediaEditorCaptionInput.react"),{chat:e,caption:r,viewOnce:q,viewOnceDisabled:a,msgType:d("WAWebMsgType").MSG_TYPE.VIDEO,theme:"video",onToggleViewOnce:n,onChange:j,onEnter:l,onFiles:m,setCaptionInputRef:function(a){p(b.id,a)},internLinksEnabled:g,phoneNumbersEnabled:o,expandedTextFormatsEnabled:f,multiline:h},b.id)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditor.react",["fbt","$InternalEnum","Promise","WAFilteredCatch","WALogger","WANullthrows","WAWebABProps","WAWebAddAltIcon","WAWebAttachMediaModel","WAWebClassnames","WAWebCmd","WAWebDataTransfer","WAWebDrawer.react","WAWebDrawerBody.react","WAWebEventFiles","WAWebFileUtils","WAWebFlex.react","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebMediaEditor.scss","WAWebMediaEditorAddIcon","WAWebMediaEditorData","WAWebMediaEditorEnumsColors","WAWebMediaEditorEnumsFonts","WAWebMediaEditorEnumsThickness","WAWebMediaEditorFilmstripDragAndDrop.react","WAWebMediaEditorGeometryPoint","WAWebMediaEditorGeometrySize","WAWebMediaEditorImage.react","WAWebMediaEditorLayersBlur","WAWebMediaEditorLayersImage","WAWebMediaEditorLayersText","WAWebMediaEditorPreviewAudio.react","WAWebMediaEditorPreviewFile.react","WAWebMediaEditorPreviewPdf.react","WAWebMediaEditorPreviewVideo.react","WAWebMediaEditorToolbarBlur.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebMediaGatingUtils","WAWebMimeTypes","WAWebMiscErrors","WAWebMiscGatingUtils","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebSendButtonWithCount.react","WAWebSendStatusGatingUtils","WAWebSpinner.react","WAWebStatusPrivacySettingButton.react","WAWebStickerConstants","WAWebStickerSendWamEvent","WAWebSvgButton.react","WAWebTimeSpentLoggingNavigation","WAWebToast.react","WAWebToastManager","WAWebUim","WAWebUserPrefsMeUser","WAWebWamEnumMediaPickerOriginType","WAWebWamEnumStickerMakerSourceType","WAWebWamEnumStickerSendOriginType","WAWebWamEnumThreadType","WAWebWamEnumWebcStickerMakerEventNameType","WAWebWebcMediaEditorSendWamEvent","WAWebWebcStickerMakerEventsWamEvent","asyncToGeneratorRuntime","cr:4943","err","gkx","react","stylex","useWAWebForceUpdate","useWAWebLazyRef","useWAWebListener","useWAWebToggle","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaEditor: Updated MediaEditorData"]);aa=function(){return a};return a}e=l||d("react");var m=k||(k=c("react")),ba=e.useEffect,ca=e.useImperativeHandle,n=e.useRef,o=e.useState,da=200,ea=64,fa=ea*2,ga=128,ha=1.2,ia=d("WAWebMediaEditorLayersText").DEFAULT_FONT_SIZE*3,ja=200,ka=100,p=b("$InternalEnum").Mirrored(["ATTACH","CAPTURE","STATUS"]),la={outerContainerCapture:{width:"xh8yej3",height:"x5yr21d",$$css:!0}};e=m.forwardRef(a);function a(a,e){var f,g=babelHelpers["extends"]({},a);d("WAWebTimeSpentLoggingNavigation").useTsNavigation(g.chat.isNewsletter&&d("WAWebNewsletterGatingUtils").isNewsletterTSLEnabled()?{surface:"channel-producer-media-editor",extras:{channelWid:g.chat.id,threadType:d("WAWebWamEnumThreadType").THREAD_TYPE.CHANNEL}}:null);a=g.onClose;var k=a===void 0?function(){}:a;a=g.theme;var l=a===void 0?p.ATTACH:a;a=g.sendAsSticker;var q=a===void 0?!1:a,r=g.chat,s=g.mediaCollection;a=g.initCaption;var ma=g.onDropText,na=g.onSendMedia,t=o(function(){return d("WAWebMediaEditorEnumsColors").getColorValue(d("WAWebMediaEditorEnumsColors").ColorType.BLUE)}),oa=t[0],pa=t[1];t=o(q!=null&&q?d("WAWebMediaEditorEnumsThickness").ThicknessType.XLARGE:d("WAWebMediaEditorEnumsThickness").ThicknessType.SMALL);var qa=t[0],u=t[1];t=o(!0);var ra=t[0],sa=t[1];t=o(function(){return d("WAWebMediaEditorEnumsColors").getColorValue(d("WAWebMediaEditorEnumsColors").ColorType.BLACK)});var ta=t[0],ua=t[1];t=o(d("WAWebMediaEditorEnumsFonts").FontType.SANS_SERIF);var va=t[0],wa=t[1];t=o(d("WAWebMediaEditorEnumsFonts").TextAlignment.CENTER);var xa=t[0],ya=t[1];t=o(!0);var za=t[0],Aa=t[1];t=o(!1);var v=t[0],Ba=t[1];t=o(!1);var Ca=t[0],Da=t[1];t=o(!1);var Ea=t[0],Fa=t[1];t=o(null);var w=t[0];t=t[1];var x=o(null),y=x[0];x=x[1];var z=o(!1),A=z[0],Ga=z[1];z=o(null);var B=z[0],C=z[1];z=o(null);var D=z[0],E=z[1];z=c("useWAWebToggle")(!1);var F=z[0],G=z[1];z=o((z=q)!=null?z:!1);var H=z[0],Ha=z[1],I=n(),J=n(),K=n(),L=n();z=n(a==null?void 0:a.text);var M=n(),N=n(d("WAWebMediaEditorToolbarBlur.react").BLUR_DEFAULT_MODE),O=n(d("WAWebMediaEditorToolbarBlur.react").BLUR_DEFAULT_RADIUS),Ia=c("useWAWebLazyRef")(function(){return new Map()});a=function(b,a){Ia.current.set(b,a)};var Ja=c("useWAWebLazyRef")(function(){return new Map()}),P=c("useWAWebLazyRef")(function(){return new Map()}),Q=function(b,a){P.current.set(b,a)},Ka=c("useWAWebForceUpdate")(),La=c("useWAWebUnmountSignal")();s.isStickerMaker=H;d("useWAWebListener").useListener(s,["add","remove","reset"],Ka);var R=function(){if(!s.canSend())return;var a=s.uiProcessMsgs(r);a=a.errorMsgs;a&&(d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:a})),s.getPreviewableMedias().length===0&&k());Ka()};d("useWAWebListener").useListener(s,["active-change","change:state","change:previewable"],R);var Ma=function(){var a;return s.length===1&&((a=s.at(0))==null?void 0:a.type)===d("WAWebMsgType").MSG_TYPE.IMAGE};R=function(){var a=!H&&Ma();Ha(a);u(a?d("WAWebMediaEditorEnumsThickness").ThicknessType.XLARGE:d("WAWebMediaEditorEnumsThickness").ThicknessType.SMALL)};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"toggle_sticker_maker",R);ba(function(){var a;(a=L.current)==null?void 0:a.focus();return function(){M.current&&self.clearTimeout(M.current)}},[]);ba(function(){s.isStickerMaker=H});var Na=function(){return L.current},Oa=function(a){var b;if((b=I.current)==null?void 0:b.resetUIState())return!1;else if(D){C(null);E(null);return!1}b=a===d("WAWebUim").DismissReason.UIM_INTERACTION;k(b);return!0};ca(e,function(){return{getElement:Na,handleRequestDismiss:Oa}});R=s.getActive();e=z.current;z=A;!z&&!w&&e!=null&&e!==""&&R&&(R.type===d("WAWebMsgType").MSG_TYPE.IMAGE||R.type===d("WAWebMsgType").MSG_TYPE.VIDEO||R.type===d("WAWebMsgType").MSG_TYPE.DOCUMENT&&!r.contact.isEnterprise)&&(R.caption=e,z=!0);e=(e=R==null?void 0:R.canUndoMediaEditorData())!=null?e:!1;f=(f=R==null?void 0:R.canRedoMediaEditorData())!=null?f:!1;R!==y&&(x(R),t(R),Da(e),Fa(f),Ga(z));var S=function(){return w==null?c("WAWebMediaEditorData").create():w.mediaEditorData},Pa=function(){var a;Da((a=w==null?void 0:w.canUndoMediaEditorData())!=null?a:!1);Fa((a=w==null?void 0:w.canRedoMediaEditorData())!=null?a:!1)},T=function(a,b){if(a===S())return;if(w){w.updateMediaEditorData(a,{undoable:(a=b==null?void 0:b.undoable)!=null?a:!1,lastAction:(a=b==null?void 0:b.lastAction)!=null?a:null});Pa()}if(b==null?void 0:b.updatePreview){(a=I.current)==null?void 0:a.updatePreview()}d("WALogger").LOG(aa())},Qa=function(){var a;return(a=I.current)==null?void 0:a.getBackground()},Ra=function(a){a===void 0&&(a=!0);if(w&&w.canUndoMediaEditorData()){var b,c=w.lastMediaEditorAction;w.undoMediaEditorData(a);a=w.lastMediaEditorAction;Pa();(b=I.current)==null?void 0:b.updatePreview();(b=I.current)==null?void 0:b.undoAction(c,a)}},Sa=function(){if(w&&w.canRedoMediaEditorData()){var a,b=w.lastMediaEditorAction;w.redoMediaEditorData();var c=w.lastMediaEditorAction;Pa();(a=I.current)==null?void 0:a.updatePreview();(a=I.current)==null?void 0:a.redoAction(c,b)}},Ta=function(a,b,d,e){var f=c("WANullthrows")(I.current).getCanvasScale(),g=b.width*f;f=b.height*f;d=d/g;g=e/f;e=Math.min(d,g);f=S().addImageLayerToCenter({type:a,image:b,editable:!0,scale:e});T(f,{updatePreview:!0,undoable:!0})},Ua=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(a));if(!a)return;var b=H?fa:ea;Ta(d("WAWebMediaEditorLayersImage").ImageLayerType.Emoji,a,b,b);H&&new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.EMOJI_ADDED}).commit()}catch(a){d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__vffiwzVw18V__JHASH__")}))}});return function(b){return a.apply(this,arguments)}}(),Va=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromSticker(a));if(!a)throw c("err")("Create image from sticker failed");Ta(d("WAWebMediaEditorLayersImage").ImageLayerType.Sticker,a,ga,ga);H&&new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_ADDED}).commit()}catch(a){d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__vffiwzVw18V__JHASH__")}))}});return function(b){return a.apply(this,arguments)}}(),Wa=function(){var a=S().clearSelectedLayer();T(a)},Xa=function(){var a=S().clearSelectedLayer();T(a)},Ya=function(){var a=Qa(),b=S();if(!a||b.outlineLayer.isEmpty())return;var e=b.cropCenter,f=a.width,g=a.height;e=new(c("WAWebMediaEditorGeometryPoint"))({x:e.x-f/2,y:e.y-g/2});var h=-b.rotation;f=Math.max(f,g);g=b.cropSize.dimension;var i=d("WAWebStickerConstants").STICKER_DIMENSION-d("WAWebStickerConstants").STICKER_PADDING*2;g=g*(i/d("WAWebStickerConstants").STICKER_DIMENSION);i=g/f;g=b.updateBackground(a,e,h,i).clearOutlinePaths();T(g,{undoable:!0,updatePreview:!0,lastAction:d("WAWebAttachMediaModel").MediaEditorAction.OutlineDone});H&&new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_OUTLINED}).commit()},Za=function(){var a=S().clearOutlinePaths();T(a,{undoable:!0,updatePreview:!0})},$a=function(a,b,c){a=S().setRotation(a).setCrop(b,c);T(a,{undoable:!0,updatePreview:!0,lastAction:d("WAWebAttachMediaModel").MediaEditorAction.CropRotateCanvas});H&&new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_CROPPED}).commit()},ab=function(a,b,d,e){var f=c("WANullthrows")(I.current).getCanvasScale(),g=c("WANullthrows")(I.current).getCanvasSize(),h=Math.min(g.width,ja/f);g=Math.min(g.height,ka/f);f=S().addBlurLayerToCenter({image:a,size:new(c("WAWebMediaEditorGeometrySize"))({width:h,height:g}),mode:b,radius:d,backgroundFrame:e});T(f,{updatePreview:!0,undoable:!0})},bb=function(a){var b=S();b=b.selectedLayer;if(b instanceof d("WAWebMediaEditorLayersBlur").BlurLayer){b=S().setBlurMode(b,a);T(b,{updatePreview:!0,undoable:!0});N.current=a}},cb=function(a,b){b===void 0&&(b=!1);var c=S();c=c.selectedLayer;if(c instanceof d("WAWebMediaEditorLayersBlur").BlurLayer){c=S().setBlurRadius(c,a);T(c,{updatePreview:!0,undoable:b});O.current=a}},db=function(){var a=S().selectedLayer;if(a instanceof d("WAWebMediaEditorLayersBlur").BlurLayer&&!a.confirmed)Ra(!1);else{a=S().clearSelectedLayer();T(a);ab(c("WANullthrows")((a=S().background)==null?void 0:a.image),N.current,O.current,c("WANullthrows")((a=S().background)==null?void 0:a.frame))}},eb=function(a){pa(a)},fb=function(a){u(a)},gb=function(a){sa(a)},hb=function(){T(S().clearSelectedLayer())},ib=function(){if(B)return;hb();var a=c("WANullthrows")(I.current).getCanvasScale();a=ha/a;if(H){var b=S();b=b.cropSize.dimension;b=ia*b/d("WAWebStickerConstants").STICKER_DIMENSION;a=b/d("WAWebMediaEditorLayersText").DEFAULT_FONT_SIZE}b={origin:S().cropCenter,text:"",textColor:ta,textBackground:za,alignment:xa,font:va,scale:a};a=S().addTextLayer(b);b=c("WANullthrows")(a.lastTextLayer);E(b);C(null)},jb=function(a){wa(a);var b=S();b=b.selectedLayer;if(D)E(D.setFont(a));else if(b&&b instanceof d("WAWebMediaEditorLayersText").TextLayer){b=S().setFont(b,a);T(b,{updatePreview:!0,undoable:!0})}},kb=function(a){ya(a);var b=S();b=b.selectedLayer;if(D)E(D.setAlignment(a));else if(b&&b instanceof d("WAWebMediaEditorLayersText").TextLayer){b=S().setAlignment(b,a);T(b,{updatePreview:!0,undoable:!0})}},lb=function(a){ua(a);var b=S();b=b.selectedLayer;if(D)E(D.setTextColor(a));else if(b&&b instanceof d("WAWebMediaEditorLayersText").TextLayer){b=S().setTextColor(b,a);T(b,{updatePreview:!0,undoable:!0})}},mb=function(){var a=!za;Aa(a);var b=S();b=b.selectedLayer;if(D)E(D.setTextBackground(a));else if(b&&b instanceof d("WAWebMediaEditorLayersText").TextLayer){b=S().setTextBackground(b,a);T(b,{updatePreview:!0,undoable:!0})}},nb=function(a){E(a),C(a)},ob=function(a,b){if(!b)B&&T(S().deleteLayer(B),{updatePreview:!0,undoable:Boolean(a.text)});else{a=S();b=c("WANullthrows")(D).setText(b);!B?(a=a.addTextLayer(b),H&&new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.TEXT_ADDED}).commit()):a=a.updateLayer(c("WANullthrows")(B),b);T(a,{updatePreview:!0,undoable:!0})}self.setTimeout(function(){E(null),C(null)},0);(b=L.current)==null?void 0:b.focus()},pb=function(a){T(S().addPaintPath(a),{undoable:!0,updatePreview:!0})},qb=function(a){T(S().addOutlinePath(a),{undoable:!0,updatePreview:!0,lastAction:d("WAWebAttachMediaModel").MediaEditorAction.Outline})},rb=function(a){if(!a.editable)return;var b=S().setSelectedLayer(a);a instanceof d("WAWebMediaEditorLayersBlur").BlurLayer&&(a.confirmed||(b=b.updateLayer(a,a.setConfirmed())),N.current=a.mode,O.current=a.radius);T(b);a instanceof d("WAWebMediaEditorLayersText").TextLayer&&(ua(a.textColor),Aa(a.textBackground),wa(a.font))},sb=function(a,b){var c=a instanceof d("WAWebMediaEditorLayersImage").ImageLayer&&a.isBackground();c?T(S().translateBackground(b),{updatePreview:!0,undoable:!0}):T(S().translateLayer(a,b),{updatePreview:!0,undoable:!0})},tb=function(a,b,c,e){var f=a instanceof d("WAWebMediaEditorLayersImage").ImageLayer&&a.isBackground();f?T(S().transformBackground(b,c),{updatePreview:!0,undoable:!0}):T(S().transformLayer(a,b,c,e),{updatePreview:!0,undoable:!0})},ub=function(a){a=S().deleteLayer(a);T(a,{updatePreview:!0,undoable:!0})},vb=function(a){d("WAWebEventFiles").getFiles(a).then(function(b){if(La.aborted)return;var c;a.shiftKey&&a.altKey&&b.length===1&&(Ha(!0),u(d("WAWebMediaEditorEnumsThickness").ThicknessType.XLARGE),c=!0);return s.processAttachments(b.map(function(a){return{file:a,stickerMaker:c}}),d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,g.chat)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").MediaDragDropError,function(a){s.length||ma(a.src)})),a.target.value&&(a.target.value="")};y=function(a){if(F||H)return;vb(a)};x=function(a,b){if(F||H)return;Ba(a);!a&&!b&&!s.length&&k()};var U=function(a){if(!w)return;var b=s.indexOf(w);w.updateCaption(a);b===0&&a===""&&A&&Ga(!1);b=P.current.get(w.id);b&&Ja.current.set(w.id,b.editorContent())},V=function(a){a=a.getFiles().filter(function(a){a=d("WAWebFileUtils").typeFromMimetype(a.type);return a==="image"||a==="video"}).map(function(a){return{file:a}});s.processAttachments(a,d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.PASTE,g.chat)};t=function(a){a.preventDefault();a.stopPropagation();a=new(c("WAWebDataTransfer"))(a.clipboardData);a.hasFiles()&&V(a)};R=function(){if(J.current){var a=J.current;a.click()}};var wb=function(a){if(H){var b={stickerSendOrigin:d("WAWebWamEnumStickerSendOriginType").STICKER_SEND_ORIGIN_TYPE.STICKER_MAKER,stickerIsAnimated:!1,stickerIsFirstParty:!1,stickerIsFromStickerMaker:!0,stickerMakerSourceType:d("WAWebWamEnumStickerMakerSourceType").STICKER_MAKER_SOURCE_TYPE.WEB_STICKER_MAKER};d("WAWebABProps").getABPropConfigValue("gimmick_phase_two_logging_enabled")&&(b=babelHelpers["extends"]({},b,{stickerIsLottie:!1}));new(d("WAWebStickerSendWamEvent").StickerSendWamEvent)(b).commit();new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.SEND_STICKER}).commit();return}var c=0,e=0,f=0,g=0,h=0,i=0,j=0;a.forEach(function(a){var b=a.mediaEditorData;a.type===d("WAWebMsgType").MSG_TYPE.IMAGE&&(c++,b.hasEdits()&&e++,b.paintLayer.paths.length>0&&f++,b.layers.some(function(a){return a instanceof d("WAWebMediaEditorLayersBlur").BlurLayer})&&j++);b.layers.forEach(function(a){a instanceof d("WAWebMediaEditorLayersImage").ImageLayer?(a.isEmoji()&&g++,a.isSticker()&&h++):a instanceof d("WAWebMediaEditorLayersText").TextLayer&&i++})});new(d("WAWebWebcMediaEditorSendWamEvent").WebcMediaEditorSendWamEvent)({imageCount:c,editedImageCount:e,paintedImageCount:f,blurImageCount:j,emojiLayerCount:g,stickerLayerCount:h,textLayerCount:i}).commit()},xb=function(){var a,b=r.contact.isEnterprise;return s.length===1&&((a=s.at(0))==null?void 0:a.isViewableOnce())===!0&&!b&&!d("WAWebUserPrefsMeUser").isMeAccount(r.contact.id)&&!q},W=function(a){a==null?void 0:a.preventDefault();a==null?void 0:a.stopPropagation();if(!s.canSend())return;var c=s.getPreviewableMedias();if(c.length===0){k();return}if((w==null?void 0:w.mediaEditorData.hasEdits())||H){(a=I.current)==null?void 0:a.updatePreview({immediately:!0})}var d=[];c.forEach(function(a){var b=a.editedFile;if(b&&(a.mediaEditorData.hasEdits()||H)){a=s.replace(a.id,{file:b,asSticker:H});d.push(a)}});(i||(i=b("Promise"))).all(d).then(function(){var a=s.getPreviewableMedias();if(a.length===0)return;a=a.map(function(a){var b;b=(b=a.caption)==null?void 0:b.trim();var c=[],d=[],e=Ja.current.get(a.id);if(e){var f=e.text;e=e.data;f.length&&(b=f.trim(),c=e.mentionedJidList||[],d=e.groupMentions||[])}a.caption=(f=b)!=null?f:void 0;return{media:a,mentionedJidList:c,groupMentions:d}});na(a,{initCaptionUsed:A,isViewOnce:xb()&&F});wb(c)})};e=function(a){if(!w)return;if(a.repeat)return;if(a.shiftKey)return;if(D)return;var b=P.current.get(w.id);if(b==null?void 0:b.isFocused())return;b=S();b=b.selectedLayer;if(b instanceof d("WAWebMediaEditorLayersText").TextLayer){a.preventDefault();a.stopPropagation();nb(b);return}if((a=I.current)==null?void 0:a.resetUIState())return;W()};var yb=function(){if(!w)return;var a=Ia.current.get(w.id);a&&a.scrollIntoView()},zb=function(){var a=s.setPrevAsActive();if(!a)return;yb()},Ab=function(){var a=s.setNextAsActive();if(!a)return;yb()},Bb=function(a,b){if(!w||b.repeat||D)return;var c=w&&!w.caption,d=P.current.get(w.id),e=!1;d&&(e=!c&&d.isFocused()&&(!d.isCursorAtStart()||a!=="left")&&(!d.isCursorAtEnd()||a!=="right"));e||(b.preventDefault(),b.stopPropagation(),a==="left"?zb():Ab())};f=function(a){s.setActive(a)};z=function(a,b){b.stopPropagation(),b.preventDefault(),s.remove(a),s.getValidMedias().length===0?M.current=self.setTimeout(function(){k()},da):K.current&&c("WAWebFocusTracer").focus(K.current)};var Cb=function(b){var a=null;switch(b.type){case d("WAWebMsgType").MSG_TYPE.STICKER:case d("WAWebMsgType").MSG_TYPE.IMAGE:a=m.jsx(d("WAWebMediaEditorImage.react").ImageBody,{ref:I,attachMedia:b,chat:r,onCaptionChange:U,onClose:l===p.CAPTURE?null:k,onEnter:W,setCaptionInputRef:Q,paintColor:oa,paintThickness:qa,outlineSmoothing:ra,canUndo:Ca,canRedo:Ea,currentlyEditingTextLayer:B,draftTextLayer:D,viewOnce:F,viewOnceDisabled:!xb(),sendAsSticker:H,internLinksEnabled:l!==p.STATUS,phoneNumbersEnabled:l!==p.STATUS,expandedTextFormatsEnabled:l!==p.STATUS,multiline:l!==p.STATUS,onPaintSelect:Wa,onOutlineSelect:Xa,onOutlineDone:Ya,onOutlineReset:Za,onTextSelect:ib,onTextBackgroundToggle:mb,onEmojiSelect:Ua,onStickerSelect:Va,onLayerSelect:rb,onLayerUnselect:hb,onLayerDelete:ub,onLayerTranslate:sb,onLayerTransform:tb,onTextEditingStart:nb,onTextEditingEnd:ob,onTextColorSelect:lb,onFontSelect:jb,onAlignmentSelect:kb,onPaintColorSelect:eb,onPaintThicknessSelect:fb,onOutlineSmoothingToggle:gb,onCropRotateCanvas:$a,onBlurModeChange:bb,onBlurRadiusChange:cb,onBlurSelect:db,onUndo:Ra,onRedo:Sa,onPaintDrawEnd:pb,onOutlineDrawEnd:qb,onToggleViewOnce:G,onFiles:V},b.mediaEditorData.id);break;case d("WAWebMsgType").MSG_TYPE.VIDEO:a=m.jsx(c("WAWebMediaEditorPreviewVideo.react"),{attachMedia:b,chat:r,viewOnce:F,viewOnceDisabled:!xb(),setCaptionInputRef:Q,internLinksEnabled:l!==p.STATUS,phoneNumbersEnabled:l!==p.STATUS,expandedTextFormatsEnabled:l!==p.STATUS,multiline:l!==p.STATUS,onCaptionChange:U,onClose:k,onEnter:W,onToggleViewOnce:G,onFiles:V},b.id);break;case d("WAWebMsgType").MSG_TYPE.AUDIO:a=m.jsx(c("WAWebMediaEditorPreviewAudio.react"),{item:b,onClose:k},b.id);break;default:d("WAWebMimeTypes").previewType(b.mimetype)==="pdf"?a=m.jsx(c("WAWebMediaEditorPreviewPdf.react"),{item:b,onClose:k,attachMedia:b,chat:r,setCaptionInputRef:Q,onCaptionChange:U,onEnter:W,onToggleViewOnce:G,onFiles:V},b.id):a=m.jsx(c("WAWebMediaEditorPreviewFile.react"),{mimeType:b.mimetype,filesize:b.filesize,filename:b.filename,fileExt:b.fileExt,onClose:k,attachMedia:b,chat:r,setCaptionInputRef:Q,onCaptionChange:U,onEnter:W,onToggleViewOnce:G,onFiles:V},b.id)}return a},X,Y=s.getPreviewableMedias(),Z=d("WAWebMediaGatingUtils").getMaxNumberSelectableMedia(Y.length,r.id);Y.length>Z&&(Y=Y.slice(0,Z));!s.canSend()?X=m.jsx("div",{className:c("WAWebMediaEditor.scss").spinner,children:m.jsx(d("WAWebSpinner.react").Spinner,{color:"highlight"},"processing")}):w&&(X=Cb(w));Cb=v?m.jsx("div",{className:c("WAWebMediaEditor.scss").dropOverlay,children:m.jsx("div",{className:c("WAWebMediaEditor.scss").dropOverlayOutline,children:h._("__JHASH__YvuX_e-PLiv__JHASH__")})},"container"):null;v={enter:e,left:function(a){return Bb("left",a)},right:function(a){return Bb("right",a)}};e=d("WAWebMimeTypes").DOC_MIMES==="*"?"*":[d("WAWebMimeTypes").IMAGE_MIMES].join();var Db;if(X!=null){var Eb,Fb;Y.length>0&&(d("WAWebSendStatusGatingUtils").isStatusPostingEnabled()&&l===p.STATUS&&(Fb=m.jsx(c("WAWebStatusPrivacySettingButton.react"),{statusPostingPrivacyConfig:g.statusPostingPrivacyConfig,setStatusPostingPrivacyConfig:c("WANullthrows")(g.setStatusPostingPrivacyConfig)})),Eb=m.jsx("div",{className:c("WAWebMediaEditor.scss").sendButton,tabIndex:"-1",ref:K,onKeyPress:function(a){return a.preventDefault()},children:m.jsx(c("WAWebSendButtonWithCount.react"),{ariaLabel:h._("__JHASH__wfbL3tCQf1O__JHASH__"),large:!0,count:Y.length===1?null:Y.length,onClick:W,disabled:!s.canSend()})}));if(l===p.CAPTURE)Db=m.jsx("div",{className:c("WAWebMediaEditor.scss").captureFooter,children:Eb});else{var $;Z=!F&&!H&&Y.length<Z;var Gb=c("gkx")("26254")?d("WAWebAddAltIcon").AddAltIcon:d("WAWebMediaEditorAddIcon").MediaEditorAddIcon;$=H?null:m.jsx(c("WAWebSvgButton.react"),{className_DONOTUSE:d("WAWebClassnames").classnamesConvertMeToStylexPlease(($={},$[c("WAWebMediaEditor.scss").addMediaButtonDisabled]=!Z,$[c("WAWebMediaEditor.scss").addMediaButton]=!0,$)),disabled:!Z,Icon:Gb,title:h._("__JHASH__JJkgptBPeyP__JHASH__"),onClick:R,"aria-label":h._("__JHASH__JJkgptBPeyP__JHASH__")},"media-more");var Hb;Y.length>0&&(Hb=m.jsxs(d("WAWebFlex.react").FlexRow,{className:c("WAWebMediaEditor.scss").filmstripContainer,justify:"center",align:"start",children:[m.jsx(c("WAWebMediaEditorFilmstripDragAndDrop.react"),{className:c("WAWebMediaEditor.scss").thumbs,mediaCollection:s,onClick:f,onClose:z,onElementRef:a}),$]}));Db=m.jsxs("div",{className:c("WAWebMediaEditor.scss").footer,children:[Fb,Hb,Eb]})}}Gb=d("WAWebClassnames").classnamesConvertMeToStylexPlease((Z={},Z[c("WAWebMediaEditor.scss").previewOnly]=(w==null?void 0:w.type)!==d("WAWebMsgType").MSG_TYPE.IMAGE,Z[c("WAWebMediaEditor.scss").documentPreview]=d("WAWebMiscGatingUtils").documentWithCaptionsSendEnabled()&&(w==null?void 0:w.type)===d("WAWebMsgType").MSG_TYPE.DOCUMENT,Z[c("WAWebMediaEditor.scss").container]=!0,Z));R=m.jsxs(d("WAWebFlex.react").FlexColumn,{className:Gb,align:"stretch",children:[Cb,X,Db,m.jsx("input",{ref:J,type:"file",accept:e,style:{display:"none"},onChange:vb,multiple:!0})]});l===p.ATTACH&&(R=m.jsx(c("WAWebDrawer.react"),{theme:"media",onDrop:y,onDragChange:x,children:m.jsx(c("WAWebDrawerBody.react"),{tabIndex:"-1",overflow:"hidden",onPaste:t,children:R})},"attach-image-modal"));Y=(j||(j=c("stylex")))((l===p.CAPTURE||p.STATUS)&&la.outerContainerCapture);return m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{className:Y,handlers:v,ref:L,children:R})}a.displayName=a.name+" [from "+f.id+"]";a=e;g.MediaTheme=p;g.MediaEditor=a}),226);
__d("WAWebAddContactToGroupFlow.react",["fbt","$InternalEnum","WANullthrows","WAWebApiContact","WAWebChatCollection","WAWebCmd","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebContactGetters","WAWebEmojiText.react","WAWebFocusTracer","WAWebFrontendContactGetters","WAWebGroupsModal.react","WAWebModifyParticipantsGroupAction","WAWebWidFactory","fbs","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useRef,m=e.useState,n=b("$InternalEnum").Mirrored(["SelectGroup","Confirm"]);function a(a){var b=d("useWAWebFlow").useFlow(n.SelectGroup),e=b[0],f=b[1];b=m();var g=b[0],i=b[1];b=function(b){var e=b.groupMetadata;if(!b.isGroup||b.isGroup&&!(e==null?void 0:e.participants.iAmMember()))return!1;b=(e==null?void 0:e.isLidAddressingMode)===!0?d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").toUserWid(a.contact.id)):a.contact.id;if(b!=null&&(e==null?void 0:e.participants.get(b)))return h._("__JHASH__E9XjA99xrft__JHASH__").toString();return!(e==null?void 0:e.participants.iAmAdmin())?c("fbs")._("__JHASH__vHQqGAVBFML__JHASH__").toString():!0};var j=function(b){d("WAWebModifyParticipantsGroupAction").addParticipants(b,[a.contact]).then(function(){d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)})})["catch"](function(){}),f.end()},o=l(null),p=function(){if(!o.current)return;var a=o.current;if(!a||a.contains(document.activeElement))return;c("WAWebFocusTracer").focus(a)},q=function(a){p(),i(a),f.push(n.Confirm)};if(f.step==null)return null;var r=null;switch(f.step){case n.SelectGroup:r=k.jsx(c("WAWebGroupsModal.react"),{chats:d("WAWebChatCollection").ChatCollection.filter(function(a){return d("WAWebContactGetters").getIsGroup(a)}),filter:b,onCancel:function(){return f.pop()},onGroup:q});break;case n.Confirm:r=k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cancelText:h._("__JHASH__JomY4EcHzcJ__JHASH__"),okText:h._("__JHASH__QtQHyeSf3uq__JHASH__"),onOK:function(){return j(c("WANullthrows")(g))},onCancel:function(){return f.pop()},children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._("__JHASH__dh1fyYvujaR__JHASH__",[h._param("participant",d("WAWebFrontendContactGetters").getFormattedName(a.contact)),h._param("subject",c("WANullthrows")(g).contact.name)])})});break}return k.jsx(e,{ref:o,flow:f,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebArchivedDrawer.react",["fbt","WAWebApiChat","WAWebChat.react","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityGatingUtils","WAWebComposeBoxActions","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmptyState.react","WAWebFlatList.react","WAWebFlatListController","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebSettingsGetters","WAWebSingleSelection","WAWebTopMenuRedesignGatingUtils","WAWebWDSText.react","react","stylex","useWAWebLazyRef","useWAWebListener","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o=b.useState,p={persistentHeaderContainer:{borderBottom:"x1e2j2n0",backgroundColor:"xoiwyku",$$css:!0},persistentHeaderContainerBackgroundOverride:{backgroundColor:"x1xnncb0",$$css:!0}},q=d("WAWebChat.react").ChatFactory(),r=d("WAWebFlatList.react").FlatListFactory();e=l.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onClose,f=function(){return d("WAWebChatCollection").ChatCollection.filter(function(a){return a.archive&&a.shouldAppearInList})};a=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2,d("WAWebSettingsGetters").getArchive]);var g=a[0],i=a[1];a=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()});var k=c("useWAWebLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})}),s=n(null),t=o(f),u=t[0],v=t[1];t=function(a){var b=k.current.getVal();a===b&&k.current.unset()};var w=function(){return g};d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,[w()?"sort":null,"change:archive","add","remove"].filter(Boolean),function(){v(f())});var x=function(a){k.current.setVal(a,!1)};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_chat",t);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"update_chatlist_selection",x);t=function(){var a=d("WAWebChatCollection").ChatCollection.some(function(a){return a.archive});return a};var y=function(){return d("WAWebChatCollection").ChatCollection.toArray().find(function(a){return a.active&&a.archive})};m(function(){if(w()){var a=f(),b=new Map();a.forEach(function(a){a.archiveAtMentionViewedInDrawer=!0,b.set(a.id.toString(),!0)});d("WAWebApiChat").updateChatArchiveDrawer(b)}s.current&&c("WAWebFocusTracer").focus(s.current);a=y();a&&x(a)},[]);var z=function(){e()},A=function(a,b){d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)}),i.enabled||z()},B=function(a){a.preventDefault(),a.stopPropagation(),k.current.setNext(!0)},C=function(a){a.preventDefault(),a.stopPropagation(),k.current.setPrev(!0)},D=function(){return u.map(function(a){return{itemKey:a.id.toString(),chat:a,height:d("WAWebCommunityGatingUtils").shouldShowNewSubgroupIdentity(a.groupMetadata)?d("WAWebChatCommunityUtils").SUBGROUP_V2_CHAT_CELL_HEIGHT:void 0}})};k.current.init(u,!0);var E;if(t()){t=h._("__JHASH__mr-G7SkLOWq__JHASH__",[h._implicitParam("=m2",l.jsx("span",{className:"x117nqv4",children:h._("__JHASH__RcpovFgViWh__JHASH__")}))]);var F=h._("__JHASH__EDLaLyXUlTJ__JHASH__",[h._implicitParam("=m2",l.jsx("span",{className:"x117nqv4",children:h._("__JHASH__d_gqvp1JFMj__JHASH__")}))]);E=l.jsx("div",{className:(j||(j=c("stylex")))(p.persistentHeaderContainer,d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&p.persistentHeaderContainerBackgroundOverride),children:l.jsx("div",{className:"x1yrsyyn x4uap5 x10b6aqq xkhd6sd",children:l.jsx("div",{className:"x1yrsyyn xmns6w2 x10b6aqq xpkgp8e x1yc453h",children:l.jsx(d("WAWebWDSText.react").WDSTextMuted,{as:"p",children:g?t:F})})})})}if(u.length>0){t={down:B,up:C};F=l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:s,handlers:t,children:[E,l.jsx(r,{className:"x6ikm8r x10wlt62",data:D(),flatListController:a.current,direction:"vertical",renderItem:function(a){return l.jsx(q,{chat:a.chat,mode:d("WAWebChat.react").Mode.LAST,active:k.current,onClick:A,hideArchivedIcon:i.enabled,hideMuteIcon:w(),hideMuteOption:w(),ephemeralIcon:"chat-list",showCommunityInfo:!0})}})]})}else F=l.jsx(d("WAWebEmptyState.react").Archived,{});B=i.enabled?h._("__JHASH__TQ2BuCO_4ej__JHASH__"):h._("__JHASH__IkojJE167d4__JHASH__");return l.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"archived",children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:B,onBack:z,type:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE,menu:null}),l.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[a.current],children:F})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebArchivedFlow.react",["$InternalEnum","WAWebArchivedDrawer.react","WAWebSettingsModel","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["Chats"]);function a(a){a=a.onEnd;a=d("useWAWebFlow").useFlow(j.Chats,{transitions:d("useWAWebFlow").FlowTransitions.DrawerLeft,onEnd:a});var b=a[0],e=a[1];if(e.step==null)return null;var f;switch(e.step){case j.Chats:f=i.jsx(c("WAWebArchivedDrawer.react"),{settings:c("WAWebSettingsModel"),onClose:function(){e.pop()}});break}return i.jsx(b,{flow:e,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAttachMediaFlow.react",["WAWebApiPrepareCtwaContextSend","WAWebAttachMediaModel","WAWebAttachMenuGatingUtils","WAWebBizBotTosUtils","WAWebCmd","WAWebComposeBoxActions","WAWebDrawerManager","WAWebFlowComponent_DEPRECATED.react","WAWebMediaEditor.react","WAWebPrepareMessageSendingAction","WAWebUA","WAWebUim","asyncToGeneratorRuntime","lodash","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var c,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=e=a.call.apply(a,[this].concat(g))||this,e.$AttachMediaFlow2=function(a){e.$AttachMediaFlow1=a},e.$AttachMediaFlow3=function(a){a===void 0&&(a=!0),a&&e.$AttachMediaFlow5(),e.props.onComplete==null?void 0:e.props.onComplete(!1),e.props.onCancel==null?void 0:e.props.onCancel(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.$AttachMediaFlow4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});var c=e.props.chat;yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(c);b=b;var f=b.initCaptionUsed,g=b.isViewOnce;d("WAWebCmd").Cmd.once("ui_idle",function(){a.forEach(function(a,b){var f=a.media,h={};b===0&&(h.quotedMsg=c.composeQuotedMsg,c.composeQuotedMsg=null);h.type=f.type;h.isViewOnce=g;h.mentionedJidList=a.mentionedJidList;h.groupMentions=a.groupMentions;h.caption=f.caption;h.addEvenWhilePreparing=f.previewable&&f.state===d("WAWebAttachMediaModel").ATTACH_MEDIA_STATE.PROCESSING;if((b=e.props.initCaption)==null?void 0:b.ctwaContextLinkData){a=e.props.initCaption;b=a.ctwaContextLinkData;a=a.ctwaContext;h.ctwaContext=d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(b,a)}f.sendToChat(c,h)}),e.$AttachMediaFlow5()});e.props.onComplete==null?void 0:e.props.onComplete(!0,{initCaptionUsed:f});e.props.onSend==null?void 0:e.props.onSend();e.props.mediaCollection.mediaPickerStatsLogger.logSend({isViewOnce:!!g});d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabled()&&d("WAWebCmd").Cmd.closeExpressionPanels();e.end()});return function(b,c){return a.apply(this,arguments)}}(),e.setText=function(a){a!=null&&d("WAWebCmd").Cmd.once("ui_idle",function(){d("WAWebComposeBoxActions").ComposeBoxActions.paste(e.props.chat,a)}),e.end()},e.$AttachMediaFlow5=function(){e.props.chat&&e.props.chat.setAttachMediaContents(null)},e.handleRequestDismiss=function(b){var c;if(!((c=e.$AttachMediaFlow1)==null?void 0:c.handleRequestDismiss(b)))return;b===d("WAWebUim").DismissReason.UIM_INTERACTION&&e.$AttachMediaFlow3(!1);a.prototype.handleRequestDismiss.call(babelHelpers.assertThisInitialized(e))},c)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.componentDidMount=function(){d("WAWebCmd").Cmd.closeContextMenu(),d("WAWebCmd").Cmd.closeTooltip(),d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),this.push(i.jsx(d("WAWebMediaEditor.react").MediaEditor,{theme:d("WAWebMediaEditor.react").MediaTheme.ATTACH,ref:this.$AttachMediaFlow2,chat:this.props.chat,onClose:this.$AttachMediaFlow3,initCaption:this.props.initCaption,onSendMedia:c("lodash").once(this.$AttachMediaFlow4),mediaCollection:this.props.mediaCollection,onDropText:c("lodash").once(this.setText),sendAsSticker:this.props.sendAsSticker})),void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(this.props.chat)};f.componentWillUnmount=function(){var a=this;d("WAWebUA").UA.isGecko?c("lodash").defer(function(){return d("WAWebComposeBoxActions").ComposeBoxActions.focus(a.props.chat)}):d("WAWebComposeBoxActions").ComposeBoxActions.focus(this.props.chat)};return e}(c("WAWebFlowComponent_DEPRECATED.react"));g["default"]=a}),98);
__d("WAWebVcardConfirmModal.react",["fbt","WAWebChatFlowTypes","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFrontendVcardUtils","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebRound.react","WAWebSendIcon","WAWebVcardModalDetails.react","WAWebVcardParsingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){a=a.contact;a=d("WAWebVcardParsingUtils").parseVcard(a.vcard);return!a?null:j.jsx("div",{className:"x1n2onr6 xyorhqc x150wa6m x1bnvlk4",children:j.jsx(c("WAWebVcardModalDetails.react"),{parsedVcard:a,thumbnail:d("WAWebVcardParsingUtils").vcardThumbnail(a)})})}k.displayName=k.name+" [from "+f.id+"]";b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.contactList,f=a.onSend,g=a.onBack;a=a.chat;var i;if(a.kind!=null)switch(a.kind){case d("WAWebChatFlowTypes").ChatKindType.Chat:i=h._("__JHASH__b19P9ZWJTdc__JHASH__",[h._plural(e.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Group:i=h._("__JHASH__ymsAh415LSe__JHASH__",[h._plural(e.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Broadcast:i=h._("__JHASH__T2YHOBspucK__JHASH__",[h._plural(e.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Community:case d("WAWebChatFlowTypes").ChatKindType.Newsletter:break}a=i!=null?j.jsx(d("WAWebEmojiText.react").EmojiText,{text:i,direction:"auto",titlify:!0,ellipsify:!0}):null;return j.jsx(d("WAWebModal.react").Modal,{ref:b,type:d("WAWebModal.react").ModalTheme.Box,children:j.jsxs(c("WAWebDrawer.react"),{children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onBack:g,children:a}),j.jsx(c("WAWebDrawerBody.react"),{children:j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{children:j.jsx("div",{className:"x889kno",children:e.map(function(a,b){return j.jsx(k,{contact:d("WAWebFrontendVcardUtils").vcardFromContactModel(a)},b.toString())})})})}),j.jsx("div",{className:"x1n2onr6 xa1v5g2 x1x0gksc x11doyns",children:j.jsx("div",{className:"x10l6tqk x1a87ojn x3h4tne",children:j.jsx(d("WAWebRound.react").Round,{large:!0,onClick:f,children:j.jsx(d("WAWebSendIcon").SendIcon,{directional:!0})})})})]})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebAttachVcardsFlow.react",["fbt","$InternalEnum","WAWebBizBotTosUtils","WAWebLidContactsGatingUtils","WAWebSelectModal.react","WAWebSendContactsAction","WAWebServerPropsModel","WAWebVcardConfirmModal.react","asyncToGeneratorRuntime","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef,m=b("$InternalEnum").Mirrored(["Select","Confirm"]);function a(a){var e=d("useWAWebFlow").useFlow(m.Select),f=e[0],g=e[1],i=l([]);if(g.step==null)return null;var j;switch(g.step){case m.Select:e=function(a){g.push(m.Confirm),i.current=a};var n=function(){return i.current},o=d("WAWebServerPropsModel").ServerProps.maxParticipants;j=k.jsx(d("WAWebSelectModal.react").SelectModal,{title:h._("__JHASH__0FKlgfRZkxG__JHASH__"),onCancel:function(){a.onCancel(),g.pop()},onConfirm:e,getInitialItems:n,listType:d("WAWebSelectModal.react").ListType.ContactSelectModal,maxItems:o,includeLidContacts:d("WAWebLidContactsGatingUtils").isLidVcardSharingEnabled(),allowBlockedContacts:!0});break;case m.Confirm:var p=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e;g.end();var f=a.chat;yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(f);var h=f.composeQuotedMsg;f.composeQuotedMsg=null;e=((e=f.getComposeContents())==null?void 0:e.ctwaContext)||void 0;void c("WAWebSendContactsAction")(b,f,h,e);a.onContactsSent()});return function(a){return e.apply(this,arguments)}}();j=k.jsx(c("WAWebVcardConfirmModal.react"),{contactList:i.current,onSend:function(){return void p(i.current)},onBack:function(){g.pop()},chat:a.chat});break}return k.jsx(f,{flow:g,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMultiDeviceIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="multi-device";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=16;m=22;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 22 16",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M3.66667 2.49984H20.1667V0.666504H3.66667C2.65833 0.666504 1.83333 1.4915 1.83333 2.49984V12.5832H0V15.3332H12.8333V12.5832H3.66667V2.49984ZM21.0833 4.33317H15.5833C15.0792 4.33317 14.6667 4.74567 14.6667 5.24984V14.4165C14.6667 14.9207 15.0792 15.3332 15.5833 15.3332H21.0833C21.5875 15.3332 22 14.9207 22 14.4165V5.24984C22 4.74567 21.5875 4.33317 21.0833 4.33317ZM20.1667 12.5832H16.5V6.1665H20.1667V12.5832Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MultiDeviceIcon=a}),98);
__d("WAWebContactMsgInfoDrawer.react",["fbt","WAQplTypes","WAWebAgentCollection","WAWebBizAgentAction","WAWebBizGatingUtils","WAWebChatContactMsgInfoCell.react","WAWebChatPreferenceCollection","WAWebDisplayType","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEphemeralFbtKic","WAWebFrontendMsgGetters","WAWebKeepInChatIcon","WAWebLabelsInfoDrawerLabelWell.react","WAWebMessagePosition","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgPreview.react","WAWebMsgType","WAWebMultiDeviceIcon","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSpinner.react","WAWebStatusDblcheckIcon","WAWebStatusPttIcon","WAWebStatusVideoIcon","WAWebToast.react","WAWebToastManager","WAWebUiActionWamEvent","WAWebUseIsFeatureEnabled","WAWebViewOnceViewedIcon","WAWebWamEnumUiActionType","WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE","WAWebWamPrivateStatsUtils","WAWebWrapper.react","react","useWAWebForceUpdate","useWAWebLazyRef","useWAWebListener","useWAWebMsgValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o={svg:{width:"x1xp8n7a",height:"xmix8c7",$$css:!0},statusBlue:{color:"xy5zui7",$$css:!0},ack:{color:"x1q15gih",$$css:!0}};e=k.forwardRef(a);function a(a,b){var e;a=babelHelpers["extends"]({},a);var f=a.msg;e=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(e=d("WAWebMsgGetters")).getId,e.getStar,e.getType,e.getIsGif,e.getIsViewOnce,e.getLabels,e.getNumTimesForwarded,e.getIsFrequentlyForwarded,e.getAgendId,e.getT,e.getIsMdHistoryMsg,e.getKicSender,e.getKicTimestampMs,e.getIsKept,d("WAWebFrontendMsgGetters").getAsRevoked,e.getLatestEditMsgKey]);var g=e[0];e[1];var i=e[2];e[3];var j=e[4],p=e[5];e[6];e[7];var q=e[8],r=e[9],s=e[10],t=e[11],u=e[12],v=e[13],w=e[14];e=e[15];var x=d("WAWebFrontendMsgGetters").getChat(f),y=c("useWAWebUIM")(),z=c("useWAWebUnmountSignal")(),A=m(null),B=m(null),C=x==null?void 0:x.id,D=c("useWAWebLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:C.isLid()})}),E=n(void 0),F=E[0],G=E[1];E=n(!1);var H=E[0],I=E[1];E=c("useWAWebForceUpdate")();d("useWAWebListener").useListener(F==null?void 0:F.played,["add","remove"],E);d("useWAWebListener").useListener(F==null?void 0:F.read,["add","remove"],E);d("useWAWebListener").useListener(F==null?void 0:F.delivery,["add","remove"],E);w&&(y==null?void 0:y.requestDismiss());d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,"remove",function(a){a.id.equals(g)&&(y==null?void 0:y.requestDismiss())});d("useWAWebListener").useListener(f,"change:latestEditMsgKey",function(){return y==null?void 0:y.requestDismiss()});var J=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");l(function(){var a;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,{annotations:{bool:{is_premium_subscriber:J}}});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_start");d("WAWebMsgInfoCollection").MsgInfoCollection.find(g).then(function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_end");if(z.aborted){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.CANCEL);return}G(a);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.FAIL),I(!0),d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__7Oc8AbKOOJ2__JHASH__"),id:d("WAWebToast.react").genId("msg_info_failed")}))});a=(a=A.current)==null?void 0:a.getContainer();i===d("WAWebMsgType").MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight)},[e]);l(function(){var a=D.current;a&&(Object.assign(a,d("WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE").getGroupCountMetricsFromChatWid(x==null?void 0:x.id)),a.markUiActionT(),a.commit(),D.current=void 0);d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents();d("WAWebBizAgentAction").logMessageInfo(q)},[]);E=function(a,b){b===void 0&&(b=!1);return a===g&&(b?!0:(a=B.current)==null?void 0:a.getMsgComponentRef())};w=function(){y==null?void 0:y.requestDismiss()};var K,L;if(F){e=[];if(v&&t!=null&&u!=null){v=u/1e3;u=d("WAWebEphemeralFbtKic").getKeptByString(t);t=k.jsx("span",{className:"x1rg5ohu x1xp8n7a x1emribx xq22nx5 x2b8uid xmziwt1",children:k.jsx(d("WAWebKeepInChatIcon").KeepInChatIcon,{iconXstyle:o.svg})});e.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:u,t:v,icon:t},"keep-in-chat"))}if(!s){u=d("WAWebMsgGetters").getIsAckPlayable(f);if(u||j){L=u?h._("__JHASH__Qa0i-ERxDlE__JHASH__"):h._("__JHASH__SN5hR4eRqbJ__JHASH__");v=F.played.head();t=v==null?void 0:v.t;s=k.jsx(d("WAWebViewOnceViewedIcon").ViewOnceViewedIcon,{xstyle:o.statusBlue,iconXstyle:o.svg});u&&!j&&(f.type===d("WAWebMsgType").MSG_TYPE.PTT?s=k.jsx(d("WAWebStatusPttIcon").StatusPttIcon,{xstyle:o.statusBlue,iconXstyle:o.svg}):f.type===d("WAWebMsgType").MSG_TYPE.PTV&&(s=k.jsx(d("WAWebStatusVideoIcon").StatusVideoIcon,{xstyle:o.statusBlue,iconXstyle:o.svg})));v=k.jsx("span",{className:"x1rg5ohu x1xp8n7a x1emribx xq22nx5 x2b8uid xmziwt1",children:s});e.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:u&&!j?h._("__JHASH__itnUQY2nXDN__JHASH__"):h._("__JHASH__BfYDsML-wCA__JHASH__"),t:t,icon:v},"played"))}s=F.read.head();u=s==null?void 0:s.t;j=k.jsx("span",{className:"x1rg5ohu x1xp8n7a x1emribx xq22nx5 x2b8uid xmziwt1",children:k.jsx(d("WAWebStatusDblcheckIcon").StatusDblcheckIcon,{xstyle:o.ack,iconXstyle:o.svg})});L=(t=L)!=null?t:h._("__JHASH__y_zHyTRLHKF__JHASH__");e.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:L,t:u,icon:j},"read"));v=F.delivery.head();s=v==null?void 0:v.t;t=k.jsx("span",{className:"x1rg5ohu x1xp8n7a x1emribx xq22nx5 x2b8uid xmziwt1",children:k.jsx(d("WAWebStatusDblcheckIcon").StatusDblcheckIcon,{iconXstyle:o.svg})});e.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:h._("__JHASH__9NgBBEkLENG__JHASH__"),t:s,icon:t},"delivery"))}if(J&&d("WAWebBizGatingUtils").isMultiDeviceMessageAttributionEnabled()&&q!=null){v=(j=(u=d("WAWebAgentCollection").AgentCollection.get(q))==null?void 0:u.name)!=null?j:"";s=r;e.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:v,t:s,icon:k.jsx("span",{className:"x1rg5ohu x1xp8n7a x1emribx xq22nx5 x2b8uid xmziwt1",children:k.jsx(d("WAWebMultiDeviceIcon").MultiDeviceIcon,{iconXstyle:o.svg})})},"agent"))}K=k.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:e})}var M;!F&&!H&&(M=k.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xvv2zd5",children:k.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4})},"spinner"));t=null;p&&p.length>0&&d("WAWebBizGatingUtils").canDisplayLabel()&&(t=k.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:k.jsx(c("WAWebLabelsInfoDrawerLabelWell.react"),{labels:p})}));return k.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"striped",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__6ZxqC6H3okB__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,focusBackOrCancel:!0,onCancel:w}),k.jsx(c("WAWebMsgPreview.react"),{ref:A,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),children:k.jsx(d("WAWebWrapper.react").Wrapper,{msg:f,ref:B,displayType:d("WAWebDisplayType").DISPLAY_TYPE.MSG_INFO,isMsgVisible:E,position:d("WAWebMessagePosition").MsgPosition.END,onProductClick:a.onProductClick})}),k.jsxs(c("WAWebDrawerBody.react"),{children:[t,k.jsxs("div",{className:"x2lah0s x889kno x1w3bhph",children:[M,K]})]})]},"message-info-modal")}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebContactMsgInfoFlow.react",["$InternalEnum","WANullthrows","WAWebContactMsgInfoDrawer.react","WAWebFrontendMsgGetters","WAWebProductDetailsFlowLoadable","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["MessageInfo","ProductDetails"]);function a(a){a=a.msg;var b=d("useWAWebFlow").useFlow(l.MessageInfo,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),e=b[0],f=b[1];b=k();var g=b[0],h=b[1];if(f.step==null)return null;var i;switch(f.step){case l.MessageInfo:b=function(a){h(a),f.push(l.ProductDetails)};i=j.jsx(c("WAWebContactMsgInfoDrawer.react"),{msg:a,onProductClick:b});break;case l.ProductDetails:i=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:d("WAWebFrontendMsgGetters").getChat(a),product:c("WANullthrows")(g),onEnd:function(){return f.pop()}});break}return j.jsx(e,{flow:f,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCaptureDrawer.react",["fbt","WAFilteredCatch","WALogger","WANullthrows","WAShiftTimer","WAWebAttachMediaCollection","WAWebBizBotTosUtils","WAWebCameraIcon","WAWebCanvasUtils","WAWebDataUrlToBlob","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFileUtils","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMediaEditor.react","WAWebMediaOpaqueData","WAWebMiscErrors","WAWebModalManager","WAWebObjectFit.react","WAWebReturnIcon","WAWebRound.react","WAWebSpinner.react","WAWebVelocityTransitionGroup","WAWebVideo.react","WAWebWamEnumMediaPickerOriginType","WAWebWamMediaPickerStatsLogger","asyncToGeneratorRuntime","react","stylex","useWAWebLazyRef","useWAWebStableCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["captureDrawer:render Unhandled video capture state ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["CaptureDrawer:onCapture can not get 2d context"]);o=function(){return a};return a}e=k||d("react");var p=i||(i=c("react")),q=e.useEffect,r=e.useImperativeHandle,s=e.useRef,t=e.useState,u={video:{width:"xh8yej3",height:"x5yr21d",opacity:"x1hc1fzr",transitionProperty:"x19991ni",transitionDuration:"x1d8287x",transitionTimingFunction:"x1j7uda5",transform:"xpk2tj9",transformOrigin:"x1bndym7",$$css:!0},videoInactive:{opacity:"xg01cxk",$$css:!0},videoContainer:{zIndex:"xhtitgo",width:"xh8yej3",height:"x5yr21d",$$css:!0}},v="CAPTURE_MEDIA",w={ANIMATING:"ANIMATING",LOADING:"LOADING",RECORDING:"RECORDING",SENDING:"SENDING"},x=function(a){if(a.current==null)return;window.URL.revokeObjectURL(a.current);a.current=null};e=p.forwardRef(a);function a(a,e){var f=babelHelpers["extends"]({},a),g=f.chat,i=f.disposeStream,k=f.onCaptured,y=f.onBack,z=f.onSend;a=h._("__JHASH__oIv2srgU-uj__JHASH__");var A=s(null),B=s(null),C=s(null),D=s(null),E=t(void 0),F=E[0],G=E[1];E=t(void 0);var H=E[0],I=E[1];E=t(w.ANIMATING);var J=E[0],K=E[1];E=t(void 0);var L=E[0],M=E[1],N=c("useWAWebStableCallback")(function(a,b){if(!a){J===w.ANIMATING&&K(w.LOADING);return}B.current==null?void 0:B.current();B.current=b;K(w.LOADING);M(a);d("WAWebMediaCapture").isSrcObjectInVideoElement()||(a?(x(C),C.current=window.URL.createObjectURL(a)):x(C))}),O=c("useWAWebLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(a){var b=a.stream;a=a.disposeStream;N(b,a)})}),P=c("useWAWebLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(a){var b=a.stream;a=a.disposeStream;b&&a&&(B.current==null?void 0:B.current());d("WAWebMediaCapture").isSrcObjectInVideoElement()||x(C)})}),Q=function(){g&&g.setAttachMediaContents(null)},R=c("useWAWebUnmountSignal")();q(function(){O.current.onOrBefore(300,{stream:f.stream,disposeStream:f.disposeStream});return function(){O.current.cancel(),x(C),i==null?void 0:i(),A.current&&A.current.logCancel(),Q()}},[]);var S=function(a,b){O.current.forceRunNow({stream:a,disposeStream:b})};r(e,function(){return{loadNewStreamTimerUpdate:S,loadNewStream:N}});E=function(){var a;a=(a=D.current)==null?void 0:a.underlyingVideo();if(!a)return;var b=document.createElement("canvas");b.height=a.videoHeight;b.width=a.videoWidth;var e=b.getContext("2d");if(!e){d("WALogger").WARN(o());return}e.translate(b.width,0);e.scale(-1,1);e.drawImage(a,0,0,a.videoWidth,a.videoHeight);if(k)void d("WAWebCanvasUtils").canvasToBlob(b).then(function(a){if(R.aborted)return;k(a)});else{P.current.onOrBefore(500,{stream:L,disposeStream:i});e=new(d("WAWebWamMediaPickerStatsLogger").MediaPickerStatsLogger)();e.logAdd(v,"image",d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE);e.chatRecipients=(g==null?void 0:g.groupMetadata)?g.groupMetadata.participants.length:1;A.current=e;a=b.toDataURL("image/jpeg");e=d("WAWebDataUrlToBlob").dataURLtoBlob(a);if(g){g.attachMediaContents||g.setAttachMediaContents(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:g.getParticipantCount()}));b=c("WANullthrows")(g.attachMediaContents);b.processAttachments([{file:d("WAWebFileUtils").createFile([e],"",{type:"image/jpeg"})}],void 0,g)}G(a);K(w.SENDING);M(void 0)}};e=function(a){K(w.RECORDING),I({width:a.videoWidth,height:a.videoHeight})};var T=function(){K(w.LOADING);Q();var a=d("WAWebMediaCapture").start("camera"),b=a.asyncStream;a=a.disposeStream;B.current=a;b.then(function(a){a&&(d("WAWebMediaCapture").isSrcObjectInVideoElement()||(C.current=window.URL.createObjectURL(a)),M(a))})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){y(),d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){y(),d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}))}))},U=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){g&&(yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(g));b=(b==null?void 0:b.isViewOnce)===!0;if(!z)d("WALogger").ERROR(n()).sendLogs("capture-drawer-no-onSend");else if(a.length===0)d("WALogger").ERROR(m()).sendLogs("capture-drawer-no-img");else{a=c("WANullthrows")(a[0]);var e=a.media,f=a.mentionedJidList;a=a.groupMentions;var h=e.file;if(h instanceof Blob){z({getImg:c("WAWebMediaOpaqueData").createFromData(h,h.type),caption:(h=e.caption)!=null?h:void 0,isViewOnce:!!b,mentionedJidList:f,groupMentions:a});(e=A.current)==null?void 0:e.logSend({isViewOnce:!!b})}Q()}});return function(b,c){return a.apply(this,arguments)}}(),V,W,X,Y,Z=f.theme==="capture-cover"?"cover":"contain";switch(J){case w.ANIMATING:case w.LOADING:Y=p.jsx(d("WAWebSpinner.react").Spinner,{stroke:4,size:50});if(J===w.ANIMATING)break;case w.RECORDING:var $=(j||(j=c("stylex")))(u.video,L&&J===w.LOADING&&u.videoInactive);e=L?p.jsx(c("WAWebVideo.react"),{autoPlay:!0,ref:D,onPlay:e,src:C.current!=null?C.current:void 0,srcObject:C.current!=null?void 0:L}):null;X=L?p.jsx("div",{className:"xh8yej3 x5yr21d",children:p.jsx(c("WAWebObjectFit.react"),{type:Z,size:H,children:p.jsx("div",{className:$,"data-animage-capture-webcam":!0,children:e})})},"webcam"):null;V=J===w.RECORDING?p.jsx("div",{className:"x10l6tqk x2rgi xtzzx4i xd8oflk xg01cxk",children:p.jsx(d("WAWebRound.react").Round,{large:!0,label:a,onClick:E,children:p.jsx(d("WAWebCameraIcon").CameraIcon,{})})},"btn-capture"):null;break;case w.SENDING:X=p.jsx(c("WAWebObjectFit.react"),{type:Z,size:H,children:p.jsx("img",{alt:"",className:"x10l6tqk xh8yej3 x5yr21d xqcmdr3 xxkxylk","data-animate-capture-snapshot":!0,src:F})});if(g){$=c("WANullthrows")(g.attachMediaContents);X=p.jsx(d("WAWebMediaEditor.react").MediaEditor,{theme:d("WAWebMediaEditor.react").MediaTheme.CAPTURE,chat:g,initCaption:null,mediaCollection:$,onDropText:function(){},onSendMedia:U})}W=p.jsxs("div",{className:"x78zum5 x6s0dn4 x1ypdohk",onClick:T,children:[p.jsx("div",{className:"x2lah0s x1w0mnb x7o08j2",children:p.jsx(d("WAWebReturnIcon").ReturnIcon,{})}),h._("__JHASH__gzo29kra-Qa__JHASH__")]});break;default:d("WALogger").LOG(l(),J)}e=p.jsx("div",{className:"x1n2onr6 xhtitgo x9f619 x78zum5 x6s0dn4 xl56j7k x5sx7kw xexx8yu xc73u3c x10b6aqq x5ib6vp x1m8r95a",children:p.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop_delay",children:V})});return p.jsxs(c("WAWebDrawer.react"),{theme:f.theme,tsNavigationData:{surface:"camera"},children:[p.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.OFFSET,focusBackOrCancel:!0,onCancel:f.onBack,children:W}),p.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[p.jsxs("div",{className:"x1n2onr6 x78zum5 x1iyjqo2 x6s0dn4 xl56j7k xh8yej3",children:[Y,p.jsx("div",{className:"x10l6tqk x13vifvy x17qophe x78zum5 xdt5ytf x6s0dn4 xh8yej3 x5yr21d",children:p.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"capture",xstyle:u.videoContainer,children:X})})]}),e]})]},"attach-capture-modal")}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebEditCaptureFlow.react",["fbt","$InternalEnum","WAFilteredCatch","WANullthrows","WAWebCaptureDrawer.react","WAWebEditImageDrawer.react","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMiscErrors","WAWebModal.react","WAWebModalManager","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Capture","Guide","EditImage"]);function a(a){var b=n(null),e=b[0],f=b[1],g=m(null),i=m();b=d("useWAWebFlow").useFlow(o.Capture);var j=b[0],p=b[1],q=function(){i.current==null?void 0:i.current();var a=d("WAWebMediaCapture").start("camera",function(){return p.push(o.Guide,"modal")},5e3),b=a.asyncStream,c=a.disposeStream;i.current=c;b.then(function(a){g.current||p.pop("modal"),a&&g.current&&g.current.loadNewStream(a,c)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){p.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){p.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}))}))};l(function(){q();return function(){i.current==null?void 0:i.current()}},[]);if(p.step==null)return null;var r;switch(p.step){case o.Capture:b=function(a){f(a),p.push(o.EditImage,"flow-transition-box-size-drawer-push")};r=k.jsx(d("WAWebModal.react").Modal,{type:a.modalTheme||d("WAWebModal.react").ModalTheme.Box,ariaLabel:h._("__JHASH__oIv2srgU-uj__JHASH__"),testid:void 0,children:k.jsx(c("WAWebCaptureDrawer.react"),{ref:g,stream:void 0,disposeStream:void 0,caption:!1,theme:"capture-cover",onBack:function(){return p.end()},onSend:null,onCaptured:b,chat:void 0})});break;case o.Guide:r=k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_ALLOW,onConfirm:function(){return p.pop("modal")}});break;case o.EditImage:b=function(){p.pop("flow-transition-box-size-drawer-pop"),q()};var s=function(b,c){a.onFinished(b,c),p.end()};r=k.jsx(d("WAWebModal.react").Modal,{type:a.modalTheme||d("WAWebModal.react").ModalTheme.Box,children:k.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onRetake:b,retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.RETAKE,onFinished:s,onCancel:function(){return p.end()},img:c("WANullthrows")(e),cropShape:a.editCropShape})})}return k.jsx(j,{flow:p,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoSections",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["DELIVERED_FOOTER","DELIVERED_HEADER","FORWARD_COUNT","PLAYED_FOOTER","PLAYED_HEADER","READ_FOOTER","READ_HEADER","SEEN_FOOTER","SEEN_HEADER","VIEWED_FOOTER","VIEWED_HEADER","AGENT_HEADER","KEEP_IN_CHAT_HEADER"]);f.Sections=a}),66);
__d("useWAWebMsgInfoValues",["WAWebMsgInfoCollection","useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useCollectionValues(d("WAWebMsgInfoCollection").MsgInfoCollection,a,b)}g.useMsgInfoValues=a}),98);
__d("WAWebGroupMsgInfoSectionFooter.react",["fbt","WALogger","WAWebGroupMsgInfoSections","WAWebMsgInfoGetters","WAWebWDSText.react","react","useWAWebMsgInfoValues"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid SECTION for group message info section footer"]);j=function(){return a};return a}var k=i||c("react");function a(a){var b=a.msgInfo;a=a.section;b=d("useWAWebMsgInfoValues").useMsgInfoValues(b.id,[d("WAWebMsgInfoGetters").getPlayedRemaining,d("WAWebMsgInfoGetters").getReadRemaining,d("WAWebMsgInfoGetters").getDeliveryRemaining]);var c=b[0],e=b[1];b=b[2];var f,g;switch(a){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_FOOTER:case d("WAWebGroupMsgInfoSections").Sections.VIEWED_FOOTER:f=c;g=c;break;case d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER:case d("WAWebGroupMsgInfoSections").Sections.SEEN_FOOTER:f=e;g=e;break;case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER:f=b;g=b;break;default:d("WALogger").ERROR(j());return null}if(f==null||f===0)return null;a=h._("__JHASH__CbgEK68DWQW__JHASH__",[h._plural(g,"count")]);return k.jsx("div",{"data-testid":void 0,className:"x1yrsyyn x6x52a7 x1g2khh7 xxpdul3 x150wa6m x1bnvlk4",children:k.jsx(d("WAWebWDSText.react").WDSTextMuted,{as:"span",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoDrawer.react",["fbt","WALogger","WANullthrows","WAWebAgentCollection","WAWebBizAgentAction","WAWebBizGatingUtils","WAWebChatAgentMsgInfoCell.react","WAWebChatGroupMsgInfoCell.react","WAWebChatKeptByMsgInfoCell.react","WAWebChatPreferenceCollection","WAWebContactCollection","WAWebDisplayType","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebElevatedPushNamesFlag","WAWebFlatList.react","WAWebFlatListController","WAWebFrontendMsgGetters","WAWebGroupMetadataCollection","WAWebGroupMsgInfoSectionFooter.react","WAWebGroupMsgInfoSections","WAWebKeepInChatIcon","WAWebLabelsInfoDrawerLabelWell.react","WAWebMessagePosition","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgPreview.react","WAWebMsgType","WAWebMultiDeviceIcon","WAWebRow.react","WAWebSpinner.react","WAWebStatusDblcheckIcon","WAWebStatusPttIcon","WAWebStatusVideoIcon","WAWebToast.react","WAWebToastManager","WAWebUiActionWamEvent","WAWebUseIsFeatureEnabled","WAWebUserPrefsMeUser","WAWebViewOnceViewedIcon","WAWebWDSText.react","WAWebWamAddressingModeUtils","WAWebWamEnumUiActionType","WAWebWamGroupMetricUtils","WAWebWamPrivateStatsUtils","WAWebWrapper.react","react","useWAWebForceUpdate","useWAWebLazyRef","useWAWebListener","useWAWebMsgValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid SECTION for group message info section header"]);k=function(){return a};return a}b=j||d("react");var l=i||(i=c("react"));e=b.forwardRef;var m=b.useEffect,n=b.useRef,o=b.useState,p={svg:{width:"x1xp8n7a",height:"xmix8c7",$$css:!0},statusBlue:{color:"xy5zui7",$$css:!0},ack:{color:"x1q15gih",$$css:!0}},q=50,r=50,s=d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT+10,t=d("WAWebFlatList.react").FlatListFactory();function u(a){var b=a.participant;a=a.elevatedPushNamesEnabled;return l.jsx(c("WAWebChatGroupMsgInfoCell.react"),{msgInfoParticipant:b,contact:b.contact,elevatedPushNamesEnabled:a,theme:"drawer-list"})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.msg;a=a.agentName;return l.jsx(c("WAWebChatAgentMsgInfoCell.react"),{msg:b,agentName:a,theme:"drawer-list"})}v.displayName=v.name+" [from "+f.id+"]";function w(a){return d("WAWebContactCollection").ContactCollection.assertGet(a)}function x(a){a=a.msg;var b=d("WAWebMsgGetters").getKicSender(a);if(b!=null){b=w(b);return l.jsx(c("WAWebChatKeptByMsgInfoCell.react"),{kicTimestampMs:a.kicTimestampMs,contact:b,theme:"drawer-list"})}}function y(a){var b=a.section;a=a.msg;var e,f;switch(b){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:f=a.type===d("WAWebMsgType").MSG_TYPE.PTV?l.jsx(d("WAWebStatusVideoIcon").StatusVideoIcon,{xstyle:p.statusBlue,iconXstyle:p.svg}):l.jsx(d("WAWebStatusPttIcon").StatusPttIcon,{xstyle:p.statusBlue,iconXstyle:p.svg});e=h._("__JHASH__AP0qxXOIn-5__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.READ_HEADER:f=l.jsx(d("WAWebStatusDblcheckIcon").StatusDblcheckIcon,{xstyle:p.ack,iconXstyle:p.svg});e=h._("__JHASH__xJiKcZN6tI2__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:f=l.jsx(d("WAWebStatusDblcheckIcon").StatusDblcheckIcon,{xstyle:p.ack,iconXstyle:p.svg});e=a.isViewOnce?h._("__JHASH__oOoKvSHPyyX__JHASH__"):h._("__JHASH__ycel2ZWWS7x__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER:f=l.jsx(d("WAWebStatusDblcheckIcon").StatusDblcheckIcon,{iconXstyle:p.svg});e=h._("__JHASH__P9P0UHc43lP__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER:f=l.jsx(d("WAWebViewOnceViewedIcon").ViewOnceViewedIcon,{xstyle:p.statusBlue,iconXstyle:p.svg});e=h._("__JHASH__SZQ1d0VCh5d__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER:f=l.jsx(d("WAWebMultiDeviceIcon").MultiDeviceIcon,{iconXstyle:p.svg});e=h._("__JHASH__X4PWOvced5F__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER:f=l.jsx(d("WAWebKeepInChatIcon").KeepInChatIcon,{iconXstyle:p.svg});e=h._("__JHASH__x50cpi-6y_F__JHASH__");break;default:d("WALogger").ERROR(k());return null}f=l.jsx("div",{className:"x1rg5ohu x1xp8n7a x1qx5ct2 xq22nx5 x2b8uid x16dsc37",children:f});return l.jsx("div",{"data-testid":void 0,className:"xyinxu5 x6x52a7 x1l90r2v xxpdul3 x150wa6m",children:l.jsx(c("WAWebRow.react"),{side:f,ellipsify:!0,children:l.jsx(d("WAWebWDSText.react").WDSTextSectionTitle,{as:"span",children:e})})})}y.displayName=y.name+" [from "+f.id+"]";function z(a){var b=a.data,e=a.msg;a=a.msgInfo;if(b.kind==="contact-row")return l.jsx(u,{participant:b.participant,elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(d("WAWebFrontendMsgGetters").getChat(e))});if(b.kind==="agent-row")return l.jsx(v,{msg:e,agentName:b.agentName});if(b.kind==="kept-by-row")return l.jsx(x,{msg:e});switch(b.type){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.READ_HEADER:case d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER:case d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER:return l.jsx(y,{msg:e,section:b.type});default:return l.jsx(c("WAWebGroupMsgInfoSectionFooter.react"),{section:b.type,msgInfo:c("WANullthrows")(a)})}}function a(a,b){var e,f=a.msg;e=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(e=d("WAWebMsgGetters")).getId,e.getStar,e.getType,e.getIsGif,e.getIsViewOnce,e.getLabels,e.getNumTimesForwarded,e.getIsFrequentlyForwarded,e.getAgendId,e.getKicSender,e.getKicTimestampMs,e.getIsKept,d("WAWebFrontendMsgGetters").getAsRevoked,e.getLatestEditMsgKey]);var g=e[0];e[1];var i=e[2];e[3];var j=e[4],k=e[5];e[6];e[7];var p=e[8],u=e[9];e[10];var v=e[11],w=e[12];e[13];var x=d("WAWebFrontendMsgGetters").getChat(f),y=c("useWAWebUnmountSignal")(),A=c("useWAWebUIM")(),B=c("useWAWebLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0})});e=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()});var C=n(null),D=n(null),E=o(void 0),F=E[0],G=E[1];E=o(!1);var H=E[0],I=E[1];m(function(){var a;d("WAWebMsgInfoCollection").MsgInfoCollection.find(g).then(function(a){if(y.aborted)return;G(a)})["catch"](function(){I(!0),d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__7Oc8AbKOOJ2__JHASH__"),id:d("WAWebToast.react").genId("msg_info_failed")}))});a=(a=C.current)==null?void 0:a.getContainer();i===d("WAWebMsgType").MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight)},[]);m(function(){var a=B.current;if(a){var b=c("WAWebGroupMetadataCollection").get(x.id),e=b==null?void 0:b.cachedDeviceSizeBucket;e!=null&&(a.sizeBucket=e);b!=null&&Object.assign(a,d("WAWebWamGroupMetricUtils").getGroupCountMetricsFromGroupMetadata(b),d("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(b));a.markUiActionT();a.commit();B.current=void 0}d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents();d("WAWebBizAgentAction").logMessageInfo(p)},[]);var J=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");E=function(a,b){b===void 0&&(b=!1);return a===g&&(b?!0:(a=D.current)==null?void 0:a.getMsgComponentRef())};var K=function(){A==null?void 0:A.requestDismiss()},L=function(){var a=[];F&&v&&u!=null&&(a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER,height:r}),a.push({kind:"kept-by-row",itemKey:"kept-by-"+u.user,height:s}));if(J&&d("WAWebBizGatingUtils").isMultiDeviceMessageAttributionEnabled()&&p!=null){var b;b=(b=(b=d("WAWebAgentCollection").AgentCollection.get(p))==null?void 0:b.name)!=null?b:"";a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER,height:r});a.push({kind:"agent-row",agentName:b,itemKey:"agent-"+b.toString(),height:s})}b=d("WAWebMsgGetters").getIsAckPlayable(f);var c=b||j;if(F&&c){var e=b&&!j?d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER;a.push({kind:"section",type:e,itemKey:e,height:r});a.push.apply(a,F.played.map(function(a){return{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}));F.playedRemaining>0&&(e=b&&!j?d("WAWebGroupMsgInfoSections").Sections.PLAYED_FOOTER:d("WAWebGroupMsgInfoSections").Sections.VIEWED_FOOTER,a.push({kind:"section",type:e,itemKey:e,height:q}))}F&&(F.read.length>0||F.playedRemaining>0)&&(a.push({kind:"section",type:c?d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:d("WAWebGroupMsgInfoSections").Sections.READ_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.READ_HEADER,height:r}),a.push.apply(a,F.read.map(function(a){var b;return((b=f.invokedBotWid)==null?void 0:b.isBot())&&d("WAWebUserPrefsMeUser").isMeAccount(a.id)?null:{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}).filter(Boolean)),F.readRemaining>0&&a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER,itemKey:c?d("WAWebGroupMsgInfoSections").Sections.SEEN_FOOTER:d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER,height:q}));F&&(F.delivery.length>0||F.deliveryRemaining>0)&&(a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER,height:r}),a.push.apply(a,F.delivery.map(function(a){var b;return((b=f.invokedBotWid)==null?void 0:b.isBot())&&d("WAWebUserPrefsMeUser").isMeAccount(a.id)?null:{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}).filter(Boolean)),F.deliveryRemaining>0&&a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER,itemKey:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER,height:q}));return a},M=c("useWAWebForceUpdate")();d("useWAWebListener").useListener(F==null?void 0:F.played,["add","remove"],M);d("useWAWebListener").useListener(F==null?void 0:F.read,["add","remove"],M);d("useWAWebListener").useListener(F==null?void 0:F.delivery,["add","remove"],M);w&&(A==null?void 0:A.requestDismiss());d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,"remove",function(a){a.id.equals(g)&&(A==null?void 0:A.requestDismiss())});d("useWAWebListener").useListener(f,"change:latestEditMsgKey",function(){return A==null?void 0:A.requestDismiss()});var N;!F&&!H&&(N=l.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xvv2zd5",children:l.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4})}));M=L();w=M.length?l.jsx(t,{flatListController:e.current,direction:"vertical",forceConsistentRenderCount:!1,data:M,renderItem:function(a){return l.jsx(z,{data:a,msg:f,msgInfo:F})}}):null;H=null;k&&k.length>0&&d("WAWebBizGatingUtils").canDisplayLabel()&&(H=l.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:l.jsx(c("WAWebLabelsInfoDrawerLabelWell.react"),{labels:k})}));return l.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"striped",children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__6ZxqC6H3okB__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:K,focusBackOrCancel:!0}),l.jsx(c("WAWebMsgPreview.react"),{ref:C,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),children:l.jsx(d("WAWebWrapper.react").Wrapper,{msg:f,ref:D,displayType:d("WAWebDisplayType").DISPLAY_TYPE.MSG_INFO,isMsgVisible:E,position:d("WAWebMessagePosition").MsgPosition.END,onProductClick:a.onProductClick})}),l.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[e.current],children:[H,N,l.jsx("div",{className:"x889kno x1t4gjm",children:w})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("WAWebGroupMsgInfoFlow.react",["$InternalEnum","WANullthrows","WAWebFrontendMsgGetters","WAWebGroupMsgInfoDrawer.react","WAWebProductDetailsFlowLoadable","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["GroupMessageInfo","ProductDetails"]);function a(a){a=a.msg;var b=d("useWAWebFlow").useFlow(l.GroupMessageInfo,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),e=b[0],f=b[1];b=k();var g=b[0],h=b[1];if(f.step==null)return null;var i;switch(f.step){case l.GroupMessageInfo:b=function(a){h(a),f.push(l.ProductDetails)};i=j.jsx(c("WAWebGroupMsgInfoDrawer.react"),{msg:a,onProductClick:b});break;case l.ProductDetails:i=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:d("WAWebFrontendMsgGetters").getChat(a),product:c("WANullthrows")(g),onEnd:function(){return f.pop()}});break}return j.jsx(e,{flow:f,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebGroupsV4InviteAddComment.react",["fbt","WAWebChatInviteWithCommentModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){var d=a.gid;a.groupDesc;var e=a.onClose,f=a.onSend,g=a.participants;a=a.subject;return j.jsx(c("WAWebChatInviteWithCommentModal.react"),{ref:b,onClose:e,onSend:f,wid:d,invitees:g.map(function(a){return a.contact}),chatName:a,initialInviteComment:h._("__JHASH__-DY4gyzswGw__JHASH__"),chatNameSubtitle:h._("__JHASH__-MKYnzTW4lu__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";d=b;g["default"]=d}),226);
__d("WAWebGroupsV4InviteFlow.react",["fbt","Promise","WAWebChatSendMessages","WAWebConfirmPopup.react","WAWebFbtIntlList","WAWebFindChatAction","WAWebFlowComponent_DEPRECATED.react","WAWebFrontendContactGetters","WAWebGroupMetadataCollection","WAWebGroupsV4InviteAddComment.react","WAWebModalManager","WAWebName.react","WAWebSendMsgResultAction","WAWebToast.react","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var e,f;for(var g=arguments.length,j=new Array(g),l=0;l<g;l++)j[l]=arguments[l];return(e=f=a.call.apply(a,[this].concat(j))||this,f.$GroupsV4InviteFlow5=function(a,e){a===void 0&&(a=""),d("WAWebModalManager").ModalManager.close(),(i||(i=b("Promise"))).all(f.props.participantNeedInvite.map(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.contact,h=b.invite_code;b=b.invite_code_exp;var i=(yield d("WAWebFindChatAction").findChat(g.id,"groupsV4InviteFlow")),j=f.props.groupGid.toString(),k=c("WAWebGroupMetadataCollection").assertGet(j);i=(yield d("WAWebChatSendMessages").sendGroupInviteMessage(i,j,f.props.subject,h||"",b,a,e));if(i.messageSendResult===d("WAWebSendMsgResultAction").SendMsgResult.OK){k.pendingParticipants.add({id:g.id});return!0}return!1});return function(a){return g.apply(this,arguments)}}())).then(function(a){a=a.filter(Boolean).length;d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__0Mvm1RLqxeY__JHASH__",[h._plural(a,"num")])}))})},f.$GroupsV4InviteFlow2=function(a){f.push(k.jsx(c("WAWebGroupsV4InviteAddComment.react"),{participants:a,gid:f.props.groupGid,subject:f.props.subject,groupDesc:f.props.groupDesc,onClose:f.$GroupsV4InviteFlow3,onSend:f.$GroupsV4InviteFlow5}))},f.$GroupsV4InviteFlow3=function(){f.pop()},e)||babelHelpers.assertThisInitialized(f)}var f=e.prototype;f.componentDidMount=function(){var a=this.props.participantNeedInvite,b=this.$GroupsV4InviteFlow1(a.map(function(a){return a.contact}),!0);b=h._("__JHASH__zVAsJAGQlxg__JHASH__",[h._plural(a.length),h._param("member",b)]);this.push(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:this.$GroupsV4InviteFlow2.bind(this,a),okText:h._("__JHASH__9lHmApGpjly__JHASH__"),onCancel:this.$GroupsV4InviteFlow3,cancelText:h._("__JHASH__JomY4EcHzcJ__JHASH__"),children:b}))};f.$GroupsV4InviteFlow4=function(a,b){b===void 0&&(b=!1);return b?d("WAWebFrontendContactGetters").getFormattedUser(a):k.jsx(d("WAWebName.react").Name,{contact:a})};f.$GroupsV4InviteFlow1=function(a,b){var d=this;b===void 0&&(b=!1);if(!Array.isArray(a))return this.$GroupsV4InviteFlow4(a,b);a=a.map(function(a){return d.$GroupsV4InviteFlow4(a,b)});return c("WAWebFbtIntlList")(a,c("WAWebFbtIntlList").CONJUNCTIONS.AND,c("WAWebFbtIntlList").DELIMITERS.COMMA)};return e}(c("WAWebFlowComponent_DEPRECATED.react"));a.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none",displayName:"GroupsV4InviteFlow"};g["default"]=a}),226);
__d("WAWebNewChatMetricUtils",["WATimeUtils","WAWebChatConstants","WAWebChatThreadLogging","WAWebWebContactListStartNewChatWamEvent"],(function(a,b,c,d,e,f,g){function a(a){var b=a.isSearchResult;a=a.chatType;new(d("WAWebWebContactListStartNewChatWamEvent").WebContactListStartNewChatWamEvent)({webContactListStartNewChatSearch:b,webContactListStartNewChatType:a}).commit()}function b(a){var b=!(a.msgs.some(function(a){return a.isRealMessage()})||a.endOfHistoryTransferType===d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.INCOMPLETE);b&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"viaContactlessChats",ts:d("WATimeUtils").unixTime(),chatId:a.id,boolValue:!0}])}g.logContactListStartNewChatAction=a;g.logInitiatedContactlessChat=b}),98);
__d("WAWebNewChatDrawer.react",["fbt","WALogger","WAWebABProps","WAWebApiContact","WAWebCellBorder.react","WAWebChatContactList.react","WAWebChatListSearch.react","WAWebCmd","WAWebCommunityGatingUtils","WAWebComposeBoxActions","WAWebContactCollection","WAWebContactGetters","WAWebContactManagementGating","WAWebContactlessChatUtils","WAWebDefaultAddProfilePicture.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebEmptyState.react","WAWebFbtCommon","WAWebFindChatAction","WAWebFlatListController","WAWebFocusIndicator","WAWebL10N","WAWebLidContactsGatingUtils","WAWebNewChatMetricUtils","WAWebPhoneNumberSearch","WAWebQueryExistsJob","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebUnknownContactSection.react","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWDSGatingUtils","WAWebWamEnumWebContactListStartNewChatType","WAWebWidFactory","asyncToGeneratorRuntime","react","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebLazyRef","useWAWebListener","useWAWebStableCallback","useWAWebUnknownContact"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["queryUsernameExists failed with error:",""]);k=function(){return a};return a}e=j||d("react");var l=i||(i=c("react")),m=e.forwardRef,n=e.useCallback,o=e.useMemo,p=e.useRef,q=e.useState,r={newChatButton:{height:"xy3bg4n",$$css:!0}},s=3;function t(a){var b=a.image,e=a.onClick;a=a.primary;var f=h._("__JHASH__vDb1gwdkYRB__JHASH__",[h._param("item-title",a.toString())]);return l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{icon:b,onClick:e,ariaLabel:f,xstyle:[r.newChatButton,d("WAWebUISpacing").uiPadding.bottom1],children:a}),l.jsx(c("WAWebCellBorder.react"),{})]})}t.displayName=t.name+" [from "+f.id+"]";function a(a,e){var f=a.title,g=a.onBack,i=a.onClick,j=a.onNewGroup,m=a.onNewCommunity;a=a.onNewContact;var r=q(""),u=r[0],v=r[1];r=q(null);var w=r[0],x=r[1];r=p();var y=p(),z=p(),A=Boolean(u),B=o(function(){return d("WAWebContactCollection").ContactCollection.frequentContacts("message")},[d("WAWebContactCollection").ContactCollection.length]),C=o(function(){return A?[]:B},[A,B]),D=w!=null?d("WAWebContactCollection").ContactCollection.get(w):null;w=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()});var E=d("WAWebLidContactsGatingUtils").isLidContactOneOnOneChatEnabled(),F=d("WAWebABProps").getABPropConfigValue("web_chat_with_unknown_contacts"),G=d("WAWebUsernameGatingUtils").usernameContactlessChatEnabled(),H=h._("__JHASH__UGA_7UxgMl-__JHASH__"),I=c("useWAWebForceUpdate")();d("useWAWebListener").useListener(d("WAWebContactCollection").ContactCollection,"change:name",I);F&&(G?H=h._("__JHASH__BTGY4QjdqEI__JHASH__"):H=c("WAWebFbtCommon")("Search name or number"));var J=n(function(b){d("WAWebContactCollection").ContactCollection.ensureSorted();b=typeof b==="string"?b:u;if(!b)return d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:!!b,includeLidContacts:E});var a=d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:!!b,includeLidContacts:E}).concat(d("WAWebContactCollection").ContactCollection.filter(function(a){return a.name&&!d("WAWebContactGetters").getIsMe(a)&&!d("WAWebContactGetters").getIsPSA(a)&&!d("WAWebContactGetters").getIsWAContact(a)&&!d("WAWebContactGetters").getIsNewsletter(a)})),e=c("WAWebL10N").accentFold(b),f=d("WAWebPhoneNumberSearch").numberSearch(e);return a.filter(function(a){return a.searchMatch(e,f)})},[u,E]),K=J();I=c("useWAWebUnknownContact")({phoneNumber:u,shouldStartSearch:K.length===0&&F});var L=I.unknownContactInfo,M=I.loading,N=I.error;I=I.onRetry;var O=c("useWAWebDebouncedCallback")(function(a){return v(a)},100),P=n(function(a){z.current=a,G&&a.length>=s&&d("WAWebQueryExistsJob").queryUsernameExists(a).then(function(b){if(z.current===a){x((b=b==null?void 0:b.wid)!=null?b:null);O(a)}})["catch"](function(b){z.current===a&&(x(null),O(a)),d("WALogger").ERROR(k(),b).devConsole(b)}),z.current=a,O(a)},[G,O]),Q=n(function(a,b,d){c("WAWebFocusIndicator").shouldIndicateFocus(),i(a,b,void 0,d)},[i]),R=c("useWAWebStableCallback")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a.preventDefault();a.stopPropagation();d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();a=(a=L==null?void 0:L.chat)!=null?a:yield d("WAWebFindChatAction").findChat(b,"newChatFlow");b=d("WAWebCmd").Cmd.openChatFromUnread(a);if(!b)return;d("WAWebNewChatMetricUtils").logInitiatedContactlessChat(a);d("WAWebNewChatMetricUtils").logContactListStartNewChatAction({chatType:d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACTLESS,isSearchResult:!0});d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)});return function(b,c){return a.apply(this,arguments)}}()),S=n(function(a){a.preventDefault();a.stopPropagation();var b=C[0];if(b){Q(a,b);return}if(D){Q(a,D,"username_contactless_search");return}if(!A){b=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMeUser());Q(a,b);return}b=J(z.current)[0];if(b){Q(a,b);return}(L==null?void 0:L.wid)&&void R(a,L.wid)},[C,D,A,J,L==null?void 0:L.wid,Q,R]),T=[];if(!u){var U=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"group",size:48});T.push({image:U,id:h._("__JHASH__6EroHqWSWmZ__JHASH__"),onClick:j});if(d("WAWebContactManagementGating").contactManagementEnabled()){U=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"1-1",size:48});j=h._("__JHASH__Jw3vZ21YCWC__JHASH__");T.push({image:U,id:j,onClick:a})}if(d("WAWebCommunityGatingUtils").communitiesEnabled()&&d("WAWebCommunityGatingUtils").communitiesCreationEnabled()){U=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"community",size:48});T.push({image:U,id:h._("__JHASH__KIkd5AW9_IK__JHASH__"),onClick:m})}}j=function(a){if(a!=null){var b=d("WAWebApiContact").getPhoneNumber(d("WAWebWidFactory").toUserWid(a.id));b=b!=null?d("WAWebContactCollection").ContactCollection.get(b):null;if((b==null||!K.includes(b))&&!K.includes(a))return[a]}return};a=j(D);K.length===0&&!D?u?M?U=l.jsx(d("WAWebEmptyState.react").SearchingNonContact,{}):N?U=d("WAWebEmptyState.react").SearchingNonContactError(d("WAWebContactlessChatUtils").getErrorStr(N),I):L?U=l.jsx(c("WAWebUnknownContactSection.react"),{contactInfo:L,onUnknownContactClick:R}):U=l.jsx(d("WAWebEmptyState.react").SearchWithKeyword,{keyword:u}):U=l.jsx(d("WAWebEmptyState.react").SearchWithoutKeyword,{}):U=l.jsx(c("WAWebChatContactList.react"),{ref:y,contacts:K,flatListController:w.current,frequentContacts:C,usernameContacts:a,onClick:i,showMe:!A,showBot:!A,showPersonGroupDivisionHeader:!0});return l.jsxs(c("WAWebDrawer.react"),{ref:e,testid:void 0,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE,onBack:g}),l.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:r,onSearch:P,onEnter:S,placeholder:H,type:d("WAWebChatListSearch.react").ListSearchType.NEW_CHAT_CONTACT_SEARCH,loading:M,showPlaceholderUntilType:F,focusOnMount:!0}),l.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[w.current],backgroundColor:d("WAWebWDSGatingUtils").materialRefreshEnabled()?"default":null,children:[T.map(function(a,b){var c=a.image,d=a.id;a=a.onClick;return l.jsx(t,{image:c,primary:d,onClick:a},b)}),U]})]},"contact-modal")}a.displayName=a.name+" [from "+f.id+"]";e=m(a);g["default"]=e}),226);
__d("WAWebNewChatFlow.react",["fbt","$InternalEnum","WAWebCmd","WAWebCommunityCreationFlowMetricUtils","WAWebComposeBoxActions","WAWebContactCollection","WAWebContactGetters","WAWebFindChatAction","WAWebMessageYourselfMetricUtils","WAWebNewChatDrawer.react","WAWebNewChatMetricUtils","WAWebNewCommunityInfoDrawer.react","WAWebNewGroupFlowLoadable","WAWebWamEnumCommunityCreationCurrentScreenType","WAWebWamEnumCommunityCreationEntrypointType","WAWebWamEnumWebContactListStartNewChatType","asyncToGeneratorRuntime","cr:8723","react","useWAWebFlow","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=b("$InternalEnum").Mirrored(["NewChatDrawer","NewCommunityFlow","NewGroupFlow","NewContactFlow"]);e=j.forwardRef(a);function a(a,e){a=a.onEnd;d("WAWebContactCollection").ContactCollection.ensureSorted();a=d("useWAWebFlow").useFlow(k.NewChatDrawer,{transitions:d("useWAWebFlow").FlowTransitions.DrawerLeft,onEnd:a});var f=a[0],g=a[1];a=function(){g.end()};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"end_flow",a);var i=function(a,b,c){c===void 0&&(c=!1);var e={};a.isEnterprise&&a.privacyMode!=null&&(e.nextPrivacyMode=a.privacyMode);void d("WAWebFindChatAction").findChat(a.id,(b=b)!=null?b:"newChatFlow",e).then(function(b){d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(e){if(!e)return;e=b.isGroup?d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.GROUP:d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACT;d("WAWebNewChatMetricUtils").logContactListStartNewChatAction({chatType:e,isSearchResult:b.isGroup||c});d("WAWebContactGetters").getIsMe(a)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.logMessageYourselfOpenedEvent(b,c);d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)})})};a=function(a,b,c,d){c===void 0&&(c=!1),i(b,d,c),g.end()};var l=function(a){a=d("WAWebContactCollection").ContactCollection.assertGet(a);i(a,"createContact");g.end()},m=function(a){g.push(k.NewGroupFlow)},n=function(a){g.push(k.NewCommunityFlow),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.startSession(d("WAWebWamEnumCommunityCreationEntrypointType").COMMUNITY_CREATION_ENTRYPOINT_TYPE.CHATS_TAB),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.enter(d("WAWebWamEnumCommunityCreationCurrentScreenType").COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.CHATS_TAB)},o=function(a){g.push(k.NewContactFlow)};if(g.step==null)return null;var p=null;switch(g.step){case k.NewChatDrawer:p=j.jsx(c("WAWebNewChatDrawer.react"),{title:h._("__JHASH__G__8-ng2r4N__JHASH__"),onBack:function(){return g.end()},onClick:a,onNewGroup:m,onNewCommunity:n,onNewContact:o});break;case k.NewGroupFlow:p=j.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a,g.end()});return function(b){return a.apply(this,arguments)}}(),onEnd:g.pop});break;case k.NewCommunityFlow:p=j.jsx(c("WAWebNewCommunityInfoDrawer.react"),{onBack:g.pop});break;case k.NewContactFlow:b("cr:8723")&&(p=j.jsx(b("cr:8723"),{origin:"new-chat",onSave:l,onBack:g.pop}));break}return j.jsx(f,{ref:e,flow:g,children:p})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebSendGroupInviteFlow.react",["fbt","WANullthrows","WAWebGroupType","WAWebSendTextFlow.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;a=a.chat;b=c("WANullthrows")((b=a.groupMetadata)==null?void 0:b.groupInviteLink);a=((a=a.groupMetadata)==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.COMMUNITY;a=a?h._("__JHASH__JrlCg9TMHkl__JHASH__").toString()+" "+b:h._("__JHASH__2oCqXm_Ze0x__JHASH__").toString()+" "+b;return j.jsx(c("WAWebSendTextFlow.react"),{title:h._("__JHASH__LenP8XNVLj1__JHASH__"),text:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityAdminPromotionNotificationFlow.react",["$InternalEnum","WALogger","WAWebChatCollection","WAWebCommunityAdminPromotionNotificationPopup.react","WAWebCommunityAdminSelfDemotePopup.react","WAWebCommunityLogEvents","WAWebCommunityPromoteDemotePopups.react","WAWebModalManager","WAWebModifyParticipantsGroupAction","WAWebNux","WAWebUserPrefsMeUser","WAWebWamEnumCadminDemoteOriginType","WAWebWamEnumCadminDemoteResultType","react","useWAWebFlow","useWAWebNux"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error sending demote community participants iq"]);i=function(){return a};return a}var j=h||c("react"),k=b("$InternalEnum").Mirrored(["PromotionNotification","Demote"]);function a(a){var b=a.communityMetadata;a=d("WAWebNux").getCommunityAdminPromotionNuxKey(b.id.toString());a=c("useWAWebNux")(a);var e=a[2];a=d("useWAWebFlow").useFlow(k.PromotionNotification);var f=a[0],g=a[1];if(g.step==null)return null;var h;switch(g.step){case k.PromotionNotification:a=function(){g.push(k.Demote)};var l=function(){e(),g.end()};h=j.jsx(c("WAWebCommunityAdminPromotionNotificationPopup.react"),{onDemote:a,onContinue:l});break;case k.Demote:var m=d("WAWebUserPrefsMeUser").isMeAccount(b.owner),n=function(a){d("WAWebCommunityLogEvents").logCadminDemoteEvent(d("WAWebWamEnumCadminDemoteOriginType").CADMIN_DEMOTE_ORIGIN_TYPE.PROMOTION_NOTIFICATION,a,b.participants.getAdmins().length===1||m)},o=function(a){a===void 0&&(a=!1),n(a?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_CANCEL:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.CANCEL),d("WAWebModalManager").ModalManager.close()};a=function a(c){c===void 0&&(c=!1);e();var f=b.participants.getMeParticipant(),h=d("WAWebChatCollection").ChatCollection.get(b.id);f&&h&&(f.contact.pendingAction++,d("WAWebModifyParticipantsGroupAction").demoteCommunityParticipants(h,[f]).then(function(){n(c?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_SUCCESS:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.SUCCESS)})["catch"](function(b){d("WALogger").WARN(i()).verbose().devConsole(b).sendLogs("community-admin-self-demote-failed"),n(c?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_FAILURE:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.FAILURE),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebCommunityPromoteDemotePopups.react").CommunityAdminDemoteErrorPopup,{onParticipantDemote:function(){return a(!0)},onCancel:function(){return o(!0)},isMe:!0}))})["finally"](function(){f.contact.pendingAction--}));c?d("WAWebModalManager").ModalManager.close():g.end()};l=function(){n(d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.FAILURE),g.pop()};h=j.jsx(c("WAWebCommunityAdminSelfDemotePopup.react"),{onDemote:a,onCancel:o,onFailure:l,isCommunityOwner:m});break}return j.jsx(f,{flow:g,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebManageCommunityGroupsFlow.react",["$InternalEnum","WAWebABProps","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityExistingGroupsDrawer.react","WAWebCommunityGatingUtils","WAWebCommunityHomeGroupsManager.react","WAWebCommunitySettingsDrawer.react","WAWebComposeBoxActions","WAWebCreateSubgroupSuggestionAction","WAWebDrawerManager","WAWebFindChatAction","WAWebLinkSubgroupsAction","WAWebNewGroupFlow.react","WAWebNewGroupFlowLoadable","WAWebNewSubgroupSuggestionDrawer.react","WAWebUiActionWamEvent","WAWebUserPrefsMeUser","WAWebWamEnumUiActionType","WAWebWamPrivateStatsUtils","asyncToGeneratorRuntime","react","useWAWebCallbackOnce","useWAWebCommunitySubgroups","useWAWebFlow","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["GROUPS_MANAGER","NEW_GROUP","EXISTING_GROUP","COMMUNITY_SETTINGS"]);e=i.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.parentGroupMetadata,g=a.fromInfo;g=g===void 0?!1:g;var h=a.onBack;a=c("useWAWebCommunitySubgroups")(f);var k=a.joinedSubgroups,l=a.unjoinedSubgroups;a=a.subgroupCount;var m=d("WAWebChatCommunityUtils").isSubgroupSuggestionCreation(f.id),n=c("useWAWebUnmountSignal")(),o=c("useWAWebCallbackOnce")(function(){h?h():d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}),p=d("useWAWebFlow").useFlow(j.GROUPS_MANAGER,{transitions:d("useWAWebFlow").FlowTransitions.DrawerLeft,onEnd:o}),q=p[0],r=p[1];function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield a);r.pop();a!=null&&!n.aborted&&d("WAWebFindChatAction").findChat(a,"communityGroupsFlow").then(function(a){d("WAWebCmd").Cmd.openChatBottom(a).then(function(b){b&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)})})});return t.apply(this,arguments)}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Set([].concat(l,k));a=a.filter(function(a){return!b.has(a.id)}).map(function(a){return a.id});if(a.length)if(!f.participants.iAmAdmin())yield d("WAWebCreateSubgroupSuggestionAction").createExistingGroupsSubgroupSuggestionsAction(f.id,a,r.pop,o);else{var e=new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.COMMUNITY_LINK,uiActionPreloaded:!1});yield c("WAWebLinkSubgroupsAction")(f.id,a).then(function(){e.markUiActionT(),e.commit(),d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents()});r.pop()}});return v.apply(this,arguments)}if(r.step==null)return null;var w;switch(r.step){case j.GROUPS_MANAGER:w=i.jsx(d("WAWebCommunityHomeGroupsManager.react").CommunityHomeGroupsManager,{joinedSubgroups:k,unjoinedSubgroups:l,currentSubgroupCount:a,fromInfo:g,onBack:o,onNewGroupFlow:function(){return r.push(j.NEW_GROUP)},onExistingGroupFlow:function(){return r.push(j.EXISTING_GROUP)},onCommunitySettingsClick:function(){return r.push(j.COMMUNITY_SETTINGS)},parentId:f.id});break;case j.NEW_GROUP:p=f.participants.iAmAdmin();if(m)w=i.jsx(c("WAWebNewSubgroupSuggestionDrawer.react"),{parentGroup:f.id,onBack:function(){return r.pop()},onEnd:o});else{m=d("WAWebCommunityGatingUtils").communityShortGroupCreationEnabled();w=i.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:s,onEnd:function(){return r.pop()},parentGroupWid:f.id,initialStep:p&&!m?d("WAWebNewGroupFlow.react").NewGroupFlowStep.ADD_PARTICIPANTS_DRAWER:d("WAWebNewGroupFlow.react").NewGroupFlowStep.SET_GROUP_INFO_DRAWER,shortenedCreationFlow:m})}break;case j.EXISTING_GROUP:s=d("WAWebChatCollection").ChatCollection.get(f.id);m=d("WAWebABProps").getABPropConfigValue("parent_group_no_disclaimer")&&(s==null?void 0:(p=s.groupMetadata)==null?void 0:p.isParentGroupClosed)===!0;p=s==null?void 0:s.formattedTitle;s=s==null?void 0:(s=s.groupMetadata)==null?void 0:s.getSubgroupSuggestions().reduce(function(a,b){d("WAWebUserPrefsMeUser").isMeAccount(b.owner)&&a.push(b.groupId);return a},[]);w=i.jsx(c("WAWebCommunityExistingGroupsDrawer.react"),{onBack:function(){return r.pop()},fromInfo:g,onSubmit:u,onCreateNewGroup:function(){return r.push(j.NEW_GROUP)},currentSubgroupCount:a,communityName:p,isParentGroupClosed:m,isCommunityAdmin:f.participants.iAmAdmin(),groupsSuggestedByMeToCommunity:s});break;case j.COMMUNITY_SETTINGS:g=d("WAWebChatCollection").ChatCollection.assertGet(f.id);w=i.jsx(c("WAWebCommunitySettingsDrawer.react"),{chat:g,onBack:function(){return r.pop()}});break}return i.jsx(q,{flow:r,ref:e,children:w})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("WAWebStatusV3ListPanel.react",["WAWebStatusV3List.react","WAWebStatusV3ListHeader.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.onOpenStatus;return i.jsxs("div",{className:"x10l6tqk x13vifvy x17qophe x78zum5 xdt5ytf x5yr21d x160y1p1 x1yewgqm xshg5ix x1wejiyj xtbbw2h x15i9xf3",children:[i.jsx(d("WAWebStatusV3ListHeader.react").StatusV3ListHeader,{onOpenStatus:a}),i.jsx(d("WAWebStatusV3List.react").StatusV3List,{onOpenStatus:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStatusV3PlaceholderIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="status-v3-placeholder";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=80;m=80;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 80 80",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",id:"Layer_1",x:"0px",y:"0px",enableBackground:"new 0 0 80 80",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M30.566,78.982c-0.222,0-0.447-0.028-0.672-0.087C12.587,74.324,0.5,58.588,0.5,40.631 c0-3.509,0.459-6.989,1.363-10.343c0.377-1.399,1.814-2.23,3.217-1.851c1.399,0.377,2.228,1.818,1.851,3.217 c-0.784,2.909-1.182,5.929-1.182,8.977c0,15.578,10.48,29.226,25.485,33.188c1.401,0.37,2.237,1.806,1.867,3.209 C32.79,78.204,31.728,78.982,30.566,78.982z M49.921,78.875C67.336,74.364,79.5,58.611,79.5,40.563c0-3.477-0.452-6.933-1.345-10.27 c-0.374-1.401-1.812-2.232-3.213-1.858c-1.4,0.375-2.233,1.813-1.858,3.214c0.773,2.896,1.166,5.895,1.166,8.914 c0,15.655-10.545,29.319-25.646,33.23c-1.403,0.363-2.246,1.796-1.883,3.199c0.306,1.182,1.371,1.967,2.539,1.967 C49.478,78.959,49.699,78.932,49.921,78.875z M15.482,16.5C21.968,9.901,30.628,6.267,39.867,6.267 c9.143,0,17.738,3.569,24.202,10.05c1.024,1.026,2.686,1.028,3.712,0.004c1.026-1.024,1.028-2.685,0.005-3.712 C60.329,5.135,50.413,1.018,39.867,1.018c-10.658,0-20.648,4.191-28.128,11.802c-1.016,1.034-1.002,2.696,0.032,3.711 c0.511,0.503,1.175,0.753,1.84,0.753C14.289,17.284,14.968,17.022,15.482,16.5z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StatusV3PlaceholderIcon=a}),98);
__d("WAWebStatusV3OutStatusPanel.react",["fbt","WAFilteredCatch","WALogger","WAWebBackendErrors","WAWebClock","WAWebDetailImage.react","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebStatusV3PlaceholderIcon","WAWebStatusV3SeenCount.react","WAWebStatusV3Thumbnail.react","WAWebWamEnumStatusRowSection","react","useWAWebForceUpdate","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["error while loading all out status: ",""]);k=function(){return a};return a}b=j||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState;function a(a){var b=a.onOpenStatus;a=a.status;a=l.jsx(o,{statusV3:a,onOpenStatus:b});return l.jsx("div",{className:"x10l6tqk x13vifvy x78zum5 xdt5ytf x6s0dn4 xl56j7k x5yr21d x1n5apq5 xxojkh6 x5byjui x8yky9h x1s21l0m xfmyhe5 xug1qy9 xtdeawk",children:a})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.statusV3,e=c("useWAWebForceUpdate")();m(function(){b==null?void 0:b.loadMore(b.totalCount)["catch"](function(a){d("WALogger").WARN(k(),String(a))})},[]);d("useWAWebListener").useListener(b,"change:msgsChanged",e);var f=a.statusV3;if(f&&f.msgs.length>0){e=f.msgs.map(function(b){return l.jsx(p,{msg:b,status:f,onOpenStatus:a.onOpenStatus},b.id.toString())});return l.jsxs("div",{className:"x78zum5 xdt5ytf xmz0i5r","data-testid":void 0,children:[l.jsx("div",{className:"x1coevs8 x14ler8 xngnso2 xk50ysn x2b8uid",children:h._("__JHASH__XPMWtCFjn51__JHASH__")}),l.jsx("div",{className:"x9f619 x78zum5 x1q0g3np x1a02dak xl56j7k x1ap80js xexx8yu x13omvei x1rxj1xn x1m6arcz x1odjw0f",children:e})]})}return l.jsxs("div",{className:"x78zum5 xdt5ytf xmz0i5r",children:[l.jsx("div",{className:"x78zum5 x1q0g3np xl56j7k x14ler8 x5q6gb4 x47corl",children:l.jsx(d("WAWebStatusV3PlaceholderIcon").StatusV3PlaceholderIcon,{})}),l.jsx("div",{"data-testid":void 0,className:"xzl6hoh x88nbbm x2b8uid",children:h._("__JHASH__3iLtSO4jR3x__JHASH__")})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.msg,e=a.status,f=c("useWAWebUnmountSignal")(),g=n(null),i=g[0],j=g[1];g=n(null);var k=g[0],o=g[1];m(function(){d("WAWebMsgInfoCollection").MsgInfoCollection.find(b.id).then(function(a){if(f.aborted)return;o(a);j(a.read.length)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").EphemeralDrop,function(){}))},[]);d("useWAWebListener").useListener(k==null?void 0:k.read,["add","remove"],function(){j(k==null?void 0:k.read.length)});g=l.jsx(d("WAWebDetailImage.react").DetailImage,{id:d("WAWebMsgGetters").getSender(b),theme:"status_v3",size:80});return l.jsxs("div",{className:"x78zum5 xdt5ytf x6s0dn4 xmo9yow x1hq5gj4 x17adc0v","data-testid":void 0,children:[l.jsx(c("WAWebStatusV3Thumbnail.react"),{tabIndex:0,ariaLabel:h._("__JHASH__XPMWtCFjn51__JHASH__"),id:e.id,msg:b,onClick:function(){return a.onOpenStatus(e,b,0,d("WAWebWamEnumStatusRowSection").STATUS_ROW_SECTION.MY_STATUS)},contact:e.contact,role:"button",theme:"status-panel",thumbnailPlaceholder:g}),l.jsx("div",{className:"xcxhlts xu06os2",children:l.jsx(c("WAWebStatusV3SeenCount.react"),{seenCount:i})}),l.jsx("div",{className:"x1nxh6w3 x88nbbm",children:d("WAWebClock").Clock.relativeDateAndTimeStr(b.t)})]})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStatusV3Main.react",["fbt","WAWebCmd","WAWebFocusTracer","WAWebL10N","WAWebStatusV3Collection","WAWebStatusV3ListPanel.react","WAWebStatusV3OutStatusPanel.react","WAWebSvgButton.react","WAWebTimeSpentLoggingNavigation","WAWebUserPrefsGeneral","WAWebXViewerIcon","gkx","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o={v3x:{position:"x10l6tqk",top:"xoyzfg9",end:"x4p3wbt",left:null,right:null,zIndex:"xhtitgo",color:"x1fpc5dy",$$css:!0},v3xMac:{end:"x12nc10h",left:null,right:null,$$css:!0}};e=k.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a);a=e.onOpenStatus;var f=e.sessionId,g=e.closeStatusViewer,i=m(null),j=n(function(){return d("WAWebStatusV3Collection").StatusV3Collection.getMyStatus()}),p=j[0],q=j[1];l(function(){d("WAWebUserPrefsGeneral").setLastStatusUsage(),f!=null&&d("WAWebStatusV3Collection").StatusV3Collection.logMetrics({type:"session",sessionId:f}),d("WAWebCmd").Cmd.onStatusViewerOpen(),i.current&&c("WAWebFocusTracer").focus(i.current)},[]);j=function(){q(d("WAWebStatusV3Collection").StatusV3Collection.getMyStatus())};d("useWAWebListener").useListener(d("WAWebStatusV3Collection").StatusV3Collection,["add","remove"],j);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,["dismiss_status_v3_viewer"],function(){g(!0)});d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"status-v3"});return k.jsx("div",{ref:b,className:"x10l6tqk x1oyvh86 x9f619 x78zum5 xdt5ytf xh8yej3 x5yr21d x66m237","data-animate-status-v3-modal-background":!0,"data-testid":void 0,children:k.jsxs("div",{ref:i,tabIndex:-1,className:"x1n2onr6 x1vjfegm x78zum5 xdt5ytf xh8yej3 x5yr21d x1fpc5dy xf32nbf xvlrot x1s14duo xuhd2h0 x1klu90g",children:[k.jsx(c("WAWebStatusV3ListPanel.react"),{onOpenStatus:a}),k.jsx(c("WAWebStatusV3OutStatusPanel.react"),{status:p,onOpenStatus:a}),k.jsx(c("WAWebSvgButton.react"),{"aria-label":h._("__JHASH__K6IIFmBgzOZ__JHASH__"),xstyle:[o.v3x,c("gkx")("26265")&&c("WAWebL10N").isRTL()&&o.v3xMac],Icon:d("WAWebXViewerIcon").XViewerIcon,onClick:function(){return e.closeStatusViewer(!0)}})]})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebStatusV3Flow.react",["invariant","$InternalEnum","WAWebCmd","WAWebStatusV3Main.react","WAWebStatusV3Viewer.react","react","useWAWebFlow","useWAWebLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m=b("$InternalEnum").Mirrored(["StatusV3Main","StatusV3Viewer"]);function a(){var a=d("useWAWebFlow").useFlow(m.StatusV3Main),b=a[0],e=a[1];a=l(null);var f=a[0],g=a[1];a=l(null);var i=a[0],j=a[1];a=l(void 0);var n=a[0],o=a[1];a=l(void 0);var p=a[0],q=a[1];a=c("useWAWebLazyRef")(function(){return Math.round(Math.random()*1e9)});var r=function(a){a?e.end():e.pop()},s=function(a,b,c,d){g(a),j(b),o(c),q(d),e.push(m.StatusV3Viewer,"none")};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_status_viewer",function(){r(!0)});if(e.step==null)return null;var t=null;switch(e.step){case m.StatusV3Main:t=k.jsx(c("WAWebStatusV3Main.react"),{onOpenStatus:s,closeStatusViewer:r,sessionId:a.current});break;case m.StatusV3Viewer:f!=null||h(0,62962);t=k.jsx(c("WAWebStatusV3Viewer.react"),{initialStatusV3:f,initialStatusMsg:i,closeStatusViewer:r,sessionId:a.current,rowIdx:n,rowSection:p,continuousPlay:!0});break}return k.jsx(b,{flow:e,children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCaptureMediaDrawer.react",["WAWebCaptureDrawer.react","WAWebMedia","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat,e=a.disposeStream,f=a.onCancel,g=a.onCaptureSent,h=a.onClose;a=a.stream;var j=function(a){var c,e=a.getImg,f=a.caption,i=a.isViewOnce;a=a.mentionedJidList;var j=b,k=j.composeQuotedMsg;j.composeQuotedMsg=null;c=((c=j.getComposeContents())==null?void 0:c.ctwaContext)||void 0;d("WAWebMedia").prepRawMedia(e,{}).sendToChat(j,{caption:f,mentionedJidList:a,quotedMsg:k,ctwaContext:c,isViewOnce:i});g();h()};return i.jsx(c("WAWebCaptureDrawer.react"),{onBack:function(){h(),f()},chat:b,caption:!0,theme:"capture-contain",onSend:j,stream:a,disposeStream:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSendMsgMultiModal.react",["fbt","Promise","WATimeUtils","WAWebBlockContactAction","WAWebCmd","WAWebComposeBoxActions","WAWebModalManager","WAWebSelectModal.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a){var c=a.msgText,e=a.urlText;a=function(a){var f=c;if(a.length===1){var g,h=a[0];h.isUser&&h.contact.isContactBlocked?g=d("WAWebBlockContactAction").unblockContact(h.contact):g=(i||(i=b("Promise"))).resolve(!0);g.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(f){h.urlText=e;if(h.active){d("WAWebComposeBoxActions").ComposeBoxActions.paste(h,f);return}h.setComposeContents({text:f,timestamp:d("WATimeUtils").unixTime()})}a=(yield d("WAWebCmd").Cmd.openChatFromUnread(h));a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(h)});return function(b){return a.apply(this,arguments)}}())}else(i||(i=b("Promise"))).all(a.map(function(c){var a;c.isUser&&c.contact.isContactBlocked?a=d("WAWebBlockContactAction").unblockContact(c.contact):a=(i||(i=b("Promise"))).resolve(!0);a.then(function(a){c.urlText=e,d("WAWebSendTextMsgChatAction").sendTextMsgToChat(c,f)})})),d("WAWebCmd").Cmd.openChatFromUnread(a[0]);d("WAWebModalManager").ModalManager.close()};return k.jsx(d("WAWebSelectModal.react").SelectModal,{onConfirm:a,maxItems:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,title:h._("__JHASH__Pz11_y6jv6u__JHASH__"),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUnstarAllPopup.react",["fbt","WAWebChatCollection","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=function(){d("WAWebModalManager").ModalManager.close()};function a(a){var b=a.chat,c=a.msgs;a=function(){b&&b.pendingAction++,d("WAWebChatCollection").ChatCollection.unstarAllMessages(c,b)["finally"](function(){b&&b.pendingAction--}),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:h._("__JHASH__9lzxpfjhJ2m__JHASH__"),onCancel:k,children:j.jsx("div",{children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._("__JHASH__QDsbV0gAqF3__JHASH__")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStarredHeaderDropdown.react",["fbt","WAWebDropdown.react","WAWebDropdownItem.react","WAWebModalManager","WAWebUnstarAllPopup.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.msgs,f=a.chat;a=function(){d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebUnstarAllPopup.react"),{msgs:e,chat:f}))};return j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,children:j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:a,disabled:e.length===0,children:h._("__JHASH__SVp7zZnwcuu__JHASH__")})},"StarredDrawerHeader")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebStarredDrawerV2.react",["fbt","WAWebDisplayType","WAWebEmptyState.react","WAWebHistorySyncComponents.react","WAWebMenuBar.react","WAWebMenuIcon","WAWebMessageComponentContext.react","WAWebMsgDrawer.react","WAWebStarredHeaderDropdown.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useMemo;b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.starredMsgs,f=a.onClose,g=a.chat,i=a.headerType,j=a.onSaveContact;a=h._("__JHASH__uSSuzpxR3c8__JHASH__");var m=k.jsx(d("WAWebEmptyState.react").StarredMsgs,{}),n=g!=null?k.jsx(d("WAWebHistorySyncComponents.react").HistorySyncChatStarredMsgsPlaceholderText,{}):k.jsx(d("WAWebHistorySyncComponents.react").HistorySyncStarredMsgsPlaceholderText,{}),o=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:k.jsx(d("WAWebMenuIcon").MenuIcon,{}),title:h._("__JHASH__vnnO4cNTiS8__JHASH__"),children:k.jsx(c("WAWebStarredHeaderDropdown.react"),{chat:g,msgs:e.toArray()})}),p=l(function(){return{onSaveContact:j}},[j]);return k.jsx(d("WAWebMessageComponentContext.react").MessageComponentContext.Provider,{value:p,children:k.jsx(c("WAWebMsgDrawer.react"),{ref:b,msgCollection:e,onClose:f,chat:g,title:a,emptyListText:m,footerText:n,headerMenu:o,headerType:i,displayType:d("WAWebDisplayType").DISPLAY_TYPE.STARRED_MSGS})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebForwardMediaWithCaptionPopupNux.react",["fbt","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModal.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={featureDescriptionParagraph:{textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.onOk;a=function(){b()};var c=h._("__JHASH__aaBehuw1wrd__JHASH__");return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:h._("__JHASH__FXvfKHgkfR4__JHASH__"),onOK:a,type:d("WAWebModal.react").ModalTheme.ForwardMediaWithCaption,children:j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{xstyle:[k.featureDescriptionParagraph,d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom32],children:c})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebForwardMediaWithCaptionPreview",["fbt","WAWebChatMsgSymbol.react","WAWebChatPreferenceCollection","WAWebClickable.react","WAWebClock","WAWebEmojiSuggestions.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFormatConfiguration","WAWebFormatMsgText","WAWebForwardMediaWithCaptionsGatingUtils","WAWebFrontendMsgGetters","WAWebImgPlaceholderIcon","WAWebL10N","WAWebMediaThumbnail.react","WAWebMediaUrlProvider","WAWebMsgType","WAWebRichTextInput.react","WAWebRichTextInputGatingUtils","WAWebSuggestionsPanelContainer.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVideoPlaceholderIcon","WAWebWamEnumWebcRmrReasonCode","WAWebXIcon","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={wrapper:{position:"x1n2onr6",height:"xcbkimw",width:"x3p9ev8",backgroundColor:"xtl5do8",$$css:!0},textContainer:{position:"x1n2onr6",height:"x5yr21d",width:"xh8yej3",$$css:!0},container:{position:"x1n2onr6",height:"x5yr21d",width:"x86nts4",backgroundColor:"x9qxke2",$$css:!0},captionPreviewContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},composerContainer:{cursor:"x1ed109x",opacity:"xg01cxk",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},composerWrapper:{display:"x78zum5",$$css:!0},composerInput:{height:"x1plxi8p",alignItems:"x6s0dn4",$$css:!0},composerFont:{fontSize:"x4xgy31",$$css:!0},mediaThumbContainer:{minWidth:"xculje8",height:"x5yr21d",$$css:!0},placeholderIcon:{width:"xh8yej3",height:"x5yr21d",$$css:!0},thumbContainer:{width:"x46vnbo",height:"x11daxxc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTop:"xvlwlgo",borderEnd:"x1olsrc1",borderBottom:"x11h1kwt",borderStart:"x1w4fa4c",$$css:!0},thumb:{overflowX:"x6ikm8r",overflowY:"x10wlt62",backgroundRepeat:"xiy17q3",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",$$css:!0},quotedCaption:{flexGrow:"x1iyjqo2",width:"xh8yej3",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",fontWeight:"xo1l8bm",position:"x1n2onr6",color:"xyvbeiw",$$css:!0},xButton:{position:"x1n2onr6",top:"xfr5jun",end:"x1923su1",left:null,right:null,$$css:!0},xDimensions:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},xIconColor:{color:"x1szdls9",$$css:!0},captionTextContainer:{width:"xh8yej3",$$css:!0},captionTextSpacing:{whiteSpace:"xti2ec1",$$css:!0},captionPreviewContainerAnimate:{animationName:"xvma63k",animationDuration:"xw8ag78",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",$$css:!0},mediaThumbContainerAnimate:{animationName:"xd7p9jt",animationDuration:"x4afe7t",animationDelay:"x1k0bccz",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",willChange:"xg6rdjq",$$css:!0},composerContainerAnimate:{animationName:"x127lhb5",animationDuration:"x4afe7t",animationDelay:"x1k0bccz",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",$$css:!0},mediaThumbContainerAnimateRTL:{animationName:"x1ru4mkl",animationDuration:"x4afe7t",animationDelay:"x1k0bccz",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",willChange:"xg6rdjq",$$css:!0}};function a(a){var b=a.displayCaptionText,e=a.msg,f=a.onAppendMessage,g=a.onRemoveCaptionSelect;a=d("useWAWebModelValues").useModelValues(c("WAWebChatPreferenceCollection").getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]);var i=function(a){a.stopPropagation(),a.preventDefault(),g()},k=function(){var b=null,a=null;switch(e.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:b=h._("__JHASH__q6dTFCv-wOB__JHASH__");break;case d("WAWebMsgType").MSG_TYPE.VIDEO:e.isGif?b=h._("__JHASH__BdIbb2QU_eH__JHASH__"):(b=h._("__JHASH__n0ymn3rOVmB__JHASH__"),a=d("WAWebClock").Clock.durationStr(Number(e.duration))+" ")}b=l.jsxs("span",{className:"xk50ysn",children:[" ",b," "]});return[a,b]},o=function(a){f(a.text)},p=l.jsx(c("WAWebChatMsgSymbol.react"),{msg:e.unsafe()},"msg-symbol");k=k();var q=k[0];k=k[1];var r=c("WAWebFormatMsgText")(e.unsafe(),{stripFormatting:!1}),s=d("WAWebFormatConfiguration").QuotedMention({mentions:e.mentionMap(),groupMentions:e.groupMentionMap()});p=l.jsxs(d("WAWebFlex.react").FlexColumn,{className:(j||(j=c("stylex")))([n.quotedCaption,d("WAWebUISpacing").uiPadding.all8]),align:"start",justify:"center",children:[l.jsxs(c("WAWebFlexItem.react"),{children:[p,q,k]}),l.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiMargin.vert5,n.captionTextContainer],children:l.jsx(d("WAWebEmojiText.react").EmojiText,{xstyle:n.captionTextSpacing,className:"x1evy7pa x104kibb x6ikm8r x10wlt62 xlyipyv x1h7i4cw x1ua5tub",direction:d("WAWebFrontendMsgGetters").getDir(e),text:r,formatters:s,ellipsify:!0,testid:void 0},"status")})]});q=h._("__JHASH__1qEqAhdy8GK__JHASH__");k=b?l.jsxs(c("WAWebFlexItem.react"),{grow:1,xstyle:[n.container,n.captionPreviewContainer,!b&&n.captionPreviewContainerAnimate],children:[l.jsx("span",{className:"x2lah0s x51ohtg x1rr48d"}),p,l.jsx(c("WAWebUnstyledButton.react"),{xstyle:[n.xButton,n.xDimensions],onClick:i,title:q,"aria-label":q,testid:void 0,children:l.jsx(d("WAWebXIcon").XIcon,{xstyle:n.xDimensions,iconXstyle:n.xIconColor,height:20,width:20})})]}):null;r=m();var t=r[0];s=r[1];p=t==null?void 0:t.editor;i=p&&l.jsx("div",{className:"x1n2onr6 xh8yej3",children:l.jsx(d("WAWebEmojiSuggestions.react").EmojiSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:p})});q=h._("__JHASH__RXsFvYB02SV__JHASH__");r=function(){t==null?void 0:t.focus()};p=d("WAWebForwardMediaWithCaptionsGatingUtils").isAppendMessageWhenForwardingMediaWithCaptionEnabled()&&!b?l.jsx(d("WAWebClickable.react").Clickable,{onClick:r,children:l.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:[n.container,n.composerContainer,n.composerContainerAnimate],children:l.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.all12,n.composerWrapper),children:l.jsx(d("WAWebRichTextInput.react").RichTextInput,{ref:s,xstyle:n.composerInput,textXstyle:n.composerFont,multiline:!0,textFormatEnabled:!0,readOnly:!1,placeholder:q,title:q,maxVisibleLines:3,onChange:o,testid:void 0,bulletPointsEnabled:!0,numberedListEnabled:!0,inlineCodeEnabled:!0,blockQuoteEnabled:!0,spellCheck:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled()?a.spellcheck:!0,transformTextEmoji:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled()?a.transformTextEmoji:!0,enterIsNewLine:d("WAWebRichTextInputGatingUtils").improvedMessageComposerEnabled()?!a.enterIsSend:!1})})})}):null;r=e.type===d("WAWebMsgType").MSG_TYPE.IMAGE?d("WAWebImgPlaceholderIcon").ImgPlaceholderIcon:d("WAWebVideoPlaceholderIcon").VideoPlaceholderIcon;var u=l.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d",children:l.jsx(r,{iconXstyle:n.placeholderIcon})},"default");s=e.type===d("WAWebMsgType").MSG_TYPE.IMAGE?l.jsx(c("WAWebMediaUrlProvider"),{mediaData:e.mediaData,placeholderRenderer:function(){return u},downloadMedia:function(){return e.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.OTHER,isUserInitiated:!1})},renderProgressively:!1,children:function(a){return l.jsx("div",{className:(j||(j=c("stylex")))([n.thumbContainer,n.thumb,d("WAWebUISpacing").uiMargin.end8]),style:{backgroundImage:"url("+a+")"}})}}):l.jsx(c("WAWebMediaThumbnail.react"),{msg:e,thumbnailPlaceholder:u,childClassName:(j||(j=c("stylex")))(n.thumbContainer,n.thumb,d("WAWebUISpacing").uiMargin.end8)});q=null;!d("WAWebForwardMediaWithCaptionsGatingUtils").isAppendMessageWhenForwardingMediaWithCaptionEnabled()&&!b&&(q=c("WAWebL10N").isRTL()?n.mediaThumbContainerAnimateRTL:n.mediaThumbContainerAnimate);o=l.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:[n.mediaThumbContainer,q],children:s});return l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebFlex.react").FlexRow,{children:i}),l.jsx("div",{className:j([n.wrapper,d("WAWebUISpacing").uiPadding.all8]),children:l.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:n.textContainer,align:"center",justify:"start",children:[o,k,p]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebChatForwardMessage",["Promise","WATimeUtils","WAWebAck","WAWebChatEphemerality","WAWebConstantsDeprecated","WAWebContactBlockedErrorAction","WAWebContactGetters","WAWebCryptoRandomMediaKey","WAWebFrontendMsgGetters","WAWebGetNewsletterContextForForwardedMsg","WAWebMedia","WAWebMediaGetUploadOriginForChat","WAWebMediaOpaqueData","WAWebMediaUploadMmsThumbnail","WAWebMmsMediaTypes","WAWebMsgGetters","WAWebMsgKey","WAWebMsgModelFromData","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebValidateMediaKeyTimestamp","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h;function i(a){return Boolean(d("WAWebFrontendMsgGetters").getAsMms(a)&&!a.ctwaContext)}function j(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j){g===void 0&&(g=!1);j===void 0&&(j=!1);if(i(e))return d("WAWebMedia").forwardMediaMsg(e,a,g,j);j=p(e,a);var k=d("WAWebUserPrefsMeUser").getMaybeMeUser(),m=void 0;f.isGroup()&&(m=d("WAWebWidFactory").toUserWid(k));m=new(c("WAWebMsgKey"))({from:k,to:f,id:yield c("WAWebMsgKey").newId(),participant:m,selfDir:"out"});j=Object.assign(j,{id:m,from:k,t:d("WATimeUtils").unixTime(),to:f,ack:d("WAWebAck").ACK.CLOCK,participant:void 0,local:!0,isNewMsg:!0,star:!1,isForwarded:d("WAWebMsgGetters").getShouldDisplayAsForwarded(e),forwardedFromWeb:!0,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:g});if(c("WAWebWid").isNewsletter(a.id))return d("WAWebNewsletterSendMsgAction").forwardNewsletterMessage(a,j);m=(yield l(j));d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,m);return(h||(h=b("Promise"))).resolve()});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebFrontendMsgGetters").getAsUrl(d("WAWebMsgModelFromData").msgModelFromMsgData(a));if(b==null)return a;var e=b.thumbnailHQ,f=b.mediaKeyTimestamp;if(e==null)return a;if(f!=null&&c("WAWebValidateMediaKeyTimestamp")(f))return a;try{f=(yield c("WAWebMediaUploadMmsThumbnail")({thumbnail:yield c("WAWebMediaOpaqueData").createFromBase64Jpeg(e),mediaType:d("WAWebMmsMediaTypes").MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:c("WAWebCryptoRandomMediaKey")(),uploadOrigin:c("WAWebMediaGetUploadOriginForChat")(d("WAWebFrontendMsgGetters").getChat(b.unsafe())),forwardedFromWeb:!0,timeout:c("WAWebConstantsDeprecated").MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}));e=f.filehash;b=f.mediaEntry;return(b==null?void 0:b.getMediaKey())==null?n(a):babelHelpers["extends"]({},a,{thumbnailDirectPath:b==null?void 0:b.directPath,thumbnailSha256:e,thumbnailEncSha256:(f=b==null?void 0:b.getEncfilehash())!=null?f:void 0,mediaKey:b==null?void 0:b.getMediaKey(),mediaKeyTimestamp:b==null?void 0:b.getMediaKeyTimestamp()})}catch(b){return n(a)}});return m.apply(this,arguments)}function n(a){return babelHelpers["extends"]({},a,{thumbnailHQ:void 0,thumbnailDirectPath:void 0,thumbnailSha256:void 0,thumbnailEncSha256:void 0,mediaKey:void 0,mediaKeyTimestamp:void 0,thumbnailHeight:void 0,thumbnailWidth:void 0})}function a(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e===void 0&&(e=!1);f===void 0&&(f=!1);var g=a.id,h=a.contact;if(d("WAWebContactGetters").getIsUser(h)&&h.isContactBlocked)throw new(c("WAWebContactBlockedErrorAction"))("Forwarded to contact is blocked",h);h=[];for(b of b){var k=f||d("WAWebMsgGetters").getHasOriginatedFromNewsletter(b);try{yield j(a,b,g,e,k)}catch(a){i(b)&&h.push(b)}}return h});return o.apply(this,arguments)}function p(a,b){var e=["buttons","caption","broadcast","ephemeralDuration","ephemeralSettingTimestamp","ephemeralStartTimestamp","ephemeralOutOfSync","disappearingModeInitiatedByMe","disappearingModeTrigger","dynamicReplyButtons","replyButtons","isMdHistoryMsg","bizPrivacyStatus","kicState","kicKey","kicTimestampMs","kicNotified","rcat","latestEditMsgKey","latestEditSenderTimestampMs","invokedBotWid","botMessageSecret","botEditType","botFeedbackKind","botFeedbackText","botTargetSenderJid","bizBotType","botPersonaId","botRespOrInvocationRevokeBotWid","botResponseTargetId","botPluginType","botPluginReferenceIndex","botPluginSearchProvider","botPluginSearchUrl","botEditTargetId","lastBotEditBodyLength","botPluginMaybeParent","rowId","serverId","viewCount","messageSecret"],f=a.isDynamicReplyButtonsMsg===!0&&a.type===d("WAWebMsgType").MSG_TYPE.CHAT;f||(e=["footer"].concat(e));((f=a.quotedMsg)==null?void 0:f.type)!==d("WAWebMsgType").MSG_TYPE.PRODUCT&&(e=["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID"].concat(e));f=c("lodash").omit(a.toJSON(),e);a.ctwaContext&&(f.body=a.ctwaContext.sourceUrl,f.type=d("WAWebMsgType").MSG_TYPE.CHAT,f.mediaObject=void 0);f.forwardedNewsletterMessageInfo=d("WAWebGetNewsletterContextForForwardedMsg").getNewsletterContextForForwardedMsg(a);d("WAWebChatEphemerality").isEphemeralSettingOn(b)&&(f.ephemeralDuration=d("WAWebChatEphemerality").getEphemeralSetting(b));e=d("WAWebChatEphemerality").getEphemeralSettingTimestamp(b);e!=null&&(f.ephemeralSettingTimestamp=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiator(b);e!=null&&(f.disappearingModeInitiator=e);e=d("WAWebChatEphemerality").getDisappearingModeTrigger(b);e!=null&&(f.disappearingModeTrigger=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiatedByMe(b);e!=null&&(f.disappearingModeInitiatedByMe=e);!(((e=a.id.remote)==null?void 0:e.isBot())||((e=a.mentionedJidList)==null?void 0:e.find(function(a){return a.isBot()}))!=null)&&b.isCAGAdmin()&&Object.assign(f,{messageSecret:self.crypto.getRandomValues(new Uint8Array(32))});return f}g.forwardMessages=a;g.getForwardedMessageFields=p}),98);
__d("WAWebForwardMessagesToChat",["Promise","WAPromiseProps","WAWebBlockContactAction","WAWebChatForwardMessage","WAWebFormatForwardErrorChatAction","WAWebForwardErrorChatAction","WAWebLogNewsletterMessageForward","WAWebMsgActionCapability","WAWebMsgCollection","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebWamChatPSALogger","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0&&(f=!1);var g=(h||(h=b("Promise"))).all(a.map(function(a){d("WAWebMsgGetters").getIsPSA(a)&&d("WAWebWamChatPSALogger").logChatPSAForward(a);d("WAWebNewsletterGatingUtils").isNewsletterMessageForwardLoggingEnabled()&&d("WAWebMsgGetters").getHasOriginatedFromNewsletter(a)&&d("WAWebLogNewsletterMessageForward").logNewsletterMessageForward(a,e);return d("WAPromiseProps").promiseProps({message:a,canForward:d("WAWebMsgActionCapability").canForwardMsg(a)&&(d("WAWebMsgCollection").MsgCollection.get(a.id)!=null||d("WAWebMsgGetters").getIsEphemeral(a))})}));a=(yield h.all(e.filter(function(a){return a.canSend}).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.isUser&&a.contact.isContactBlocked?d("WAWebBlockContactAction").unblockContact(a.contact):(h||(h=b("Promise"))).resolve(!0);e=(yield (h||(h=b("Promise"))).all([g,e]));e=e[0];var i=c("lodash").map(c("lodash").filter(e,{canForward:!0}),"message");e=c("lodash").map(c("lodash").filter(e,{canForward:!1}),"message");return d("WAPromiseProps").promiseProps({chat:a,undelivered:d("WAWebChatForwardMessage").forwardMessages(a,i,!0,f),msgsThatCanBeforwarded:i,msgsThatCannotBeForwarded:e})});return function(b){return a.apply(this,arguments)}}())));a=c("lodash").compact(a.map(function(a){var b=a.chat,d=a.undelivered,e=a.msgsThatCanBeforwarded;a=a.msgsThatCannotBeForwarded;var f=null;(d.length||a.length)&&(f=c("WAWebFormatForwardErrorChatAction")({chat:b,undelivered:d,canForward:e,cannotForward:a}));return f!=null&&f!==""?{chat:b,reason:f}:null}));if(a.length)throw new(c("WAWebForwardErrorChatAction"))(a);else return!0});return i.apply(this,arguments)}g.forwardMessagesToChats=a}),98);
__d("WAWebHighlyForwardedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="highly-forwarded";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=16;m=20;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 20 16",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M13.6059557,5.26308901 C13.6220086,5.26163419 13.6302968,5.26102868 13.6302968,5.26102868 L13.6666317,3.82396292 C13.6881611,2.97246613 14.1900805,2.77489995 14.7806307,3.3754967 L18.4132486,7.06991365 C18.7126057,7.37436354 18.7160739,7.87287893 18.4230266,8.18124118 L14.7679628,12.0273223 C14.1812438,12.6447038 13.7056141,12.4510723 13.7056141,11.6045324 L13.7056141,9.93754567 L14.8701549,8.71214475 C15.4496567,8.10235763 15.441656,7.13001879 14.8512575,6.52957627 L13.6059557,5.26308901 L13.6059557,5.26308901 Z",fillOpacity:.25,fill:"currentColor"}),j.jsx("path",{d:"M9.55511091,3.82396292 C9.57664026,2.97246613 10.0785597,2.77489995 10.6691099,3.3754967 L14.3017278,7.06991365 C14.6010849,7.37436354 14.6045531,7.87287893 14.3115058,8.18124118 L10.656442,12.0273223 C10.069723,12.6447038 9.59409325,12.4510723 9.59409325,11.6045324 L9.59409325,9.87219486 C9.59409325,9.87219486 5.03474338,9.49878283 2.43099409,12.3846575 C1.83824676,12.8974744 1.66218866,12.9568393 1.47026458,12.8572726 C1.32851376,12.7423664 1.28325362,12.3846575 1.73218749,11.260453 C3.56459895,5.69602505 9.51877595,5.26102868 9.51877595,5.26102868 L9.55511091,3.82396292 Z",fillOpacity:.4,fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.HighlyForwardedIcon=a}),98);
__d("WAWebFrequentlyForwardedWarning.react",["fbt","WAWebCellFrame.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebHighlyForwardedIcon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.frequentlyForwardedCount;a=a.totalCount;b=j.jsxs("span",{children:[b===1&&a===1?h._("__JHASH__u9y9vWwQqR-__JHASH__"):h._("__JHASH__MJ9CvlrZLhO__JHASH__")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFrequentlyForwardedFaqUrl(),children:h._("__JHASH__RR1bpeluTQm__JHASH__")})]});return j.jsxs("div",{className:"x78zum5 x150wa6m x1w7fho5",children:[j.jsx("div",{className:"x78zum5 x6s0dn4 xpdqn1h xmupa6y x1wm35g",children:j.jsx(d("WAWebHighlyForwardedIcon").HighlyForwardedIcon,{width:24,height:24})}),j.jsx(c("WAWebCellFrame.react"),{theme:"plain",primary:b,idle:!0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterForwardConfirmationModal",["fbt","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState;function m(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.forwardToChat,e=a.handleConfirm;a=l(!1);var f=a[0],g=a[1];a=k(function(){g(!0),e()["finally"](function(){g(!1)})},[e]);return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okSpinner:f,okDisabled:f,cancelDisabled:f,onOK:a,okText:n.okText(),title:n.title(b.name),onCancel:m,cancelText:c("WAWebFbtCommon")("Cancel"),children:n.body()})}a.displayName=a.name+" [from "+f.id+"]";var n={title:function(a){return h._("__JHASH__8S0ET8aZ3DY__JHASH__",[h._param("channel-name",a)])},body:function(){return h._("__JHASH__8dr3e4DjJO2__JHASH__")},okText:function(){return h._("__JHASH__uEoTTP4tATP__JHASH__")}};g.NewsletterForwardConfirmationModal=a}),226);
__d("WAWebForwardMessageModal",["fbt","Promise","WAFilteredCatch","WALogger","WAWebChatModel","WAWebCmd","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebContactGetters","WAWebFbtCommon","WAWebForwardErrorChatAction","WAWebForwardMediaWithCaptionPopupNux.react","WAWebForwardMediaWithCaptionPreview","WAWebForwardMediaWithCaptionsGatingUtils","WAWebForwardMessagesToChat","WAWebFrequentlyForwardedWarning.react","WAWebFrontendMsgGetters","WAWebMessageYourselfMetricUtils","WAWebModalManager","WAWebMsgGetters","WAWebMsgModelUtils","WAWebNewsletterForwardConfirmationModal","WAWebNewsletterFutureProofUtils","WAWebNewsletterGatingUtils","WAWebNewsletterSendMsgAction","WAWebNux","WAWebSelectModal.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","asyncToGeneratorRuntime","react","stylex","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[FMC][handleForwardConfirmed] failed to append message with forwarded media"]);m=function(){return a};return a}var n=l||c("react"),o=(j||(j=d("react"))).useState,p={forwardMediaWithCaptionPreview:{zIndex:"x11uqc5h",height:"xv32h1t",width:"xh8yej3",backgroundColor:"xtl5do8",boxSizing:"x9f619",boxShadow:"xpx74rz",$$css:!0}},q=1;function a(a){var e=a.msgs,f=a.onClose,g=a.onForward,h=e[0];a=d("WAWebFrontendMsgGetters").getChat(h);var i=h.type!=="video"&&h.type!=="image"?"message":h.type,j=e.some(d("WAWebMsgGetters").getIsFrequentlyForwarded),k=e.some(function(a){return a.isForwarded}),l=e.filter(function(a){return!d("WAWebMsgGetters").getIsFrequentlyForwarded(a)&&a.getForwardingScoreWhenForwarded()===c("WAWebConstantsDeprecated").FREQUENTLY_FORWARDED_SENTINEL});l=l.length?n.jsx(c("WAWebFrequentlyForwardedWarning.react"),{frequentlyForwardedCount:l.length,totalCount:e.length}):void 0;var m=j?q:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,p=d("WAWebMsgModelUtils").getMediaMsgWithCaptionForForwarding(e),y=o(!!p),z=y[0],A=y[1];y=c("useWAWebNux")(d("WAWebNux").NUX.FORWARD_MEDIA_WITH_CAPTION);var B=y[0],C=y[1];y=o(!1);var D=y[0],E=y[1];y=function(){A(!1)};var F=o(null),G=F[0],H=F[1];F=function(a){H(a)};function I(a,b){b===void 0&&(b=!1);var c=a.find(function(a){return a.isNewsletter});return c!=null?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebNewsletterForwardConfirmationModal").NewsletterForwardConfirmationModal,{forwardToChat:c,handleConfirm:function(){return J(a,b)}})):J(a,b)}function J(a,b){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=!1);if(z&&B&&!a.some(v)){E(!0);return}var h=a[0],i=d("WAWebForwardMessagesToChat").forwardMessagesToChats(e,a,z)["catch"](d("WAFilteredCatch").filteredCatch(c("WAWebForwardErrorChatAction"),function(a){return u(a.reasons)}))["finally"](function(){return t(G,a)});h.isNewsletter&&(yield i);f();g==null?void 0:g(e);return d("WAWebCmd").Cmd.openChatFromUnread(a[0]).then(function(c){c&&d("WAWebContactGetters").getIsMe(a[0].contact)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(a[0],b)})});return K.apply(this,arguments)}i={msgType:i,hasFrequentlyForwarded:j,hasForwarded:k,onConfirm:I,maxItems:m,excludeChat:a,isDisabled:function(a){return w(a,h)},customItemSecondaryText:x,excludeBroadcast:!0,title:s.title(e.length,h),includeNewsletters:d("WAWebNewsletterGatingUtils").isForwardToNewsletterEnabled(a.id),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,customHeader:l,ephemeralIcon:"chat-list",hasDirtyAppendMsgComposeBox:G!=null&&G!=="",previewComponent:n.jsx(r,{includeCaption:z,handleAppendMessage:F,handleRemoveCaption:y,msgs:e,mediaMsgWithCaption:p})};return n.jsxs(n.Fragment,{children:[n.jsx(d("WAWebSelectModal.react").SelectModal,babelHelpers["extends"]({},i,{tsNavigationData:a.isNewsletter&&d("WAWebNewsletterGatingUtils").isNewsletterTSLEnabled()?{surface:"channel-forward",extras:{channelWid:a.id}}:void 0})),D&&n.jsx(c("WAWebForwardMediaWithCaptionPopupNux.react"),{onOk:function(){C(),E(!1)}})]})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.handleAppendMessage,e=a.handleRemoveCaption,f=a.includeCaption,g=a.mediaMsgWithCaption;a=a.msgs;var h=a.length===1&&d("WAWebMsgGetters").getIsMedia(a[0])&&!a[0].caption;a=a[0];if(d("WAWebFrontendMsgGetters").getChat(a).isNewsletter)return null;if(g)return n.jsx("div",{className:(k||(k=c("stylex")))([p.forwardMediaWithCaptionPreview]),children:n.jsx(c("WAWebForwardMediaWithCaptionPreview"),{msg:g,displayCaptionText:f,onRemoveCaptionSelect:e,onAppendMessage:b})});return h&&d("WAWebForwardMediaWithCaptionsGatingUtils").isAppendMessageWhenForwardingMediaWithoutCaptionEnabled()?n.jsx("div",{className:(k||(k=c("stylex")))([p.forwardMediaWithCaptionPreview]),children:n.jsx(c("WAWebForwardMediaWithCaptionPreview"),{msg:a,displayCaptionText:f,onRemoveCaptionSelect:e,onAppendMessage:b})}):null}r.displayName=r.name+" [from "+f.id+"]";var s={title:function(a,b){return d("WAWebMsgGetters").getIsNewsletterMsg(b)?h._("__JHASH__3SJFCQq0qE-__JHASH__",[h._plural(a)]):h._("__JHASH__IIflRvLsiRu__JHASH__",[h._plural(a)])}};function t(a,c){if(a==null||a==="")return;c=c.map(function(b){return b.isNewsletter?d("WAWebNewsletterSendMsgAction").sendNewsletterTextMsg(b,a,{}):d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a)});return(i||(i=b("Promise"))).all(c)["catch"](function(a){d("WALogger").DEV(m()).devConsole({error:a})})}function u(a){a=a.map(function(a){var b=a.chat;a=a.reason;return n.jsxs("p",{children:[b.formattedTitle," : ",a]},b.id.toString())});d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:a}),void 0)}function v(a){return a instanceof d("WAWebChatModel").Chat&&a.isNewsletter}function w(a,b){return!v(a)?!1:!d("WAWebNewsletterFutureProofUtils").isMsgTypeSupported(b.type)}function x(a,b){if(!b||!v(a))return;return h._("__JHASH__DX3LyTu06T-__JHASH__")}g["default"]=a}),226);